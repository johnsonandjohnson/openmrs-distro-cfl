"use strict";(globalThis.webpackChunk_openmrs_esm_patient_vitals_app=globalThis.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[509],{6646:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx,.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{margin:0 .5rem .5rem 0}.-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-form__button___csqIN{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q{padding:0rem}.-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#ededed}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy{margin:1rem}.-esm-patient-vitals__vitals-biometrics-form__row___jpx5U{margin:.5rem 0rem 0rem;display:flex;flex-flow:row wrap;gap:1rem}.-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy{margin-top:1rem}.-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm{width:100%}.-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv{margin:.5rem 0}.-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P{margin:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/vitals-biometrics-form/vitals-biometrics-form.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,sIC61BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDz1BJ,4DAEE,sBAAA,CAGF,6DACE,aDKO,CCFT,6DACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,6DACE,mBAAA,CACA,qBD3BM,CC8BR,8DACE,YAAA,CAGF,2DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,uFACE,wBAAA,CAGF,sFACE,qBD9CM,CCiDR,2DACE,WAAA,CAGF,0DACE,sBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAGF,6DACE,eAAA,CAGF,gEACE,UAAA,CAGF,wEACE,cAAA,CAGF,qEACE,WAAA",sourceRoot:""}]),s.locals={productiveHeading03:"-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx",title:"-esm-patient-vitals__vitals-biometrics-form__title___QUnD7",danger:"-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK",button:"-esm-patient-vitals__vitals-biometrics-form__button___csqIN",tablet:"-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x",desktop:"-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q",form:"-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp",grid:"-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy",row:"-esm-patient-vitals__vitals-biometrics-form__row___jpx5U",spacer:"-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy",noteInput:"-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm",errorNotification:"-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv",errorContainer:"-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P"};const l=s},8956:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP,.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM,.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno,.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5,.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-input__container___JjP0j{width:11.625rem;border-bottom:1px solid #8d8d8d;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{color:#525252;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{border:none;text-align:center;padding:0;color:#161616}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number input[type="number"]{border:none !important;text-align:center;font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);font-family:ibm plex sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif;min-width:auto !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number--nosteppers input[type="number"]{padding-right:1rem !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H ::placeholder{color:#a8a8a8}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{height:4.875rem;display:flex;justify-content:center;flex-direction:column;text-align:center;color:#525252;background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{outline:2px solid #0f62fe}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input{outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o svg{display:none}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red input{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green input{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow input{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{border:none;text-align:left}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea{border-bottom:none}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea:focus{outline:none}.-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm{display:flex;flex-direction:row;align-items:center;text-align:center;margin:0;padding:0}.-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:.5rem}.-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U{max-width:11rem;color:#da1e28;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__layer___zLTik{width:100%}.-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X{display:flex;justify-content:space-between;align-items:center}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F{outline:2px solid #da1e28}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{border:none}.-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl svg{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after,.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after,.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after,.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after{content:" ↓"}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after{content:" ↓↓"}.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{content:" ↑"}.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after{content:" ↑↑"}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5 .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#ffd7d9;outline:none}.-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{cursor:default}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#f4f4f4}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#fff}',"",{version:3,sources:["webpack://./src/vitals-biometrics-form/vitals-biometrics-input.scss","webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,4HDlDF,gDE61BI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,kIFz1BJ,gDEy1BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,oNFr1BJ,kDEq1BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,iEFj1BJ,eACE,CAAA,+BACA,CAAA,mBGEW,CAAA,6DHEb,aClBU,CAAA,mBEgBG,CAAA,mEHQb,WACE,CAAA,iBAEA,CAAA,SACA,CAAA,aC7BM,CAAA,qGDgCN,sBACE,CAAA,iBACA,CAAA,kDE4zBA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,mGF1zBA,CAAA,yBACA,CAAA,iHAGF,6BACE,CAAA,iFAGF,aC1CQ,CAAA,sED+CV,eAEE,CAAA,YACA,CAAA,sBACA,CAAA,qBACA,CAAA,iBACA,CAAA,aCtDQ,CAAA,wBALF,CAAA,oID+DN,yBACE,CAAA,0IAEA,uBACE,CAAA,oKAGF,YACE,CAAA,wIAGF,YACE,CAAA,kGAKN,qBC/EQ,CAAA,0EDoFN,wBIQO,CAAA,gFJLL,wBIKK,CAAA,4EAAA,wBAxCE,CAAA,kFJ2CP,wBI3CO,CAAA,6EJgDT,wBIsBU,CAAA,mFJpBP,wBIoBO,CAAA,uEJbV,YACE,CAAA,mGAGF,uBACE,CAAA,gEAIJ,WACE,CAAA,eAEA,CAAA,yEAEA,kBACE,CAAA,+EAEA,YACE,CAAA,gEAKN,YACE,CAAA,kBACA,CAAA,kBACA,CAAA,iBACA,CAAA,QACA,CAAA,SACA,CAAA,gEAGF,wDEotBI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,aD71BM,CAAA,gBEgBG,CAAA,yEH+Hb,eACE,CAAA,aCjIO,CAAA,mBECI,CAAA,6DHqIb,UACE,CAAA,sEAGF,YACE,CAAA,6BACA,CAAA,kBACA,CAAA,oEAGF,yBACE,CAAA,kIAEA,WACE,CAAA,4EAKF,aCzJO,CAAA,sED8JT,wBItFS,CAAA,6IJyFL,YACE,CAAA,+IAGF,wBI7FK,CAAA,yKJiGL,YACE,CAAA,gSAOJ,2DE6pBE,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,aD71BM,CAAA,kEDsMV,YACE,CAAA,6EAGF,aACE,CAAA,mEAGF,YACE,CAAA,8EAGF,aACE,CAAA,4NAKE,wBIhIK,CAAA,qSJoID,wBIpIC,CAAA,YJsIC,CAAA,gEAOV,cACE,CAAA,4FAGF,wBIpMU,CAAA,2FJwMV,qBIxHU",sourceRoot:""}]),s.locals={label01:"-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP",label:"-esm-patient-vitals__vitals-biometrics-input__label___whuuP",bodyLong01:"-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM",textarea:"-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte",productiveHeading04:"-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno",inputContainer:"-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5",numberInput:"-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H",container:"-esm-patient-vitals__vitals-biometrics-input__container___JjP0j",focused:"-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o",centered:"-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm",unitName:"-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA",invalidInputError:"-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U",layer:"-esm-patient-vitals__vitals-biometrics-input__layer___zLTik",labelContainer:"-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X",invalidInput:"-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F",invalidInputIcon:"-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl","critical-value":"-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n","critically-low":"-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0","critically-high":"-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8",low:"-esm-patient-vitals__vitals-biometrics-input__low___hxzKT",high:"-esm-patient-vitals__vitals-biometrics-input__high___oxDFD",inputInTabletView:"-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV",inputWithAbnormalValue:"-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi",readonly:"-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit"};const l=s},4509:(e,t,i)=>{i.r(t),i.d(t,{default:()=>X});var n=i(268),a=i.n(n),r=i(3955),s=i(4924),l=i(195),o=i(8883),_=i(5685),c=i(2870),u=i(4556),m=i(537),A=i.n(m);function p(e,t,i){var n=null==e?void 0:e.find((function(e){return e.uuid===t}));return void 0===i||""===i||void 0===n||!A()(null==n?void 0:n.lowAbsolute)||!A()(null==n?void 0:n.hiAbsolute)||Number(i)>=Number(n.lowAbsolute)&&Number(i)<=Number(n.hiAbsolute)}var d=i(9454),v=i(2779),b=i.n(v),g=i(9525),f=i(321),C=i.n(f),h=i(1195),E=i.n(h),y=i(3275),w=i.n(y),B=i(7162),I=i.n(B),x=i(2094),k=i.n(x),U=i(757),D=i.n(U),R=i(8956),P={};P.styleTagTransform=D(),P.setAttributes=I(),P.insert=w().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=k(),C()(R.Z,P);const F=R.Z&&R.Z.locals?R.Z.locals:void 0;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){S(e,t,i[t])}))}return e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,l=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(l)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){var t=e.children;return e.isTablet?a().createElement(_.mh4,{className:F.layer},t," "):a().createElement(n.Fragment,null,t)}const M=function(e){var t,i,l=e.control,o=e.fieldProperties,u=e.fieldStyles,m=e.fieldWidth,A=e.interpretation,p=e.isValueWithinReferenceRange,v=void 0===p||p,f=e.label,C=e.muacColorCode,h=e.placeholder,E=e.readOnly,y=e.showErrorMessage,w=e.unitSymbol,B=e.useMuacColors,I=function(e){J(e)},x=(0,s.useTranslation)().t,k=(0,n.useId)(),U="tablet"===(0,c.useLayoutType)(),D=H((0,n.useState)(!1),2),R=D[0],P=D[1],N=H((0,n.useState)(!1),2),M=N[0],J=N[1],V=!M&&A&&["critically_low","critically_high","high","low"].includes(A),z=Boolean(y&&(!v||R)),j=z?F.invalidInput:"",T=b()(F.container,(S(t={},F.inputInTabletView,U),S(t,F.inputWithAbnormalValue,V),t)),W=b()(F.inputContainer,(S(i={},F["critical-value"],V),S(i,F.focused,M),S(i,F.readonly,E),S(i,C,B),S(i,j,!0),i));return a().createElement(a().Fragment,null,a().createElement("div",{className:T,style:{width:m}},a().createElement("section",{className:F.labelContainer},a().createElement("span",{className:F.label},f),Boolean(V)?a().createElement("span",{className:F[A.replace("_","-")],title:x("abnormalValue","Abnormal value")}):null,z?a().createElement("span",{className:F.invalidInputIcon},a().createElement(g.v3,null)):null),a().createElement("section",{className:W,style:G({},u)},a().createElement("div",{className:F.centered},o.map((function(e){if("number"===e.type){var t=b()(F.numberInput,e.className);return a().createElement(n.Fragment,{key:e.id},a().createElement(q,{isTablet:U},a().createElement(r.Qr,{name:e.id,control:l,render:function(i){var n,r,s=i.field,l=s.onChange,o=s.ref,c=s.value;return a().createElement(_.Y2U,{allowEmpty:!0,className:t,defaultValue:"",disableWheel:!0,hideSteppers:!0,id:"".concat(k,"-").concat(e.id),max:null!==(n=e.max)&&void 0!==n?n:void 0,min:null!==(r=e.min)&&void 0!==r?r:void 0,name:e.name,onBlur:function(){return I(!1)},onChange:function(e){return function(e,t){P(!(Number(e)||""===e)),R||t(""===e?void 0:Number(e))}(e.target.value,l)},onFocus:function(){return I(!0)},placeholder:(0,d.IZ)(e.name),readOnly:E,ref:o,style:G({},u),title:e.name,type:e.type,value:c})}})),null==e?void 0:e.separator)}if("textarea"===e.type)return a().createElement(q,{key:e.id,isTablet:U},a().createElement(r.Qr,{name:e.id,control:l,render:function(t){var i=t.field,n=i.onChange,r=i.ref,s=i.value;return a().createElement(_.Kx8,{className:F.textarea,id:"".concat(k,"-").concat(e.id),labelText:"",maxCount:100,name:e.name,onBlur:function(){return I(!1)},onChange:n,onFocus:function(){return I(!0)},placeholder:h,ref:r,rows:2,style:G({},u),title:e.name,value:s})}}))}))),Boolean(w)&&a().createElement("p",{className:F.unitName},w))),z&&a().createElement(_.lXp,{className:F.invalidInputError},x("validationInputError","Value must be between {{min}} and {{max}}",{min:o[0].min,max:o[0].max})))};var J=i(6646),V={};V.styleTagTransform=D(),V.setAttributes=I(),V.insert=w().bind(null,"head"),V.domAPI=E(),V.insertStyleElement=k(),C()(J.Z,V);const z=J.Z&&J.Z.locals?J.Z.locals:void 0;function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,l=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(l)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=l.z.object({systolicBloodPressure:l.z.number(),diastolicBloodPressure:l.z.number(),respiratoryRate:l.z.number(),oxygenSaturation:l.z.number(),pulse:l.z.number(),temperature:l.z.number(),generalPatientNote:l.z.string(),weight:l.z.number(),height:l.z.number(),midUpperArmCircumference:l.z.number(),computedBodyMassIndex:l.z.number()}).partial().refine((function(e){return Object.values(e).some((function(e){return Boolean(e)}))}),{message:"Please fill at least one field",path:["oneFieldRequired"]});const X=function(e){var t,i,l,m,A,v,b,g,f,C,h,E,y,w,B,I,x,k,U,D,R,P=e.patientUuid,F=e.closeWorkspace,N=(0,s.useTranslation)().t,S="tablet"===(0,c.useLayoutType)(),G=(0,c.useConfig)(),H=G.biometrics,q=G.vitals.useMuacColors,J=(0,c.useSession)(),V=(0,c.usePatient)(P),j=(0,c.useVisit)(P).currentVisit,X=(0,u.useVitalsConceptMetadata)(),Q=X.data,K=X.conceptMetadata,O=X.conceptRanges,Y=X.isLoading,Z=(X.isError,T((0,n.useState)(!1),2)),L=Z[0],$=Z[1],ee=T((0,n.useState)(!1),2),te=ee[0],ie=ee[1],ne=T((0,n.useState)(""),2),ae=ne[0],re=ne[1],se=T((0,n.useState)(!1),2),le=se[0],oe=se[1],_e=T((0,n.useState)(!1),2),ce=_e[0],ue=_e[1],me=(0,r.cI)({mode:"all",resolver:(0,o.F)(W)}),Ae=me.control,pe=me.handleSubmit,de=me.watch,ve=me.setValue,be=null==j||null===(i=j.encounters)||void 0===i||null===(t=i.find((function(e){var t;return(null==e||null===(t=e.form)||void 0===t?void 0:t.uuid)===G.vitals.formUuid})))||void 0===t?void 0:t.uuid,ge=de("midUpperArmCircumference"),fe=de("systolicBloodPressure"),Ce=de("diastolicBloodPressure"),he=de("respiratoryRate"),Ee=de("oxygenSaturation"),ye=de("temperature"),we=de("pulse"),Be=de("weight"),Ie=de("height");(0,n.useEffect)((function(){var e,t,i;!function(e,t,i){switch(!0){case e<=5&&t<=11.5&&t>0:i("red");break;case e<5&&t>11.5&&t<12.5:i("yellow");break;case e<5&&t>12.5:i("green");break;case e>5&&e<10&&t<=13.5&&t>0:i("red");break;case e>5&&e<10&&t>13.5&&t<14.5:i("yellow");break;case e>5&&e<10&&t>14.5:i("green");break;case e>10&&e<18&&t<=16.5&&t>0:i("red");break;case e>10&&e<18&&t>16.5&&t<19:i("yellow");break;case e>10&&e<18&&t>19:i("green");break;case e>18&&t<=19.5&&t>0:i("red");break;case e>18&&t>19&&t<22:i("yellow");break;case e>18&&t>22:i("green")}}((t=(0,c.age)(null===(e=V.patient)||void 0===e?void 0:e.birthDate),i=t.match(/\d+/g),i?parseInt(i[0],10):null),ge,re)}),[de,null===(l=V.patient)||void 0===l?void 0:l.birthDate,ge]),(0,n.useEffect)((function(){if(Ie&&Be){var e=function(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}(Be,Ie);ve("computedBodyMassIndex",e)}}),[Be,Ie,ve]);var xe,ke,Ue,De,Re,Pe,Fe,Ne,Se,Ge=(0,n.useMemo)((function(){return{midUpperArmCircumferenceRange:O.get(G.concepts.midUpperArmCircumferenceUuid),diastolicBloodPressureRange:O.get(G.concepts.diastolicBloodPressureUuid),systolicBloodPressureRange:O.get(G.concepts.systolicBloodPressureUuid),oxygenSaturationRange:O.get(G.concepts.oxygenSaturationUuid),respiratoryRateRange:O.get(G.concepts.respiratoryRateUuid),temperatureRange:O.get(G.concepts.temperatureUuid),weightRange:O.get(G.concepts.weightUuid),heightRange:O.get(G.concepts.heightUuid),pulseRange:O.get(G.concepts.pulseUuid)}}),[O,G.concepts.diastolicBloodPressureUuid,G.concepts.heightUuid,G.concepts.midUpperArmCircumferenceUuid,G.concepts.oxygenSaturationUuid,G.concepts.pulseUuid,G.concepts.respiratoryRateUuid,G.concepts.systolicBloodPressureUuid,G.concepts.temperatureUuid,G.concepts.weightUuid]),He=(0,n.useCallback)((function(e){var t=e;ue(!0),oe(!1),(null==e?void 0:e.computedBodyMassIndex)&&delete e.computedBodyMassIndex;var i=Object.entries(t).filter((function(e){var t=T(e,2)[1];return Boolean(t)})).every((function(e){var t=T(e,2),i=t[0],n=t[1];return p(K,G.concepts["".concat(i,"Uuid")],n)}));if(i){var n;ie(!0),ue(!1);var a=new AbortController;(0,d.F9)(G.vitals.encounterTypeUuid,G.vitals.formUuid,G.concepts,P,t,new Date,a,null==J||null===(n=J.sessionLocation)||void 0===n?void 0:n.uuid).then((function(e){201===e.status&&((0,d.$2)(),F(),(0,c.showToast)({critical:!0,kind:"success",title:N("vitalsAndBiometricsRecorded","Vitals and Biometrics saved"),description:N("vitalsAndBiometricsNowAvailable","They are now visible on the Vitals and Biometrics page")}))})).catch((function(e){ie(!1),(0,c.createErrorHandler)(),(0,c.showNotification)({title:N("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),kind:"error",critical:!0,description:N("checkForValidity","Some of the values entered are invalid")})})).finally((function(){a.abort()}))}else $(!0)}),[]);return G.vitals.useFormEngine?a().createElement(c.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:G.vitals.formUuid,visitUuid:null==j?void 0:j.uuid,visitTypeUuid:null==j||null===(xe=j.visitType)||void 0===xe?void 0:xe.uuid,patientUuid:null!=P?P:null,patient:V,encounterUuid:be,closeWorkspace:F}}):Y?a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null))))),a().createElement(_.uVA,{className:S?z.tablet:z.desktop},a().createElement(_.Db,{className:z.button}),a().createElement(_.Db,{className:z.button,type:"submit"}))):a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{id:"temperature",max:null===(m=Ge.temperatureRange)||void 0===m?void 0:m.highAbsolute,min:null===(A=Ge.temperatureRange)||void 0===A?void 0:A.lowAbsolute,name:N("temperature","Temperature"),type:"number"}],interpretation:ye&&(0,d.wA)(ye,(0,d.tQ)(G.concepts.temperatureUuid,K)),isValueWithinReferenceRange:!ye||p(K,G.concepts.temperatureUuid,ye),showErrorMessage:ce,label:N("temperature","Temperature"),unitSymbol:null!==(ke=Q.get(G.concepts.temperatureUuid))&&void 0!==ke?ke:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("systolic","systolic"),separator:"/",type:"number",min:null===(v=Ge.systolicBloodPressureRange)||void 0===v?void 0:v.lowAbsolute,max:null===(b=Ge.systolicBloodPressureRange)||void 0===b?void 0:b.highAbsolute,id:"systolicBloodPressure"},{name:N("diastolic","diastolic"),type:"number",min:null===(g=Ge.diastolicBloodPressureRange)||void 0===g?void 0:g.lowAbsolute,max:null===(f=Ge.diastolicBloodPressureRange)||void 0===f?void 0:f.highAbsolute,id:"diastolicBloodPressure"}],interpretation:fe&&Ce&&(0,d.WK)(fe,Ce,G.concepts,K),isValueWithinReferenceRange:fe&&Ce&&p(K,G.concepts.systolicBloodPressureUuid,fe)&&p(K,G.concepts.diastolicBloodPressureUuid,Ce),label:N("bloodPressure","Blood pressure"),unitSymbol:null!==(Ue=Q.get(G.concepts.systolicBloodPressureUuid))&&void 0!==Ue?Ue:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("pulse","Pulse"),type:"number",min:null===(C=Ge.pulseRange)||void 0===C?void 0:C.lowAbsolute,max:null===(h=Ge.pulseRange)||void 0===h?void 0:h.highAbsolute,id:"pulse"}],interpretation:we&&(0,d.wA)(we,(0,d.tQ)(G.concepts.pulseUuid,K)),isValueWithinReferenceRange:we&&p(K,G.concepts.pulseUuid,we),label:N("heartRate","Heart rate"),unitSymbol:null!==(De=Q.get(G.concepts.pulseUuid))&&void 0!==De?De:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("respirationRate","Respiration rate"),type:"number",min:null===(E=Ge.respiratoryRateRange)||void 0===E?void 0:E.lowAbsolute,max:null===(y=Ge.respiratoryRateRange)||void 0===y?void 0:y.highAbsolute,id:"respiratoryRate"}],interpretation:he&&(0,d.wA)(he,(0,d.tQ)(G.concepts.respiratoryRateUuid,K)),isValueWithinReferenceRange:he&&p(K,G.concepts.respiratoryRateUuid,he),showErrorMessage:ce,label:N("respirationRate","Respiration rate"),unitSymbol:null!==(Re=Q.get(G.concepts.respiratoryRateUuid))&&void 0!==Re?Re:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("oxygenSaturation","Oxygen saturation"),type:"number",min:null===(w=Ge.oxygenSaturationRange)||void 0===w?void 0:w.lowAbsolute,max:null===(B=Ge.oxygenSaturationRange)||void 0===B?void 0:B.highAbsolute,id:"oxygenSaturation"}],interpretation:Ee&&(0,d.wA)(Ee,(0,d.tQ)(G.concepts.oxygenSaturationUuid,K)),isValueWithinReferenceRange:Ee&&p(K,G.concepts.oxygenSaturationUuid,Ee),showErrorMessage:ce,label:N("spo2","SpO2"),unitSymbol:null!==(Pe=Q.get(G.concepts.oxygenSaturationUuid))&&void 0!==Pe?Pe:""}))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,{className:z.noteInput},a().createElement(M,{control:Ae,fieldWidth:S?"70%":"100%",fieldProperties:[{name:N("notes","Notes"),type:"textarea",id:"generalPatientNote"}],placeholder:N("additionalNoteText","Type any additional notes here"),label:N("notes","Notes")})))),a().createElement(_.Kqy,{className:z.spacer},a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordBiometrics","Record biometrics"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("weight","Weight"),type:"number",min:null===(I=Ge.weightRange)||void 0===I?void 0:I.lowAbsolute,max:null===(x=Ge.weightRange)||void 0===x?void 0:x.highAbsolute,id:"weight"}],interpretation:Be&&(0,d.wA)(Be,(0,d.tQ)(G.concepts.weightUuid,K)),isValueWithinReferenceRange:Ie&&p(K,G.concepts.weightUuid,Be),showErrorMessage:ce,label:N("weight","Weight"),unitSymbol:null!==(Fe=Q.get(G.concepts.weightUuid))&&void 0!==Fe?Fe:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("height","Height"),type:"number",min:null===(k=Ge.heightRange)||void 0===k?void 0:k.lowAbsolute,max:null===(U=Ge.heightRange)||void 0===U?void 0:U.highAbsolute,id:"height"}],interpretation:Ie&&(0,d.wA)(Ie,(0,d.tQ)(G.concepts.heightUuid,K)),isValueWithinReferenceRange:Be&&p(K,G.concepts.heightUuid,Ie),showErrorMessage:ce,label:N("height","Height"),unitSymbol:null!==(Ne=Q.get(G.concepts.heightUuid))&&void 0!==Ne?Ne:""})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("bmi","BMI"),type:"number",id:"computedBodyMassIndex"}],readOnly:!0,label:N("calculatedBmi","BMI (calc.)"),unitSymbol:H.bmiUnit})),a().createElement(_.sgG,null,a().createElement(M,{control:Ae,fieldProperties:[{name:N("muac","MUAC"),type:"number",min:null===(D=Ge.midUpperArmCircumferenceRange)||void 0===D?void 0:D.lowAbsolute,max:null===(R=Ge.midUpperArmCircumferenceRange)||void 0===R?void 0:R.highAbsolute,id:"midUpperArmCircumference"}],muacColorCode:ae,isValueWithinReferenceRange:Ie&&Be&&p(K,G.concepts.midUpperArmCircumferenceUuid,ge),showErrorMessage:ce,label:N("muac","MUAC"),unitSymbol:null!==(Se=Q.get(G.concepts.midUpperArmCircumferenceUuid))&&void 0!==Se?Se:"",useMuacColors:q}))))),le&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{lowContrast:!0,title:N("error","Error"),subtitle:N("pleaseFillField","Please fill at least one field")+".",onClose:function(){return oe(!1)}})),L&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{className:z.errorNotification,lowContrast:!1,title:N("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),subtitle:N("checkForValidity","Some of the values entered are invalid")})),a().createElement(_.uVA,{className:S?z.tablet:z.desktop},a().createElement(_.zxk,{className:z.button,kind:"secondary",onClick:function(){return F()}},N("discard","Discard")),a().createElement(_.zxk,{className:z.button,kind:"primary",onClick:pe(He,(function(e){(null==e?void 0:e.oneFieldRequired)&&oe(!0)})),disabled:te,type:"submit"},N("saveAndClose","Save and close"))))}}}]);