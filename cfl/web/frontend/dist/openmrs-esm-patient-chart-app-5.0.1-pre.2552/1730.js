(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[1730,4566],{8179:(e,t,n)=>{"use strict";n.d(t,{Fd:()=>c,JB:()=>o,S_:()=>i,Yh:()=>a,e1:()=>s,sb:()=>r});var i=window.getOpenmrsSpaBase(),r="/patient/:patientUuid/chart",a="".concat(r,"/:view/*"),o="".concat(window.spaBase).concat(r),s="@openmrs/esm-patient-chart-app",c="patient-chart-workspace-header-slot"},1730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addPastVisitActionButton:()=>S,addPastVisitPatientSearchActionButton:()=>D,cancelVisitActionButton:()=>N,cancelVisitDialog:()=>I,cancelVisitPatientSearchActionButton:()=>T,confirmAliveDialog:()=>q,confirmDeceasedDialog:()=>F,currentVisitSummary:()=>M,deleteEncounterModal:()=>J,encountersSummaryDashboardLink:()=>U,endVisitDialog:()=>x,genericDashboard:()=>E,genericNavGroup:()=>C,importTranslation:()=>h,markPatientAliveActionButton:()=>w,markPatientDeceasedActionButton:()=>O,markPatientDeceasedForm:()=>k,pastVisitsDetailOverview:()=>L,pastVisitsOverview:()=>j,patientDetailsTile:()=>V,patientSummaryDashboardLink:()=>v,root:()=>g,startVisitActionButton:()=>A,startVisitButtonPatientSearch:()=>G,startVisitDialog:()=>R,startVisitForm:()=>B,startupApp:()=>b,stopVisitActionButton:()=>_,stopVisitPatientSearchActionButton:()=>P,visitAttributeTags:()=>W});var i=n(2870),r=n(414),a={visitDiagnosisConceptUuid:{_default:"159947AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_type:i.Type.ConceptUuid},notesConceptUuids:{_type:i.Type.Array,_default:["162169AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]},offlineVisitTypeUuid:{_type:i.Type.UUID,_description:"The UUID of the visit type to be used for the automatically created offline visits.",_default:"a22733fa-3501-4020-a520-da024eeff088"},showRecommendedVisitTypeTab:{_type:i.Type.Boolean,_description:"Whether start visit form should display recommended visit type tab. Requires `visitTypeResourceUrl`",_default:!1},visitTypeResourceUrl:{_type:i.Type.String,_default:"/etl-latest/etl/patient/",_description:"Custom URL to load resources required for showing recommended visit types"},disableEmptyTabs:{_type:i.Type.Boolean,_default:!1,_description:"Disable notes/tests/medications/encounters tabs when empty"},showAllEncountersTab:{_type:i.Type.Boolean,_description:"Shows the All Encounters Tab of Patient Visits section in Patient Chart",_default:!0},visitAttributeTypes:{_type:i.Type.Array,_description:"List of visit attribute types shown when filling the visit form",_elements:{uuid:{_type:i.Type.UUID,_description:"UUID of the visit attribute type"},required:{_type:i.Type.Boolean,_description:"Whether the attribute type field is required or not",_default:!1},displayInThePatientBanner:{_type:i.Type.Boolean,_description:"Whether we should show this visit attribute's value in the patient banner",_default:!0}},_default:[{uuid:"57ea0cbb-064f-4d09-8cf4-e8228700491c",required:!1,displayInThePatientBanner:!0},{uuid:"aac48226-d143-4274-80e0-264db4e368ee",required:!1,displayInThePatientBanner:!0}]},showServiceQueueFields:{_type:i.Type.Boolean,_description:"Whether start visit form should display service queue fields`",_default:!1},visitQueueNumberAttributeUuid:{_type:i.Type.ConceptUuid,_description:"The UUID of the visit attribute that contains the visit queue number.",_default:"c61ce16f-272a-41e7-9924-4c555d0932c5"},defaultFacilityUrl:{_type:i.Type.String,_default:"",_description:"Custom URL to load default facility if it is not in the session"},showUpcomingAppointments:{_type:i.Type.Boolean,_description:"Whether start visit form should display upcoming appointments",_default:!1},logo:{src:{_type:i.Type.String,_default:null,_description:"A path or URL to an image. Defaults to the OpenMRS SVG sprite."},alt:{_type:i.Type.String,_default:"Logo",_description:"Alt text, shown on hover"},name:{_type:i.Type.String,_default:null,_description:"The organization name displayed when image is absent"}},obsConceptUuidsToHide:{_type:i.Type.Array,_elements:{_type:i.Type.ConceptUuid},_description:"An array of concept UUIDs. If an observation has a concept UUID that matches any of the ones in this array, it will be hidden from the observations list in the Encounters summary table.",_default:[]}},o=(i.Type.UUID,n(8179));function s(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e,t;(0,i.setupOfflineSync)(r.visitSyncType,["patient-registration"],(e=function(e,t){var n,r;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:return o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}({},e),s=null!=(s={stopDatetime:new Date})?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(s)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(s,e))})),n=o,[4,(0,i.saveVisit)(n,t.abort).toPromise()];case 1:if(!(r=a.sent()).ok)throw new Error("Failed to synchronize offline visit with the UUID: ".concat(e.uuid,". Error: ").concat(JSON.stringify(r.data)));return[2,r.data]}var o,s}))},t=function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,c,"next",e)}function c(e){s(a,i,r,o,c,"throw",e)}o(void 0)}))},function(e,n){return t.apply(this,arguments)}))}var l=n(9130),d=n(8733);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){f(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var h=n(3979);function b(){u(),(0,i.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/fhir2/R4/Patient/.+"}),(0,i.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/rest/v1/visit.+"}),(0,i.defineConfigSchema)(o.e1,a),(0,i.defineExtensionConfigSchema)("nav-group",d.genericNavGroupConfigSchema),(0,i.defineExtensionConfigSchema)("dashboard",l.genericDashboardConfigSchema),(0,i.registerBreadcrumbs)([{path:o.JB,title:function(){return Promise.resolve(window.i18next.t("patientBreadcrumb",{defaultValue:"Patient",ns:o.e1}))},parent:"".concat(window.spaBase,"/home")},{path:"".concat(o.JB,"/:view"),title:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(i[0],i[1]);return Promise.resolve(window.i18next.t("".concat(decodeURIComponent(r)," dashboard"),{ns:o.e1,defaultValue:"".concat(decodeURIComponent(r)," dashboard")}))},parent:o.JB}]),(0,i.registerFeatureFlag)("rde","Retrospective Data Entry","Features to enter data for past visits. Includes the 'Edit Past Visit' button in the start visit dialog, and the 'Add Past Visit' button in the patient header.")}var g=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(7631),n.e(4583),n.e(4760),n.e(4924),n.e(4350),n.e(8918)]).then(n.bind(n,11))}),{featureName:"patient-chart",moduleName:o.e1}),v=(0,i.getSyncLifecycle)((0,r.createDashboardLink)(y(m({},{slot:"patient-chart-summary-dashboard-slot",columns:4,path:"Patient Summary",title:"Patient Summary"}),{moduleName:o.e1})),{featureName:"summary-dashboard",moduleName:o.e1}),A=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(1522)]).then(n.bind(n,1522))}),{featureName:"patient-actions-slot",moduleName:o.e1}),_=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9469)]).then(n.bind(n,9469))}),{featureName:"patient-actions-slot",moduleName:o.e1}),w=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(443)]).then(n.bind(n,443))}),{featureName:"patient-actions-slot",moduleName:o.e1}),P=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9469)]).then(n.bind(n,9469))}),{featureName:"patient-actions-slot",moduleName:o.e1}),N=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(7244)]).then(n.bind(n,7244))}),{featureName:"patient-actions-slot",moduleName:o.e1}),O=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(5169)]).then(n.bind(n,5169))}),{featureName:"patient-actions-slot-deceased-button",moduleName:o.e1}),T=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(7244)]).then(n.bind(n,7244))}),{featureName:"patient-actions-slot-cancel-visit-button",moduleName:o.e1}),S=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(5485)]).then(n.bind(n,5485))}),{featureName:"patient-actions-slot-add-past-visit-button",moduleName:o.e1}),D=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(5485)]).then(n.bind(n,5485))}),{featureName:"patient-search-actions-slot-add-past-visit-button",moduleName:o.e1}),U=(0,i.getSyncLifecycle)((0,r.createDashboardLink)(y(m({},{slot:"patient-chart-encounters-dashboard-slot",columns:1,path:"Visits",title:"Visits"}),{moduleName:o.e1})),{featureName:"encounter",moduleName:o.e1}),L=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(7631),n.e(9692),n.e(2990),n.e(4924),n.e(4350),n.e(5044),n.e(8889)]).then(n.bind(n,8889))}),{featureName:"visits-detail-slot",moduleName:o.e1}),j=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(7631),n.e(4924),n.e(4350),n.e(5137)]).then(n.bind(n,5137))}),{featureName:"past-visits-overview",moduleName:o.e1}),B=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9692),n.e(9457),n.e(3781),n.e(4924),n.e(4350),n.e(3565),n.e(4714)]).then(n.bind(n,4714))}),{featureName:"start-visit-form",moduleName:o.e1}),k=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9692),n.e(781),n.e(338),n.e(4924),n.e(4350),n.e(3565),n.e(7046)]).then(n.bind(n,7046))}),{featureName:"mark-patient-deceased-form",moduleName:o.e1}),V=(0,i.getAsyncLifecycle)((function(){return n.e(4843).then(n.bind(n,4843))}),{featureName:"patient-details-tile",moduleName:o.e1}),C=(0,i.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,8733))}),{featureName:"Nav group",moduleName:o.e1}),E=(0,i.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,9130))}),{featureName:"Dashboard",moduleName:o.e1}),I=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(6721)]).then(n.bind(n,6721))}),{featureName:"cancel visit",moduleName:o.e1}),R=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(948)]).then(n.bind(n,948))}),{featureName:"start visit",moduleName:o.e1}),x=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9457),n.e(4924),n.e(4350),n.e(6642)]).then(n.bind(n,6642))}),{featureName:"end visit",moduleName:o.e1}),F=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(6579)]).then(n.bind(n,6579))}),{featureName:"confirm death",moduleName:o.e1}),q=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(4202)]).then(n.bind(n,4202))}),{featureName:"confirm alive",moduleName:o.e1}),G=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(6002)]).then(n.bind(n,6002))}),{featureName:"start-visit-button-patient-search",moduleName:o.e1}),W=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4350),n.e(686)]).then(n.bind(n,686))}),{featureName:"visit-attribute-tags",moduleName:o.e1}),J=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(8512)]).then(n.bind(n,8512))}),{featureName:"delete-encounter-modal",moduleName:o.e1}),M=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(7631),n.e(9692),n.e(2990),n.e(4924),n.e(4350),n.e(5044),n.e(8234)]).then(n.bind(n,8234))}),{featureName:"current-visit-summary",moduleName:o.e1})},9130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u,genericDashboardConfigSchema:()=>c});var i=n(268),r=n.n(i),a=n(2870),o=n(8744),s=n(414),c={title:{_description:"The display string for this dashboard",_default:"",_type:a.Type.String},path:{_description:"The URL fragment this link points to",_default:"",_type:a.Type.String},slot:{_description:"The slot that this dashboard config renders",_default:"",_type:a.Type.String},columns:{_default:1,_type:a.Type.Number,_description:"The number of columns that widgets in the dashboard can use to display themselves in. Note that '2' will not necessarily result in a two-column layoutâ€”rather that widgets will be able to occupy either one or both of those columns."}};function u(e){var t=e.basePath,n=(0,a.useConfig)();return r().createElement(o.BrowserRouter,null,r().createElement(s.DashboardExtension,{path:n.path,title:n.title,basePath:t,moduleName:"@openmrs/esm-patient-chart-app"}))}},8733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,genericNavGroupConfigSchema:()=>s});var i=n(268),r=n.n(i),a=n(2870),o=n(414),s={title:{_type:a.Type.String,_description:"The title of the nav group.",_default:"My Group"},slotName:{_type:a.Type.String,_description:"The name of the slot to create, which links can be added to.",_default:"my-group-nav-slot"}};function c(e){var t=e.basePath,n=(0,a.useConfig)();return r().createElement(o.DashboardGroupExtension,{title:n.title,slotName:n.slotName,basePath:t})}},3979:(e,t,n)=>{var i={"./am.json":[8788,8788],"./en.json":[3574,3574],"./es.json":[8319,8319],"./fr.json":[2757,2757],"./he.json":[5833,5833],"./km.json":[7807,7807]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(i),r.id=3979,e.exports=r}}]);