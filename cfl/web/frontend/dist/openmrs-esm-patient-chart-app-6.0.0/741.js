"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[741],{2265:(t,i,e)=>{e.d(i,{Z:()=>m});var n=e(321),s=e.n(n),l=e(1195),r=e.n(l),o=e(3275),a=e.n(o),d=e(7162),c=e.n(d),u=e(2094),v=e.n(u),A=e(757),h=e.n(A),p=e(9850),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=a().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=v(),s()(p.Z,g);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},9850:(t,i,e)=>{e.d(i,{Z:()=>o});var n=e(272),s=e.n(n),l=e(2609),r=e.n(l)()(s());r.push([t.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__start-visit-dialog__header___qFdjw{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-chart__start-visit-dialog__body___VphOU{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/visit/visit-prompt/start-visit-dialog.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wDC81BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD11BJ,sDC01BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA",sourceRoot:""}]),r.locals={header:"-esm-patient-chart__start-visit-dialog__header___qFdjw",body:"-esm-patient-chart__start-visit-dialog__body___VphOU"};const o=r},4455:(t,i,e)=>{e.d(i,{l:()=>a});var n=e(2870),s=e(5968),l=e(4924),r=e(268);function o(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function a(t,i){var e,a,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},u=(0,s.Tn)(t).mutateVisits,v=(0,n.useVisit)(t).mutate,A=(e=(0,r.useState)(!1),a=2,function(t){if(Array.isArray(t))return t}(e)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,l=[],r=!0,o=!1;try{for(e=e.call(t);!(r=(n=e.next()).done)&&(l.push(n.value),!i||l.length!==i);r=!0);}catch(t){o=!0,s=t}finally{try{r||null==e.return||e.return()}finally{if(o)throw s}}return l}}(e,a)||function(t,i){if(t){if("string"==typeof t)return o(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,i):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=A[0],p=A[1],g=(0,l.useTranslation)().t,m=function(){(0,s.rP)(null==i?void 0:i.uuid).then((function(){var t,e;(0,n.showNotification)({title:g("visitRestored","Visit restored"),description:g("visitRestoredSuccessfully","{{visit}} restored successfully",{visit:null!==(e=null==i||null===(t=i.visitType)||void 0===t?void 0:t.display)&&void 0!==e?e:g("visit","Visit")}),kind:"success"}),u(),v(),null==c||c()})).catch((function(){var t,e;(0,n.showNotification)({title:g("visitNotRestored","Visit couldn't be restored"),description:g("errorWhenRestoringVisit","Error occured when restoring {{visit}}",{visit:null!==(e=null==i||null===(t=i.visitType)||void 0===t?void 0:t.display)&&void 0!==e?e:g("visit","Visit")}),kind:"error"})}))};return{initiateDeletingVisit:function(){p(!0);var t=!(null==i?void 0:i.stopDatetime);(0,s.u4)(null==i?void 0:i.uuid).then((function(){var e,s,l,r,o,a;u(),v(),(0,n.showActionableNotification)({title:t?g("visitCancelled","Visit cancelled"):g("visitDeleted","{{visit}} deleted",{visit:null!==(r=null==i||null===(e=i.visitType)||void 0===e?void 0:e.display)&&void 0!==r?r:g("visit","Visit")}),kind:"success",subtitle:t?g("visitCancelSuccessMessage","Active {{visit}} cancelled successfully",{visit:null!==(a=null==i||null===(l=i.visitType)||void 0===l?void 0:l.display)&&void 0!==a?a:g("visit","Visit")}):g("visitDeletedSuccessfully","{{visit}} deleted successfully",{visit:null!==(o=null==i||null===(s=i.visitType)||void 0===s?void 0:s.display)&&void 0!==o?o:g("visit","Visit")}),actionButtonLabel:g("undo","Undo"),onActionButtonClick:m}),null==d||d()})).catch((function(){(0,n.showNotification)({title:t?g("errorCancellingVisit","Error cancelling active visit"):g("errorDeletingVisit","Error deleting visit"),kind:"error",description:g("errorOccuredDeletingVisit","An error occured when deleting visit")})})).finally((function(){p(!1)}))},isDeletingVisit:h}}},4741:(t,i,e)=>{e.r(i),e.d(i,{default:()=>c});var n=e(268),s=e.n(n),l=e(4350),r=e(4924),o=e(2870),a=e(2265),d=e(4455);const c=function(t){var i,e,n=t.closeModal,c=t.patientUuid,u=t.visit,v=(0,r.useTranslation)().t,A=(0,d.l)(c,u,n),h=A.isDeletingVisit,p=A.initiateDeletingVisit;return s().createElement("div",null,s().createElement(l.ModalHeader,{closeModal:n,label:v("visit","Visit"),title:v("deleteVisitDialogHeader","Are you sure you want to delete this visit?")}),s().createElement(l.ModalBody,null,s().createElement("p",{className:a.Z.body},v("confirmDeletingVisitTextWithStartAndEndDate","Are you sure you want to delete {{visit}} which started {{visitStartDate}} and ended {{visitEndDate}}?",{visit:null!==(e=null==u||null===(i=u.visitType)||void 0===i?void 0:i.display)&&void 0!==e?e:v("visit","Visit"),visitStartDate:(0,o.formatDatetime)(new Date(null==u?void 0:u.startDatetime),{mode:"standard"}),visitEndDate:(0,o.formatDatetime)(new Date(null==u?void 0:u.stopDatetime),{mode:"standard"})}),s().createElement("br",null),v("deletingVisitWillDeleteEncounters","Deleting this visit will delete all associated encounters."))),s().createElement(l.ModalFooter,null,s().createElement(l.Button,{kind:"secondary",onClick:n},v("cancel","Cancel")),s().createElement(l.Button,{kind:"danger",onClick:p,disabled:h},h?s().createElement(l.InlineLoading,{description:v("deletingVisit","Deleting visit")}):v("deleteVisit","Delete visit"))))}}}]);