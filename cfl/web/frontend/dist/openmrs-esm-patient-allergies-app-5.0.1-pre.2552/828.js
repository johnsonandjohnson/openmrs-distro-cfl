"use strict";(globalThis.webpackChunk_openmrs_esm_patient_allergies_app=globalThis.webpackChunk_openmrs_esm_patient_allergies_app||[]).push([[828],{7862:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(272),a=n.n(r),i=n(2609),o=n.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-allergies__weight-tile__label___JPI6D{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-allergies__weight-tile__content___r7WKz{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-patient-allergies__weight-tile__value___uxvP5{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../esm-patient-biometrics-app/src/biometrics/weight-tile.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,oDCu0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDr0BH,aAAA,CAGD,sDCk0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDh0BH,aDLS,CCMT,cAAA,CAGD,oDC4zBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA",sourceRoot:""}]),o.locals={label:"-esm-patient-allergies__weight-tile__label___JPI6D",content:"-esm-patient-allergies__weight-tile__content___r7WKz",value:"-esm-patient-allergies__weight-tile__value___uxvP5"};const l=o},2828:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(7900),a=n.n(r),i=n(4924),o=n(3520),l=n(2870),c=n(4556),s=n(3255);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var g=n(1354),m=n.n(g),b=n(1583),v=n.n(b),h=n(7378),f=n.n(h),_=n(5993),y=n.n(_),w=n(4154),D=n.n(w),C=n(8141),O=n.n(C),j=n(7862),P={};P.styleTagTransform=O(),P.setAttributes=y(),P.insert=f().bind(null,"head"),P.domAPI=v(),P.insertStyleElement=D(),m()(j.Z,P);const E=j.Z&&j.Z.locals?j.Z.locals:void 0,S=function(e){var t,n,r=e.patientUuid,g=(0,i.useTranslation)().t,m=(0,l.useConfig)(),b=(0,c.useVitalsConceptMetadata)().data,v=function(e,t){var n,r,a="".concat(l.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=")+Object.values(t).join(",")+"&_summary=data&_sort=-date"+"&_count=".concat(100,"\n  "),i=(0,s.ZP)(a,l.openmrsFetch),o=i.data,c=i.error,g=i.isLoading,m=i.isValidating,b=function(e){switch(e){case t.heightUuid:return"height";case t.weightUuid:return"weight";case t.muacUuid:return"muac"}},v=new Map([]),h=null==o||null===(r=o.data)||void 0===r||null===(n=r.entry)||void 0===n?void 0:n.map((function(e){var t;return null!==(t=e.resource)&&void 0!==t?t:[]})).map((function(e){var t,n,r,a;return{code:null==e||null===(r=e.code)||void 0===r||null===(n=r.coding)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.code,recordedDate:null==e?void 0:e.effectiveDateTime,value:null==e||null===(a=e.valueQuantity)||void 0===a?void 0:a.value}}));return null==h||h.map((function(e){var t=new Date(new Date(e.recordedDate)).toISOString();v.has(t)?v.set(t,p(A({},v.get(t)),d({},b(e.code),e.value))):e.value&&v.set(t,d({},b(e.code),e.value))})),{biometrics:Array.from(v).map((function(e,t){var n,r,a,i,o=(i=2,function(e){if(Array.isArray(e))return e}(a=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(a,i)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1];return p(A({},c),{id:t.toString(),bmi:(n=Number(c.weight),r=Number(c.height),n>0&&r>0?Number((n/Math.pow(r/100,2)).toFixed(1)):null),date:l})})),isError:c,isLoading:g,isValidating:m}}(r,m.concepts),h=v.biometrics,f=v.isLoading,_=null==h?void 0:h.filter((function(e){return e.weight}));return f?a().createElement(o.lSo,{role:"progressbar",description:"".concat(g("loading","Loading")," ...")}):(null==h?void 0:h.length)?a().createElement("div",null,a().createElement("p",{className:E.label},g("weight","Weight")),a().createElement("p",{className:E.content},a().createElement("span",{className:E.value},null==_||null===(t=_[0])||void 0===t?void 0:t.weight)," ",null!==(n=b.get(m.concepts.weightUuid))&&void 0!==n?n:"")):a().createElement("div",null,a().createElement("p",{className:E.label},g("weight","Weight")),a().createElement("p",{className:E.content},"--"))}}}]);