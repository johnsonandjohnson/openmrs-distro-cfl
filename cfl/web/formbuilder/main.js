(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/Services/authentication/authentication.module.ts":
/*!******************************************************************!*\
  !*** ./src/app/Services/authentication/authentication.module.ts ***!
  \******************************************************************/
/*! exports provided: AuthenticationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationModule", function() { return AuthenticationModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authentication.service */ "./src/app/Services/authentication/authentication.service.ts");




var AuthenticationModule = /** @class */ (function () {
    function AuthenticationModule() {
    }
    AuthenticationModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]],
            declarations: [],
            providers: [_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]]
        })
    ], AuthenticationModule);
    return AuthenticationModule;
}());



/***/ }),

/***/ "./src/app/Services/authentication/authentication.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/Services/authentication/authentication.service.ts ***!
  \*******************************************************************/
/*! exports provided: AuthenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return AuthenticationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage/session.service */ "./src/app/Services/storage/session.service.ts");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");






var AuthenticationService = /** @class */ (function () {
    function AuthenticationService(sessionStorageService, sessionService) {
        this.sessionStorageService = sessionStorageService;
        this.sessionService = sessionService;
        this.isLoggedIn = false;
        this.redirectUrl = '';
        this.baseUrl = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]('');
        this.credentials = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]('');
        if (this.sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].CREDENTIALS_KEY) !== null &&
            this.sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].BASE_URL) !== null) {
            this.setCredentialsSubjectEncrypted(this.sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].CREDENTIALS_KEY));
            this.setBaseUrl(this.sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].BASE_URL));
            this.isLoggedIn = true;
        }
    }
    AuthenticationService.prototype.authenticate = function (username, password, baseUrl) {
        var _this = this;
        var credentials = {
            username: username,
            password: password
        };
        var request = this.sessionService.getSession(credentials, baseUrl);
        request.subscribe(function (data) {
            if (data.authenticated) {
                _this.isLoggedIn = true;
                _this.setCredentials(username, password, baseUrl);
                // store logged in user details in session storage
                var user = data.user;
                _this.storeUser(user);
            }
            else {
                _this.isLoggedIn = false;
            }
        });
        return request;
    };
    AuthenticationService.prototype.logOut = function () {
        var _this = this;
        this.isLoggedIn = false;
        var response = this.sessionService.deleteSession();
        response.subscribe(function (res) {
            _this.clearSessionCache();
        }, function (error) {
            _this.clearSessionCache();
        });
        return response;
    };
    AuthenticationService.prototype.clearSessionCache = function () {
        this.clearCredentials();
        this.clearUserDetails();
    };
    AuthenticationService.prototype.setCredentials = function (username, password, baseUrl) {
        var base64 = btoa(username + ':' + password);
        this.sessionStorageService.setItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].CREDENTIALS_KEY, base64);
        this.sessionStorageService.setItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].BASE_URL, baseUrl);
    };
    AuthenticationService.prototype.clearCredentials = function () {
        this.sessionStorageService.remove(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].CREDENTIALS_KEY);
    };
    AuthenticationService.prototype.storeUser = function (user) {
        this.sessionStorageService.setObject(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].USER_KEY, user);
    };
    AuthenticationService.prototype.clearUserDetails = function () {
        this.sessionStorageService.remove(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].USER_KEY);
    };
    AuthenticationService.prototype.setBaseUrl = function (baseUrl) {
        this.baseUrl.next(baseUrl);
    };
    AuthenticationService.prototype.getBaseUrl = function () {
        return this.baseUrl.asObservable();
    };
    AuthenticationService.prototype.setCredentialsSubject = function (username, password) {
        var base64 = btoa(username + ':' + password);
        this.credentials.next(base64);
    };
    AuthenticationService.prototype.setCredentialsSubjectEncrypted = function (base64) {
        this.credentials.next(base64);
    };
    AuthenticationService.prototype.getCredentialsSubject = function () {
        return this.credentials.asObservable();
    };
    AuthenticationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__["SessionStorageService"],
            _storage_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"]])
    ], AuthenticationService);
    return AuthenticationService;
}());



/***/ }),

/***/ "./src/app/Services/constants.ts":
/*!***************************************!*\
  !*** ./src/app/Services/constants.ts ***!
  \***************************************/
/*! exports provided: Constants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Constants", function() { return Constants; });
var Constants = /** @class */ (function () {
    function Constants() {
    }
    Constants.CREDENTIALS_KEY = 'auth.credentials';
    Constants.USER_KEY = 'user';
    Constants.BASE_URL = 'url';
    Constants.SCHEMA = 'schema';
    Constants.RAW_SCHEMA = 'rawSchema';
    Constants.FORM_METADATA = 'formMetadata';
    Constants.TIME_STAMP = 'timestamp'; //  for saving locally
    Constants.COMPONENT = 'component';
    Constants.POC = 'poc';
    Constants.FORM_TYPE = 'formType';
    return Constants;
}());



/***/ }),

/***/ "./src/app/Services/element-editor.service.ts":
/*!****************************************************!*\
  !*** ./src/app/Services/element-editor.service.ts ***!
  \****************************************************/
/*! exports provided: ElementEditorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElementEditorService", function() { return ElementEditorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var ElementEditorService = /** @class */ (function () {
    function ElementEditorService() {
        this.previouslySelectAnswers = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.setMembersSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.reshowSetMembers = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.mappings = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.id = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    ElementEditorService.prototype.reShowAnswersDialog = function (previouslySelected) {
        this.previouslySelectAnswers.next(previouslySelected);
    };
    ElementEditorService.prototype.reselectAnswers = function () {
        return this.previouslySelectAnswers.asObservable();
    };
    ElementEditorService.prototype.setMembers = function (setMembers) {
        this.setMembersSubject.next(setMembers);
    };
    ElementEditorService.prototype.getSetMembers = function () {
        return this.setMembersSubject.asObservable();
    };
    ElementEditorService.prototype.reShowSetMembersDialog = function (setMembers) {
        this.reshowSetMembers.next(setMembers);
    };
    ElementEditorService.prototype.reselectSetMembers = function () {
        return this.reshowSetMembers.asObservable();
    };
    ElementEditorService.prototype.setMappings = function (mappings) {
        this.mappings.next(mappings);
    };
    ElementEditorService.prototype.getMappings = function () {
        return this.mappings;
    };
    ElementEditorService.prototype.setConceptId = function (id) {
        this.id.next(id);
    };
    ElementEditorService.prototype.getConceptId = function () {
        return this.id;
    };
    ElementEditorService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ElementEditorService);
    return ElementEditorService;
}());



/***/ }),

/***/ "./src/app/Services/form-list.service.ts":
/*!***********************************************!*\
  !*** ./src/app/Services/form-list.service.ts ***!
  \***********************************************/
/*! exports provided: FormListService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormListService", function() { return FormListService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);



var FormListService = /** @class */ (function () {
    function FormListService() {
    }
    FormListService.prototype.removeVersionFromFormNames = function (pocForms) {
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](pocForms, function (form) {
            form.display = form.name;
        });
        return pocForms;
    };
    FormListService.prototype.sortFormList = function (unsortArray, sortingMetadataArrays) {
        var _this = this;
        if (!Array.isArray(unsortArray)) {
            throw new Error('unsortedArray must be an array');
        }
        if (!Array.isArray(sortingMetadataArrays)) {
            throw new Error('sortingMetadataArrays must be an array');
        }
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](sortingMetadataArrays, function (array) {
            if (!Array.isArray(array)) {
                throw new Error('Every member of the sortingMetadataArrays  must be an array');
            }
        });
        var sortedArray = [];
        // add items to the list of sorted array by using the metadata provided
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](sortingMetadataArrays, function (sortingMetadata) {
            lodash__WEBPACK_IMPORTED_MODULE_2__["each"](sortingMetadata, function (metadata) {
                var found = _this._findItemByName(metadata.name, unsortArray);
                if (found) {
                    _this._addMemberToArray(found, sortedArray);
                }
            });
        });
        // add missing items that weren't in the sorting metadata
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](unsortArray, function (item) {
            var found = _this._findItemByName(item.name, sortedArray);
            if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](found)) {
                var toAdd = _this._findItemByName(item.name, unsortArray);
                _this._addMemberToArray(toAdd, sortedArray);
            }
        });
        return sortedArray;
    };
    FormListService.prototype.filterPublishedOpenmrsForms = function (unsortArray) {
        if (!Array.isArray(unsortArray)) {
            throw new Error('Input must be an array');
        }
        var publishedOpenmrsForms = [];
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](unsortArray, function (item) {
            if (item.published === true) {
                publishedOpenmrsForms.push(item);
            }
        });
        return publishedOpenmrsForms;
    };
    FormListService.prototype.processFavouriteForms = function (openmrsForms, favouriteForms) {
        var _this = this;
        if (!Array.isArray(openmrsForms)) {
            throw new Error('unsortedArray must be an array');
        }
        if (!Array.isArray(favouriteForms)) {
            throw new Error('favourite must be an array');
        }
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](openmrsForms, function (form) {
            if (_this._findItemByName(form.name, favouriteForms)) {
                form.favourite = true;
            }
            else {
                form.favourite = false;
            }
        });
        return openmrsForms;
    };
    FormListService.prototype.removeVersionInformationFromForms = function (formsArray) {
        var _this = this;
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](formsArray, function (form) {
            form.display = lodash__WEBPACK_IMPORTED_MODULE_2__["clone"](form.name);
            form.name = _this.removeVersionInformation(form.name);
        });
        return formsArray;
    };
    FormListService.prototype.removeVersionInformation = function (formName) {
        if (typeof formName !== 'string') {
            throw new Error('formName should be a string');
        }
        var trimmed = formName.trim();
        // minimum form length is 5 characters
        if (trimmed.length < 5) {
            return trimmed;
        }
        var lastFiveCharacters = trimmed.substr(trimmed.length - 5);
        var indexOfV = lastFiveCharacters.search('v') === -1
            ? lastFiveCharacters.search('V')
            : lastFiveCharacters.search('v');
        if (indexOfV === -1 || indexOfV === lastFiveCharacters.length - 1) {
            return trimmed;
        }
        if (this._isVersionInformation(lastFiveCharacters.substr(indexOfV, lastFiveCharacters.length - indexOfV))) {
            return trimmed.substr(0, trimmed.length - (5 - indexOfV)).trim();
        }
        return trimmed;
    };
    FormListService.prototype._getFormList = function (pocForms, formOrderArray) {
        // first filter out unpublished forms
        var effectiveForms = this.removeVersionInformationFromForms(pocForms);
        var publishedForms = this.filterPublishedOpenmrsForms(effectiveForms);
        var sortedList = this.sortFormList(publishedForms, formOrderArray);
        return sortedList;
    };
    FormListService.prototype._isVersionInformation = function (subString) {
        if (subString.length < 2) {
            return false;
        }
        if (subString.substr(0, 1) !== 'v' && subString.substr(0, 1) !== 'V') {
            return false;
        }
        if (!this._isNumeric(subString.substr(1, 1))) {
            return false;
        }
        return true;
    };
    FormListService.prototype._isNumeric = function (str) {
        return /^\d+$/.test(str);
    };
    FormListService.prototype._findItemByName = function (name, array) {
        var foundItems = [];
        // tslint:disable-next-line:prefer-for-of
        for (var i = 0; i < array.length; i++) {
            // TODO: find a way to compare strings by first eliminating the spaces
            if (array[i] && name === array[i].name) {
                foundItems.push(array[i]);
            }
        }
        return foundItems.length === 0
            ? undefined
            : foundItems.length === 1
                ? foundItems[0]
                : foundItems;
    };
    FormListService.prototype._findItemByUuid = function (uuid, array) {
        var foundItems = [];
        // tslint:disable-next-line:prefer-for-of
        for (var i = 0; i < array.length; i++) {
            // TODO: find a way to compare strings by first eliminating the spaces
            if (array[i] && uuid === array[i].uuid) {
                foundItems.push(array[i]);
            }
        }
        return foundItems.length === 0
            ? undefined
            : foundItems.length === 1
                ? foundItems[0]
                : foundItems;
    };
    FormListService.prototype._arrayHasMember = function (member, array) {
        return array.indexOf(member) !== -1;
    };
    FormListService.prototype._addMemberToArray = function (member, array) {
        var _this = this;
        if (Array.isArray(member)) {
            // add individual members to array
            lodash__WEBPACK_IMPORTED_MODULE_2__["each"](member, function (item) {
                _this._addMemberToArray(item, array);
            });
        }
        else {
            if (member && !this._arrayHasMember(member, array)) {
                array.push(member);
            }
        }
    };
    FormListService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FormListService);
    return FormListService;
}());



/***/ }),

/***/ "./src/app/Services/http-interceptor.service.ts":
/*!******************************************************!*\
  !*** ./src/app/Services/http-interceptor.service.ts ***!
  \******************************************************/
/*! exports provided: FormBuilderHttpInteceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormBuilderHttpInteceptor", function() { return FormBuilderHttpInteceptor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");







var FormBuilderHttpInteceptor = /** @class */ (function () {
    function FormBuilderHttpInteceptor(sessionStorageService) {
        this.sessionStorageService = sessionStorageService;
    }
    FormBuilderHttpInteceptor.prototype.intercept = function (req, next) {
        var credentials = this.sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_5__["Constants"].CREDENTIALS_KEY);
        var modifiedReq = req;
        if (credentials) {
            var authHeader = { Authorization: 'Basic ' + credentials };
            modifiedReq = req.clone({ setHeaders: authHeader });
        }
        return next.handle(modifiedReq).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(function (event) {
            if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpResponse"]) {
                // do stuff with response here
            }
        }, function (err) {
            if (err instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"]) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(err);
            }
        }));
    };
    FormBuilderHttpInteceptor = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_6__["SessionStorageService"]])
    ], FormBuilderHttpInteceptor);
    return FormBuilderHttpInteceptor;
}());



/***/ }),

/***/ "./src/app/Services/navigator.service.ts":
/*!***********************************************!*\
  !*** ./src/app/Services/navigator.service.ts ***!
  \***********************************************/
/*! exports provided: NavigatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorService", function() { return NavigatorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var NavigatorService = /** @class */ (function () {
    function NavigatorService() {
        this.schemaEditorSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.rawSchemaEditorSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.schemaSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.questionSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.rawSchemaSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({});
        this.excludedQuestionsSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('');
        this.prechecked = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('');
    }
    NavigatorService.prototype.setClickedElementSchema = function (schema) {
        this.schemaEditorSubject.next(schema);
    };
    NavigatorService.prototype.getClickedElementSchema = function () {
        return this.schemaEditorSubject.asObservable();
    };
    NavigatorService.prototype.setClickedElementRawSchema = function (rawSchema) {
        this.rawSchemaEditorSubject.next(rawSchema);
    };
    NavigatorService.prototype.getClickedElementRawSchema = function () {
        return this.rawSchemaEditorSubject.asObservable();
    };
    NavigatorService.prototype.setSchema = function (schema) {
        this.schema = schema;
        this.schemaSubject.next(schema);
    };
    NavigatorService.prototype.getSchema = function () {
        return this.schemaSubject.asObservable();
    };
    NavigatorService.prototype.newQuestion = function (propModelArray, pageIndex, sectionIndex, questionIndex, parentQuestionIndex, schema) {
        if (questionIndex !== undefined) {
            console.log('ObsGroup Question!');
        }
        var question = {};
        question['propModelArray'] = propModelArray;
        question['pageIndex'] = pageIndex;
        question['sectionIndex'] = sectionIndex;
        question['questionIndex'] = questionIndex;
        question['parentQuestionIndex'] = parentQuestionIndex || -1;
        question['schema'] = schema;
        this.questionSubject.next(question);
    };
    NavigatorService.prototype.getNewQuestion = function () {
        return this.questionSubject.asObservable();
    };
    NavigatorService.prototype.setRawSchema = function (rawSchema) {
        this.rawSchema = rawSchema;
        this.rawSchemaSubject.next(rawSchema);
    };
    NavigatorService.prototype.getRawSchema = function () {
        return this.rawSchemaSubject.asObservable();
    };
    //  addToRawSchema(options:{},pageIndex?:number){
    //   let obj = this.rawSchemaSubject.getValue();
    //    if (pageIndex === undefined) {
    //     obj['pages'].push(options);
    //     this.setRawSchema(obj);
    //    }
    //    else{
    //     obj['pages'][pageIndex].sections.push(options)
    //     this.setRawSchema(obj)
    //    }}
    NavigatorService.prototype.setExcludedQuestions = function (questionIDs) {
        this.excludedQuestionsSubject.next(questionIDs);
    };
    NavigatorService.prototype.getExcludedQuestions = function () {
        return this.excludedQuestionsSubject.asObservable();
    };
    NavigatorService.prototype.setPrechecked = function (label) {
        this.prechecked.next(label);
    };
    NavigatorService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], NavigatorService);
    return NavigatorService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/concept.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/Services/openmrs-api/concept.service.ts ***!
  \*********************************************************/
/*! exports provided: ConceptService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConceptService", function() { return ConceptService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");








var ConceptService = /** @class */ (function () {
    function ConceptService(http, sessionStorageService) {
        this.http = http;
        this.sessionStorageService = sessionStorageService;
        this.data = {};
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_7__["HttpHeaders"]();
        this.baseUrl = '';
        var credentials = sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_5__["Constants"].CREDENTIALS_KEY);
        this.baseUrl = sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_5__["Constants"].BASE_URL);
        this.headers.append('Content-Type', 'application/json');
    }
    ConceptService.prototype.searchConceptByName = function (conceptID) {
        // searching with concept display
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/concept?q=" + conceptID + "&v=full", {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
            alert(error.message);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(error.json());
        }));
    };
    ConceptService.prototype.searchConceptByUUID = function (conceptUUID) {
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/concept/" + conceptUUID + "?v=full", {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
            console.error(error.status);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(error.json());
        }));
    };
    ConceptService.prototype.validateConcepts = function (conceptUuids) {
        var _this = this;
        var observablesArray = [];
        lodash__WEBPACK_IMPORTED_MODULE_6__["each"](conceptUuids, function (conceptUuid) {
            observablesArray.push(_this.searchConceptByUUID(conceptUuid).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (concept) {
                return { conceptUuid: concept.uuid, valid: true };
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
                return [{ conceptUuid: conceptUuid, valid: false }];
            })));
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])(observablesArray);
    };
    ConceptService.prototype.createMappingsValue = function (mappings) {
        var props = [];
        lodash__WEBPACK_IMPORTED_MODULE_6__["forEach"](mappings, function (mapping) {
            var type = mapping.display.substring(0, mapping.display.indexOf(':'));
            var value = mapping.display.substring(mapping.display.indexOf(' ') + 1);
            props.push({ type: type, value: value });
        });
        return props;
    };
    ConceptService.prototype.getConceptID = function (conceptUuid) {
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/concept/" + conceptUuid)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
            console.error(error.status);
            console.log(error);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(error);
        }));
    };
    ConceptService.prototype.getAllConcepts = function () {
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/concept?v=full", {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
            console.error(error.status);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(error.json());
        }));
    };
    ConceptService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__["HttpClient"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__["SessionStorageService"]])
    ], ConceptService);
    return ConceptService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/encounter-type.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/Services/openmrs-api/encounter-type.service.ts ***!
  \****************************************************************/
/*! exports provided: EncounterTypeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterTypeService", function() { return EncounterTypeService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");





var EncounterTypeService = /** @class */ (function () {
    function EncounterTypeService(http, sessionStorageService) {
        this.http = http;
        this.sessionStorageService = sessionStorageService;
        this.baseUrl = sessionStorage.getItem(_constants__WEBPACK_IMPORTED_MODULE_3__["Constants"].BASE_URL);
    }
    EncounterTypeService.prototype.getEncounterTypes = function () {
        return this.http.get(this.baseUrl + "/ws/rest/v1/encountertype");
    };
    EncounterTypeService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_2__["SessionStorageService"]])
    ], EncounterTypeService);
    return EncounterTypeService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/encounters.service.ts":
/*!************************************************************!*\
  !*** ./src/app/Services/openmrs-api/encounters.service.ts ***!
  \************************************************************/
/*! exports provided: EncounterService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterService", function() { return EncounterService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");






var EncounterService = /** @class */ (function () {
    function EncounterService(http, sessionStorageService) {
        this.http = http;
        this.sessionStorageService = sessionStorageService;
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpHeaders"]();
        this.baseUrl = sessionStorage.getItem(_constants__WEBPACK_IMPORTED_MODULE_4__["Constants"].BASE_URL);
        this.restUrl = this.baseUrl + '/ws/rest/v1/encounter';
        this.headers.append('Content-Type', 'application/json');
    }
    EncounterService.prototype.getEncounterByUuid = function (encounterUuid) {
        var v = 'custom:(uuid,encounterDatetime,' +
            'patient:(uuid,uuid,identifiers),form:(uuid,name),' +
            'visit:(uuid,visitType,display,startDatetime,stopDatetime),' +
            'location:ref,encounterType:ref,encounterProviders,orders:full,' +
            'obs:(uuid,obsDatetime,concept:(uuid,uuid,name:(display)),value:ref,groupMembers))';
        if (!encounterUuid) {
            return null;
        }
        return this.http.get(this.restUrl + "/" + encounterUuid + "?v=" + v, {
            headers: this.headers
        });
    };
    EncounterService.prototype.getEncountersByPatientUuid = function (patientUuid) {
        if (!patientUuid) {
            return null;
        }
        var params = new URLSearchParams();
        params.set('patient', patientUuid);
        return this.http
            .get(this.restUrl + '?patient=' + patientUuid, {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (response) { return response.results; }));
    };
    EncounterService.prototype.saveEncounter = function (payload) {
        if (!payload) {
            return null;
        }
        return this.http.post(this.restUrl, JSON.stringify(payload), {
            headers: this.headers
        });
    };
    EncounterService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__["SessionStorageService"]])
    ], EncounterService);
    return EncounterService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts":
/*!*****************************************************************!*\
  !*** ./src/app/Services/openmrs-api/fetch-all-forms.service.ts ***!
  \*****************************************************************/
/*! exports provided: FetchAllFormsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FetchAllFormsService", function() { return FetchAllFormsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _storage_local_storage_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../storage/local-storage.service */ "./src/app/Services/storage/local-storage.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");










var FetchAllFormsService = /** @class */ (function () {
    function FetchAllFormsService(http, sessionStorageService, localStorageService, router, authenticationService, fetchFormDetailService) {
        var _this = this;
        this.http = http;
        this.sessionStorageService = sessionStorageService;
        this.localStorageService = localStorageService;
        this.router = router;
        this.authenticationService = authenticationService;
        this.fetchFormDetailService = fetchFormDetailService;
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpHeaders"]();
        this.forms = {};
        this.formType = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"]('');
        this.resaveAllPOCSchemasToLocalStorage = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](false);
        this.allPOCFormsSchemas = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](localStorageService.getObject('POC_FORM_SCHEMAS'));
        authenticationService
            .getBaseUrl()
            .subscribe(function (baseUrl) { return (_this.baseUrl = baseUrl); });
        this.headers.append('Content-Type', 'application/json');
    }
    FetchAllFormsService.prototype.fetchAllPOCForms = function () {
        var _this = this;
        var v = 'custom:(uuid,name,encounterType:(uuid,name),version,published,resources:(uuid,name,dataType,valueReference))';
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/form?q=POC&v=" + v, {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (e) {
            if (e.status === 0) {
                alert('Please check that you have internet connection and CORS is turned on then refresh.');
            }
            else if (e.status === 403) {
                _this.router.navigate(['/login']);
            }
            return e;
        }));
    };
    FetchAllFormsService.prototype.fetchAllComponentForms = function () {
        var _this = this;
        var v = 'custom:(uuid,name,encounterType:(uuid,name),version,published,resources:(uuid,name,dataType,valueReference)';
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/form?q=Component&v=" + v + ")", {
            headers: this.headers
        })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (e) {
            if (e.status === 0) {
                alert('Please check that you have internet connection and CORS is turned on then refresh.');
            }
            else if (e.status === 403) {
                _this.router.navigate(['/login']);
            }
            return e;
        }));
    };
    FetchAllFormsService.prototype.setFormType = function (form) {
        this.formType.next(form);
    };
    FetchAllFormsService.prototype.getFormType = function () {
        return this.formType;
    };
    FetchAllFormsService.prototype.setPOCFormSchemas = function (schemas) {
        this.allPOCFormsSchemas.next(schemas);
    };
    FetchAllFormsService.prototype.getPOCFormSchemas = function () {
        return this.allPOCFormsSchemas;
    };
    FetchAllFormsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClient"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_5__["SessionStorageService"],
            _storage_local_storage_service__WEBPACK_IMPORTED_MODULE_7__["LocalStorageService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"],
            _openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__["FetchFormDetailService"]])
    ], FetchAllFormsService);
    return FetchAllFormsService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/Services/openmrs-api/fetch-form-detail.service.ts ***!
  \*******************************************************************/
/*! exports provided: FetchFormDetailService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FetchFormDetailService", function() { return FetchFormDetailService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _schema_compiler_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../schema-compiler.service */ "./src/app/Services/schema-compiler.service.ts");
/* harmony import */ var _navigator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");











var FetchFormDetailService = /** @class */ (function () {
    function FetchFormDetailService(http, fsc, router, ns, sessionStorageService, auth) {
        var _this = this;
        this.http = http;
        this.fsc = fsc;
        this.router = router;
        this.ns = ns;
        this.sessionStorageService = sessionStorageService;
        this.auth = auth;
        this.schema = {};
        this.referencedForms = [];
        this._rawSchema = {};
        this.referencedFormsSchemasSubject = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]);
        this.referencedFormsDetailsSubject = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]); // formName,alias,uuid
        this.baseUrl = '';
        this.formEditorLoaded = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](false);
        this.credentials = sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_7__["Constants"].CREDENTIALS_KEY);
        auth.getBaseUrl().subscribe(function (baseUrl) { return (_this.baseUrl = baseUrl); });
        // this.headers.append( 'Content-Type', 'application/json');
    }
    FetchFormDetailService.prototype.fetchFormMetadata = function (uuid, isComponent) {
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/form/" + uuid + "?v=full")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            console.log('Error:' + error);
            return error;
        }))
            .toPromise();
    };
    FetchFormDetailService.prototype.fetchForm = function (valueReference, isReferenceForm) {
        var _this = this;
        return this.http
            .get(this.baseUrl + "/ws/rest/v1/clobdata/" + valueReference)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (res) {
            if (!isReferenceForm) {
                _this._rawSchema = res;
            }
            if (res.referencedForms && !isReferenceForm) {
                _this.setReferencedFormsDetails(res.referencedForms);
                return _this.fetchReferencedFormSchemas(res.referencedForms).then(function (referencedForms) {
                    _this.referencedFormsSchemasSubject = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](referencedForms);
                    return _this.fsc.compileFormSchema(res, referencedForms);
                });
            }
            else {
                return res;
            }
        }))
            .toPromise();
    };
    FetchFormDetailService.prototype.fetchReferencedFormSchemas = function (referencedForms) {
        var _this = this;
        var apiCalls = [];
        referencedForms.forEach(function (form) {
            apiCalls.push(_this.fetchFormMetadata(form.ref.uuid, true).then(function (res) {
                return _this.fetchForm(res.resources[0].valueReference, true);
            }));
        });
        return Promise.all(apiCalls);
    };
    Object.defineProperty(FetchFormDetailService.prototype, "rawSchema", {
        get: function () {
            return this._rawSchema;
        },
        enumerable: true,
        configurable: true
    });
    FetchFormDetailService.prototype.setReferencedFormsSchemasArray = function (array) {
        this.referencedFormsSchemasSubject.next(array);
    };
    FetchFormDetailService.prototype.getReferencedFormsSchemasArray = function () {
        return this.referencedFormsSchemasSubject.asObservable();
    };
    FetchFormDetailService.prototype.getReferencedFormsDetails = function () {
        return this.referencedFormsDetailsSubject.asObservable();
    };
    FetchFormDetailService.prototype.setReferencedFormsDetails = function (formDits) {
        // formName,alias,uuid
        this.referencedFormsDetailsSubject.next(formDits);
    };
    FetchFormDetailService.prototype.setLoaded = function (bool) {
        this.formEditorLoaded.next(true);
    };
    FetchFormDetailService.prototype.loaded = function () {
        return this.formEditorLoaded.asObservable();
    };
    FetchFormDetailService.prototype.restoreReferencedForms = function (schema) {
        var _this = this;
        if (schema.referencedForms) {
            this.setReferencedFormsDetails(schema.referencedForms);
            return this.fetchReferencedFormSchemas(schema.referencedForms).then(function (referencedForms) {
                _this.referencedFormsSchemasSubject = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](referencedForms);
            });
        }
    };
    FetchFormDetailService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_10__["HttpClient"],
            _schema_compiler_service__WEBPACK_IMPORTED_MODULE_4__["FormSchemaCompiler"],
            _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"],
            _navigator_service__WEBPACK_IMPORTED_MODULE_5__["NavigatorService"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_6__["SessionStorageService"],
            _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_9__["AuthenticationService"]])
    ], FetchFormDetailService);
    return FetchFormDetailService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/location-resource.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/Services/openmrs-api/location-resource.service.ts ***!
  \*******************************************************************/
/*! exports provided: LocationResourceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationResourceService", function() { return LocationResourceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");






var LocationResourceService = /** @class */ (function () {
    function LocationResourceService(http, auth, sessionStorageService) {
        var _this = this;
        this.http = http;
        this.auth = auth;
        this.sessionStorageService = sessionStorageService;
        this.rest_endpoint = '/ws/rest/v1/location';
        auth.getBaseUrl().subscribe(function (baseUrl) {
            _this.baseUrl = baseUrl;
            _this.rest_url = _this.baseUrl + _this.rest_endpoint;
        });
    }
    LocationResourceService.prototype.getAllLocations = function () {
        return this.http.get(this.rest_url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            console.error(error);
            return error;
        }));
    };
    LocationResourceService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"],
            _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_3__["SessionStorageService"]])
    ], LocationResourceService);
    return LocationResourceService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/patient-resource.service.ts":
/*!******************************************************************!*\
  !*** ./src/app/Services/openmrs-api/patient-resource.service.ts ***!
  \******************************************************************/
/*! exports provided: PatientResourceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PatientResourceService", function() { return PatientResourceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");







var PatientResourceService = /** @class */ (function () {
    function PatientResourceService(http, auth, sessionStorageService) {
        var _this = this;
        this.http = http;
        this.auth = auth;
        this.sessionStorageService = sessionStorageService;
        this.rest_endpoint = '/ws/rest/v1/patient';
        this.credentials = sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_3__["Constants"].CREDENTIALS_KEY);
        auth.getBaseUrl().subscribe(function (baseUrl) {
            _this.baseUrl = baseUrl;
            _this.rest_url = _this.baseUrl + _this.rest_endpoint;
        });
    }
    PatientResourceService.prototype.searchPatientByName = function (name) {
        var url = this.rest_url + "?q=" + name;
        return this.http.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            console.error(error);
            return error;
        }));
    };
    PatientResourceService.prototype.searchPatientByUuid = function (uuid) {
        var url = this.rest_url + "/" + uuid;
        return this.http.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            console.log(error);
            return error;
        }));
    };
    PatientResourceService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClient"],
            _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__["SessionStorageService"]])
    ], PatientResourceService);
    return PatientResourceService;
}());



/***/ }),

/***/ "./src/app/Services/openmrs-api/save-form.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/Services/openmrs-api/save-form.service.ts ***!
  \***********************************************************/
/*! exports provided: SaveFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveFormService", function() { return SaveFormService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");
/* harmony import */ var rxjs_Rx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/Rx */ "./node_modules/rxjs-compat/_esm5/Rx.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");








var SaveFormService = /** @class */ (function () {
    function SaveFormService(http, sessionStorageService) {
        this.http = http;
        this.sessionStorageService = sessionStorageService;
        this.data = {};
        this.headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_7__["HttpHeaders"]();
        this.baseUrl = '';
        this.newValueReference = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.newResourceUUID = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.newUUID = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.formName = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.newVersion = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.newDescription = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.newEncounterType = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.baseUrl = sessionStorageService.getItem(_constants__WEBPACK_IMPORTED_MODULE_5__["Constants"].BASE_URL);
        this.headers.append('Content-Type', 'application/json');
    }
    SaveFormService.prototype.deleteClobData = function (valueReference) {
        return this.http
            .delete(this.baseUrl + "/ws/rest/v1/clobdata/" + valueReference, {
            headers: this.headers
        })
            .toPromise();
    };
    SaveFormService.prototype.deleteResource = function (formUUID, resourceUUID) {
        return this.http
            .delete(this.baseUrl + "/ws/rest/v1/form/" + formUUID + "/resource/" + resourceUUID, { headers: this.headers })
            .toPromise();
    };
    // returns the new value reference
    SaveFormService.prototype.uploadSchema = function (schema) {
        var schemaBlob = new Blob([JSON.stringify(schema)], {
            type: 'application/json'
        });
        var body = new FormData();
        body.append('file', schemaBlob);
        return this.http.post(this.baseUrl + "/ws/rest/v1/clobdata", body, {
            headers: this.headers,
            responseType: 'text'
        });
    };
    // returns the new resource uuid
    SaveFormService.prototype.getResourceUUID = function (formUUID, valueReference) {
        var body = {
            name: 'JSON schema',
            dataType: 'AmpathJsonSchema',
            valueReference: valueReference
        };
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + formUUID + "/resource", body, { headers: this.headers, responseType: 'text' });
    };
    // called when creating a new form/new version of a form. Returns new formUuid and valueReference. after this call getResourceUUID
    SaveFormService.prototype.saveNewForm = function (name, version, published, description, encounterType) {
        var body = {
            name: name,
            version: version,
            published: published || false,
            description: description || ''
        };
        if (encounterType) {
            body['encounterType'] = encounterType;
        }
        return this.http
            .post(this.baseUrl + "/ws/rest/v1/form", body, { headers: this.headers })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (res) { return JSON.parse(JSON.stringify(res)); }));
    };
    //////////// get and set new resource uuid and valueReference ////////
    SaveFormService.prototype.setNewValueReference = function (valueReference) {
        this.newValueReference.next(valueReference);
    };
    SaveFormService.prototype.getNewValueReference = function () {
        return this.newValueReference.asObservable();
    };
    SaveFormService.prototype.setNewResourceUUID = function (newResourceUUID) {
        this.newResourceUUID.next(newResourceUUID);
    };
    SaveFormService.prototype.getNewResourceUUID = function () {
        return this.newResourceUUID.asObservable();
    };
    SaveFormService.prototype.getNewEncounterType = function () {
        return this.newEncounterType.asObservable();
    };
    SaveFormService.prototype.setNewFormUUID = function (newUUID) {
        this.newUUID.next(newUUID);
    };
    SaveFormService.prototype.getNewFormUUID = function () {
        return this.newUUID.asObservable();
    };
    SaveFormService.prototype.setNewFormName = function (name) {
        return this.formName.next(name);
    };
    SaveFormService.prototype.getNewFormName = function () {
        return this.formName.asObservable();
    };
    SaveFormService.prototype.setNewVersion = function (version) {
        return this.newVersion.next(version);
    };
    SaveFormService.prototype.getNewVersion = function () {
        return this.newVersion.asObservable();
    };
    SaveFormService.prototype.setNewDescription = function (description) {
        return this.newDescription.next(description);
    };
    SaveFormService.prototype.getNewDescription = function () {
        return this.newDescription.asObservable();
    };
    SaveFormService.prototype.publish = function (uuid) {
        var body = { published: true };
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + uuid, body, {
            headers: this.headers
        });
    };
    SaveFormService.prototype.unpublish = function (uuid) {
        var body = { published: false };
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + uuid, body, {
            headers: this.headers
        });
    };
    SaveFormService.prototype.updateName = function (name, uuid) {
        var body = { name: name };
        this.setNewFormName(name);
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + uuid, body, {
            headers: this.headers
        });
    };
    SaveFormService.prototype.updateVersion = function (version, uuid) {
        var body = { version: version };
        this.setNewVersion(version);
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + uuid, body, {
            headers: this.headers
        });
    };
    SaveFormService.prototype.updateDescription = function (description, uuid) {
        var body = { description: description };
        this.setNewDescription(description);
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + uuid, body, {
            headers: this.headers
        });
    };
    SaveFormService.prototype.updateEncounterType = function (encounterType, formUuid) {
        var body = { encounterType: encounterType.uuid };
        this.newEncounterType.next(encounterType.display);
        return this.http.post(this.baseUrl + "/ws/rest/v1/form/" + formUuid, body, {
            headers: this.headers
        });
    };
    SaveFormService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__["HttpClient"],
            _storage_session_storage_service__WEBPACK_IMPORTED_MODULE_4__["SessionStorageService"]])
    ], SaveFormService);
    return SaveFormService;
}());



/***/ }),

/***/ "./src/app/Services/question-control.service.ts":
/*!******************************************************!*\
  !*** ./src/app/Services/question-control.service.ts ***!
  \******************************************************/
/*! exports provided: QuestionControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionControlService", function() { return QuestionControlService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _form_editor_models_property_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../form-editor/models/property-factory */ "./src/app/form-editor/models/property-factory.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _form_editor_models_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../form-editor/models/properties */ "./src/app/form-editor/models/properties.ts");





var QuestionControlService = /** @class */ (function () {
    function QuestionControlService(propertyFactory, fb) {
        this.propertyFactory = propertyFactory;
        this.fb = fb;
        this.propertyModels = [];
        this.properties = new _form_editor_models_properties__WEBPACK_IMPORTED_MODULE_4__["Properties"]();
    }
    QuestionControlService.prototype.toFormGroup = function (questions) {
        var group = {};
        questions.forEach(function (question) {
            group[question.key] = question.required
                ? new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](question.value || '', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required)
                : new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](question.value || '');
        });
        return this.fb.group(group);
    };
    QuestionControlService.prototype.toPropertyModelArray = function (schema) {
        this.propertyModels = [];
        var flattenedSchema = this.flatten(schema);
        // TODO: Replace with for...of
        for (var prop in flattenedSchema) {
            if (flattenedSchema.hasOwnProperty(prop)) {
                this.createFields(prop, flattenedSchema[prop]);
            }
        }
        return this.propertyModels;
    };
    QuestionControlService.prototype.createFields = function (prop, value) {
        var options = {
            key: prop,
            label: '',
            value: value || null,
            required: false,
            options: [],
            order: 5,
            placeholder: '',
            rows: 5,
            searchData: '',
            type: 'text'
        };
        switch (prop) {
            case 'label':
                options.label = 'Label';
                options.required = true;
                options.placeholder = 'Enter Label';
                options.order = 1;
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'id':
                options.label = 'ID';
                options.required = true;
                options.placeholder = 'Enter unique ID';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'type':
                options.label = 'Type';
                options.required = true;
                options.order = 2;
                options.options = [
                    {
                        key: 'obs',
                        value: 'obs'
                    },
                    {
                        key: 'obsGroup',
                        value: 'obsGroup'
                    },
                    {
                        key: 'testOrder',
                        value: 'testOrder'
                    },
                    {
                        key: 'control',
                        value: 'control'
                    },
                    {
                        key: 'complex-obs',
                        value: 'complex-obs'
                    },
                    {
                        key: 'encounterDatetime',
                        value: 'encounterDatetime'
                    },
                    {
                        key: 'encounterProvider',
                        value: 'encounterProvider'
                    },
                    {
                        key: 'encounterLocation',
                        value: 'encounterLocation'
                    },
                    {
                        key: 'personAttribute',
                        value: 'personAttribute'
                    }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'questionOptions.rendering':
                options.label = 'Rendering';
                options.required = true;
                options.order = 3;
                options.options = [
                    {
                        key: 'number',
                        value: 'number'
                    },
                    {
                        key: 'text',
                        value: 'text'
                    },
                    {
                        key: 'textarea',
                        value: 'textarea'
                    },
                    {
                        key: 'date',
                        value: 'date'
                    },
                    {
                        key: 'drug',
                        value: 'drug'
                    },
                    {
                        key: 'group',
                        value: 'group'
                    },
                    {
                        key: 'select',
                        value: 'select'
                    },
                    {
                        key: 'repeating',
                        value: 'repeating'
                    },
                    {
                        key: 'multicheckbox',
                        value: 'multiCheckbox'
                    },
                    {
                        key: 'ui-select-extended',
                        value: 'ui-select-extended'
                    },
                    {
                        key: 'select-concept-answers',
                        value: 'select-concept-answers'
                    },
                    {
                        key: 'file',
                        value: 'file'
                    },
                    {
                        key: 'problem',
                        value: 'problem'
                    },
                    {
                        key: 'radio',
                        value: 'radio'
                    },
                    {
                        key: 'checkbox',
                        value: 'checkbox'
                    }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'isExpanded':
                options.label = 'Is Expanded';
                options.required = true;
                options.options = [
                    {
                        key: 'true',
                        value: 'true'
                    },
                    {
                        key: 'false',
                        value: 'false'
                    }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'questionOptions.concept':
                options.label = 'Concept';
                options.searchData = 'concept';
                this.propertyModels.push(this.propertyFactory.createProperty('searchbox', options));
                break;
            case 'calculatedExpressions':
                options.label = 'Calculated Expressions';
                options.rows = 3;
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'default':
                options.label = 'Default';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'original':
                options.label = 'Original';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'questionOptions.orderSettingUuid':
                options.label = 'Order Setting Uuid';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'questionOptions.orderType':
                options.label = 'Order Type';
                options.options = [
                    {
                        key: 'testorder',
                        value: 'testorder'
                    }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'required':
                options.label = 'Required';
                options.options = [
                    {
                        key: 'true',
                        value: 'true'
                    },
                    {
                        key: 'false',
                        value: 'false'
                    }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'validators':
                options.label = 'Validators';
                options.rows = 5;
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'hide':
                options.label = 'Hide';
                options.rows = 5;
                options.value = JSON.stringify(value, undefined, '\t');
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'questionOptions.answers':
                options.label = 'Answers';
                options.rows = 5;
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'historicalExpression':
                options.label = 'Historical Expression';
                options.rows = 4;
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'questionOptions.max':
                options.label = 'Max';
                options.type = 'number';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'questionOptions.min':
                options.label = 'Min';
                options.type = 'number';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'questionOptions.rows':
                options.label = 'Rows';
                options.type = 'number';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
            case 'questionOptions.showDate':
                options.label = 'Show Date';
                options.options = [
                    { key: 'true', value: 'true' },
                    { key: 'false', value: 'false' }
                ];
                this.propertyModels.push(this.propertyFactory.createProperty('select', options));
                break;
            case 'questionOptions.showDateOptions':
                options.label = 'Show Date Options';
                options.rows = 5;
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'questionOptions.showWeeks':
                options.label = 'Show Weeks List';
                options.rows = 3;
                options.placeholder = '[2,12,16,18...]';
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'alert':
                options.label = 'Alert';
                options.rows = 5;
                if (value) {
                    options.value = JSON.stringify(value, undefined, '\t');
                }
                this.propertyModels.push(this.propertyFactory.createProperty('textarea', options));
                break;
            case 'questionOptions.selectableOrders':
                var p = this.properties.getPropertyByName('selectableOrders');
                p.value = JSON.stringify(value, undefined, '\t');
                this.propertyModels.push(p);
                break;
            case 'questionInfo':
                options.label = 'Question Info';
                this.propertyModels.push(this.propertyFactory.createProperty('textbox', options));
                break;
        }
        return this.propertyModels.sort(function (a, b) { return a.order - b.order; });
    };
    QuestionControlService.prototype.getAllQuestionProperties = function () {
        return _form_editor_models_properties__WEBPACK_IMPORTED_MODULE_4__["ALL_PROPERTIES"];
    };
    QuestionControlService.prototype.flatten = function (data) {
        var result = {};
        function recurse(cur, prop) {
            if (Object(cur) !== cur) {
                result[prop] = cur;
            }
            else if (Array.isArray(cur)) {
                result[prop] = cur;
            }
            else {
                var isEmpty = true;
                for (var p in cur) {
                    if (cur.hasOwnProperty(p)) {
                        isEmpty = false;
                        recurse(cur[p], prop ? prop + '.' + p : p);
                    }
                }
                if (isEmpty && prop) {
                    result[prop] = {};
                }
            }
        }
        recurse(data, '');
        return result;
    };
    QuestionControlService.prototype.unflatten = function (data) {
        'use strict';
        if (Object(data) !== data || Array.isArray(data)) {
            return data;
        }
        var regex = /\.?([^.\[\]]+)|\[(\d+)\]/g, resultholder = {};
        for (var p in data) {
            if (data.hasOwnProperty(p)) {
                var cur = resultholder, prop = '', m = void 0;
                while ((m = regex.exec(p))) {
                    cur = cur[prop] || (cur[prop] = m[2] ? [] : {});
                    prop = m[2] || m[1];
                }
                cur[prop] = data[p];
            }
        }
        return resultholder[''] || resultholder;
    };
    QuestionControlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_form_editor_models_property_factory__WEBPACK_IMPORTED_MODULE_2__["PropertyFactory"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]])
    ], QuestionControlService);
    return QuestionControlService;
}());



/***/ }),

/***/ "./src/app/Services/question-id.service.ts":
/*!*************************************************!*\
  !*** ./src/app/Services/question-id.service.ts ***!
  \*************************************************/
/*! exports provided: QuestionIdService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionIdService", function() { return QuestionIdService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var QuestionIdService = /** @class */ (function () {
    function QuestionIdService() {
        this.IDs = [];
    }
    QuestionIdService.prototype.getIDs = function (schema) {
        return this.collectIDs(schema);
    };
    QuestionIdService.prototype.collectIDs = function (schema) {
        //   let $schema = _.cloneDeep(schema);
        //     if($schema.pages!==ull) this.collectIDs(schema.pages);
        //     if(Array.isArray($schema)){
        //         $schema.forEach(element => {
        //             if(element.sections) this.collectIDs(element.sections)
        //             if(element.questions) this.collectIDs(element.questions)
        //             else {
        //                 let id = _.cloneDeep(element.id)
        //             if(typeof(id) !=='undefined'){
        //                this.IDs.push(id)
        //             }
        //         }
        //     })  }
        this.IDs = [];
        return this.IDs;
    };
    QuestionIdService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], QuestionIdService);
    return QuestionIdService;
}());



/***/ }),

/***/ "./src/app/Services/route-guards/auth-guard.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/Services/route-guards/auth-guard.service.ts ***!
  \*************************************************************/
/*! exports provided: AuthGuardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuardService", function() { return AuthGuardService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");




var AuthGuardService = /** @class */ (function () {
    function AuthGuardService(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    AuthGuardService.prototype.canActivate = function (route, state) {
        var url = state.url;
        return this.checkLogin(url);
    };
    AuthGuardService.prototype.checkLogin = function (url) {
        if (this.authService.isLoggedIn) {
            return true;
        }
        this.authService.redirectUrl = url;
        this.router.navigate(['/login']);
        return false;
    };
    AuthGuardService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AuthGuardService);
    return AuthGuardService;
}());



/***/ }),

/***/ "./src/app/Services/route-guards/save-forms-guard.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/Services/route-guards/save-forms-guard.service.ts ***!
  \*******************************************************************/
/*! exports provided: SaveFormsGuardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveFormsGuardService", function() { return SaveFormsGuardService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



var SaveFormsGuardService = /** @class */ (function () {
    function SaveFormsGuardService(router) {
        this.router = router;
    }
    SaveFormsGuardService.prototype.canDeactivate = function (component, route, state) {
        var can = component.canDeactivate();
        // console.log('DeactivateGuard#canDeactivate called, can: ', can);
        if (!can) {
            this.router.navigate([this.router.url]);
            return false;
        }
        return can;
    };
    SaveFormsGuardService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], SaveFormsGuardService);
    return SaveFormsGuardService;
}());



/***/ }),

/***/ "./src/app/Services/schema-compiler.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/Services/schema-compiler.service.ts ***!
  \*****************************************************/
/*! exports provided: FormSchemaCompiler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormSchemaCompiler", function() { return FormSchemaCompiler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);



var FormSchemaCompiler = /** @class */ (function () {
    function FormSchemaCompiler() {
    }
    /**
     *
     *
     * @param {Object} formSchema
     * @param {Array<any>} referencedComponents
     * @returns {Object} formSchema
     *
     * @memberOf FormSchemaCompiler
     */
    FormSchemaCompiler.prototype.compileFormSchema = function (formSchema, referencedComponents) {
        // get all referenced forms
        var refForms = this.getReferencedForms(formSchema, referencedComponents);
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](refForms)) {
            return formSchema;
        }
        // get all place-holders from the form schema
        var placeHolders = this.getAllPlaceholderObjects(formSchema);
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](placeHolders)) {
            return formSchema;
        }
        // replace all placeHolders
        this.replaceAllPlaceholdersWithActualObjects(refForms, placeHolders);
        return formSchema;
    };
    FormSchemaCompiler.prototype.findSchemaByName = function (schemaArray, nameOfSchema) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schemaArray) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](nameOfSchema)) {
            return;
        }
        var foundSchema = {};
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](schemaArray, function (schema) {
            if (schema.name === nameOfSchema) {
                foundSchema = schema;
            }
        });
        return foundSchema;
    };
    FormSchemaCompiler.prototype.getPageInSchemaByLabel = function (schema, pageLabel) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schema) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](pageLabel)) {
            return;
        }
        var foundPage = {};
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](schema.pages, function (page) {
            if (page.label === pageLabel) {
                foundPage = page;
            }
        });
        return foundPage;
    };
    FormSchemaCompiler.prototype.getSectionInSchemaByPageLabelBySectionLabel = function (schema, pageLabel, sectionLabel) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schema) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](pageLabel) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](sectionLabel)) {
            return;
        }
        var foundPage = this.getPageInSchemaByLabel(schema, pageLabel);
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](foundPage)) {
            return;
        }
        var foundSection = {};
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](foundPage.sections, function (section) {
            if (section.label === sectionLabel) {
                foundSection = section;
            }
        });
        return foundSection;
    };
    FormSchemaCompiler.prototype.getQuestionByIdInSchema = function (schema, questionId) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schema) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](questionId)) {
            return;
        }
        if (Array.isArray(schema)) {
            var question = void 0;
            for (var i = 0; i < schema.length; i++) {
                if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schema[i])) {
                    question = this.getQuestionByIdInSchema(schema[i], questionId);
                }
                if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](question)) {
                    break;
                }
            }
            return question;
        }
        else if (typeof schema === 'object') {
            if (this.isQuestionObjectWithId(schema, questionId)) {
                return schema;
            }
            else if (this.isSchemaSubObjectExpandable(schema)) {
                var toExpand = schema.pages || schema.sections || schema.questions;
                return this.getQuestionByIdInSchema(toExpand, questionId);
            }
            else {
                return;
            }
        }
        else {
            return;
        }
    };
    FormSchemaCompiler.prototype.getQuestionsArrayByQuestionIdInSchema = function (schema, questionId) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](schema) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](questionId)) {
            return;
        }
        return this.getQuestionsArrayByQuestionId(schema, schema, questionId);
    };
    FormSchemaCompiler.prototype.getQuestionsArrayByQuestionId = function (parent, object, questionId) {
        if (Array.isArray(object)) {
            var returnedValue = void 0;
            for (var i = 0; i < object.length; i++) {
                if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](object[i])) {
                    returnedValue = this.getQuestionsArrayByQuestionId(object, object[i], questionId);
                }
                if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](returnedValue)) {
                    break;
                }
            }
            return returnedValue;
        }
        else if (typeof object === 'object') {
            if (this.isQuestionObjectWithId(object, questionId)) {
                return parent;
            }
            else if (this.isSchemaSubObjectExpandable(object)) {
                var toExpand = object.pages || object.sections || object.questions;
                return this.getQuestionsArrayByQuestionId(toExpand, toExpand, questionId);
            }
            else {
                return;
            }
        }
        else {
            return;
        }
    };
    // object is page or section or question
    FormSchemaCompiler.prototype.isSchemaSubObjectExpandable = function (object) {
        if (typeof object === 'object') {
            var objectKeys = Object.keys(object);
            if (lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](objectKeys, 'pages') ||
                lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](objectKeys, 'sections') ||
                lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](objectKeys, 'questions')) {
                return true;
            }
        }
        return false;
    };
    FormSchemaCompiler.prototype.isQuestionObjectWithId = function (object, id) {
        return object['id'] === id;
    };
    FormSchemaCompiler.prototype.getAllPlaceholderObjects = function (schema) {
        var referencedObjects = [];
        this.extractPlaceholderObjects(schema, referencedObjects);
        return referencedObjects;
    };
    FormSchemaCompiler.prototype.extractPlaceholderObjects = function (subSchema, objectsArray) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](subSchema)) {
            return;
        }
        if (Array.isArray(subSchema)) {
            for (var i = 0; i < subSchema.length; i++) {
                if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](subSchema[i])) {
                    this.extractPlaceholderObjects(subSchema[i], objectsArray);
                }
            }
        }
        else if (typeof subSchema === 'object') {
            if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](subSchema.reference)) {
                objectsArray.push(subSchema);
            }
            else if (this.isSchemaSubObjectExpandable(subSchema)) {
                var toExpand = subSchema.pages || subSchema.sections || subSchema.questions;
                this.extractPlaceholderObjects(toExpand, objectsArray);
            }
        }
    };
    FormSchemaCompiler.prototype.fillPlaceholderObject = function (placeHolderObject, referenceObject) {
        for (var member in referenceObject) {
            if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](placeHolderObject[member])) {
                placeHolderObject[member] = referenceObject[member];
            }
        }
        return placeHolderObject;
    };
    FormSchemaCompiler.prototype.replaceAllPlaceholdersWithActualObjects = function (keyValReferencedForms, placeHoldersArray) {
        var _this = this;
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](placeHoldersArray, function (placeHolder) {
            var referencedObject = _this.getReferencedObject(placeHolder.reference, keyValReferencedForms);
            if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referencedObject)) {
                throw new Error('Form compile: Error finding referenced object ' +
                    JSON.stringify(placeHolder.reference));
            }
            else {
                placeHolder = _this.fillPlaceholderObject(placeHolder, referencedObject);
                placeHolder = _this.removeExcludedQuestionsFromPlaceholder(placeHolder);
                delete placeHolder['reference'];
            }
        });
        return placeHoldersArray;
    };
    FormSchemaCompiler.prototype.removeObjectFromArray = function (array, object) {
        var indexOfObject = array.indexOf(object);
        if (indexOfObject === -1) {
            return;
        }
        array.splice(indexOfObject, 1);
    };
    FormSchemaCompiler.prototype.removeExcludedQuestionsFromPlaceholder = function (placeHolder) {
        var _this = this;
        if (Array.isArray(placeHolder.reference.excludeQuestions)) {
            lodash__WEBPACK_IMPORTED_MODULE_2__["each"](placeHolder.reference.excludeQuestions, function (excludedQuestionId) {
                var questionsArray = _this.getQuestionsArrayByQuestionIdInSchema(placeHolder, excludedQuestionId);
                if (!Array.isArray(questionsArray)) {
                    return;
                }
                var question = _this.getQuestionByIdInSchema(questionsArray, excludedQuestionId);
                _this.removeObjectFromArray(questionsArray, question);
            });
        }
        return placeHolder;
    };
    FormSchemaCompiler.prototype.getReferencedObject = function (referenceData, keyValReferencedForms) {
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referenceData.form)) {
            throw new Error('Form compile: reference missing form attribute ' + referenceData);
        }
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](keyValReferencedForms[referenceData.form])) {
            throw new Error('Form compile: referenced form alias not found \n' +
                JSON.stringify(referenceData));
        }
        if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referenceData.questionId)) {
            return this.getQuestionByIdInSchema(keyValReferencedForms[referenceData.form], referenceData.questionId);
        }
        if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referenceData.page) && !lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referenceData.section)) {
            return this.getSectionInSchemaByPageLabelBySectionLabel(keyValReferencedForms[referenceData.form], referenceData.page, referenceData.section);
        }
        if (!lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referenceData.page)) {
            return this.getPageInSchemaByLabel(keyValReferencedForms[referenceData.form], referenceData.page);
        }
        throw new Error('Form compile: Unsupported reference type \n' + referenceData.reference);
    };
    FormSchemaCompiler.prototype.getReferencedForms = function (formSchema, formSchemasLookupArray) {
        var _this = this;
        var referencedForms = formSchema.referencedForms;
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEmpty"](referencedForms)) {
            return;
        }
        var keyValReferencedForms = {};
        lodash__WEBPACK_IMPORTED_MODULE_2__["each"](referencedForms, function (reference) {
            keyValReferencedForms[reference.alias] = _this.findSchemaByName(formSchemasLookupArray, reference.formName);
        });
        return keyValReferencedForms;
    };
    FormSchemaCompiler = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FormSchemaCompiler);
    return FormSchemaCompiler;
}());



/***/ }),

/***/ "./src/app/Services/storage/local-storage.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/Services/storage/local-storage.service.ts ***!
  \***********************************************************/
/*! exports provided: LocalStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageService", function() { return LocalStorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var LocalStorageService = /** @class */ (function () {
    function LocalStorageService() {
    }
    LocalStorageService.prototype.getItem = function (keyName) {
        return window.localStorage.getItem(keyName);
    };
    LocalStorageService.prototype.setItem = function (keyName, value) {
        window.localStorage.setItem(keyName, value);
    };
    LocalStorageService.prototype.getObject = function (keyName) {
        var stored = window.localStorage.getItem(keyName);
        try {
            var object = JSON.parse(stored);
            return object;
        }
        catch (error) {
            console.error(error);
            return null;
        }
    };
    LocalStorageService.prototype.setObject = function (keyName, value) {
        window.localStorage.setItem(keyName, JSON.stringify(value));
    };
    LocalStorageService.prototype.remove = function (keyName) {
        window.localStorage.removeItem(keyName);
    };
    LocalStorageService.prototype.clear = function () {
        window.localStorage.clear();
    };
    Object.defineProperty(LocalStorageService.prototype, "storageLength", {
        get: function () {
            return window.localStorage.length;
        },
        enumerable: true,
        configurable: true
    });
    LocalStorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
    ], LocalStorageService);
    return LocalStorageService;
}());



/***/ }),

/***/ "./src/app/Services/storage/session-storage.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/Services/storage/session-storage.service.ts ***!
  \*************************************************************/
/*! exports provided: SessionStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionStorageService", function() { return SessionStorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var SessionStorageService = /** @class */ (function () {
    function SessionStorageService() {
    }
    SessionStorageService.prototype.getItem = function (keyName) {
        return window.sessionStorage.getItem(keyName);
    };
    SessionStorageService.prototype.setItem = function (keyName, value) {
        window.sessionStorage.setItem(keyName, value);
    };
    SessionStorageService.prototype.getObject = function (keyName) {
        var stored = window.sessionStorage.getItem(keyName);
        try {
            var object = JSON.parse(stored);
            return object;
        }
        catch (error) {
            console.error(error);
            return null;
        }
    };
    SessionStorageService.prototype.setObject = function (keyName, value) {
        window.sessionStorage.setItem(keyName, JSON.stringify(value));
    };
    SessionStorageService.prototype.remove = function (keyName) {
        window.sessionStorage.removeItem(keyName);
    };
    SessionStorageService.prototype.clear = function () {
        window.sessionStorage.clear();
    };
    Object.defineProperty(SessionStorageService.prototype, "storageLength", {
        get: function () {
            return window.sessionStorage.length;
        },
        enumerable: true,
        configurable: true
    });
    SessionStorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
    ], SessionStorageService);
    return SessionStorageService;
}());



/***/ }),

/***/ "./src/app/Services/storage/session.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/Services/storage/session.service.ts ***!
  \*****************************************************/
/*! exports provided: SessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionService", function() { return SessionService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/Services/constants.ts");






// TODO inject service
var SessionService = /** @class */ (function () {
    function SessionService(http, sessionStorageService) {
        this.http = http;
        this.sessionStorageService = sessionStorageService;
    }
    SessionService.prototype.getUrl = function () {
        return this.url;
    };
    SessionService.prototype.getSession = function (credentials, baseUrl) {
        if (credentials === void 0) { credentials = null; }
        this.url = baseUrl + '/ws/rest/v1/session';
        if (credentials && credentials.username) {
            var base64 = btoa(credentials.username + ':' + credentials.password);
            this.sessionStorageService.setItem(_constants__WEBPACK_IMPORTED_MODULE_5__["Constants"].CREDENTIALS_KEY, base64);
        }
        return this.http.get(this.url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            console.log(error);
            return error;
        }));
    };
    SessionService.prototype.deleteSession = function () {
        var url = this.getUrl();
        this.sessionStorageService.clear();
        return this.http.delete(url, {});
    };
    SessionService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"],
            _session_storage_service__WEBPACK_IMPORTED_MODULE_3__["SessionStorageService"]])
    ], SessionService);
    return SessionService;
}());



/***/ }),

/***/ "./src/app/Services/update-component.service.ts":
/*!******************************************************!*\
  !*** ./src/app/Services/update-component.service.ts ***!
  \******************************************************/
/*! exports provided: UpdateComponentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateComponentService", function() { return UpdateComponentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var UpdateComponentService = /** @class */ (function () {
    function UpdateComponentService() {
        this.data = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](undefined);
        this.$data = this.data.asObservable();
    }
    UpdateComponentService.prototype.setData = function (data) {
        this.data.next(data);
    };
    UpdateComponentService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], UpdateComponentService);
    return UpdateComponentService;
}());



/***/ }),

/***/ "./src/app/app-entry-point/form-builder.component.css":
/*!************************************************************!*\
  !*** ./src/app/app-entry-point/form-builder.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".app {\n  min-height: calc(100vh - 70px);\n}\n.footer {\n  height: 50px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLWVudHJ5LXBvaW50L2Zvcm0tYnVpbGRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQThCO0FBQ2hDO0FBQ0E7RUFDRSxZQUFZO0FBQ2QiLCJmaWxlIjoic3JjL2FwcC9hcHAtZW50cnktcG9pbnQvZm9ybS1idWlsZGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwIHtcbiAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDcwcHgpO1xufVxuLmZvb3RlciB7XG4gIGhlaWdodDogNTBweDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/app-entry-point/form-builder.component.html":
/*!*************************************************************!*\
  !*** ./src/app/app-entry-point/form-builder.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"app\">\n  <router-outlet></router-outlet>\n</div>\n\n<div class=\"footer\">\n  <app-build-version-footer></app-build-version-footer>\n</div>\n"

/***/ }),

/***/ "./src/app/app-entry-point/form-builder.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/app-entry-point/form-builder.component.ts ***!
  \***********************************************************/
/*! exports provided: FormBuilderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormBuilderComponent", function() { return FormBuilderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var FormBuilderComponent = /** @class */ (function () {
    function FormBuilderComponent() {
    }
    FormBuilderComponent.prototype.ngOnInit = function () { };
    FormBuilderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-form-builder',
            template: __webpack_require__(/*! ./form-builder.component.html */ "./src/app/app-entry-point/form-builder.component.html"),
            styles: [__webpack_require__(/*! ./form-builder.component.css */ "./src/app/app-entry-point/form-builder.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FormBuilderComponent);
    return FormBuilderComponent;
}());



/***/ }),

/***/ "./src/app/app-material-module.ts":
/*!****************************************!*\
  !*** ./src/app/app-material-module.ts ***!
  \****************************************/
/*! exports provided: AppMaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppMaterialModule", function() { return AppMaterialModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var AppMaterialModule = /** @class */ (function () {
    function AppMaterialModule() {
    }
    AppMaterialModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            exports: [
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressBarModule"]
            ]
        })
    ], AppMaterialModule);
    return AppMaterialModule;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _form_editor_form_editor_form_editor_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form-editor/form-editor/form-editor.component */ "./src/app/form-editor/form-editor/form-editor.component.ts");
/* harmony import */ var _view_forms_view_forms_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./view-forms/view-forms.component */ "./src/app/view-forms/view-forms.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _Services_route_guards_save_forms_guard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Services/route-guards/save-forms-guard.service */ "./src/app/Services/route-guards/save-forms-guard.service.ts");
/* harmony import */ var _Services_route_guards_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Services/route-guards/auth-guard.service */ "./src/app/Services/route-guards/auth-guard.service.ts");
/* harmony import */ var _form_editor_update_forms_update_forms_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./form-editor/update-forms/update-forms.component */ "./src/app/form-editor/update-forms/update-forms.component.ts");










var appRoutes = [
    { path: '', redirectTo: 'forms', pathMatch: 'full' },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_6__["LoginComponent"] },
    {
        path: 'forms',
        component: _view_forms_view_forms_component__WEBPACK_IMPORTED_MODULE_5__["ViewFormsComponent"],
        canActivate: [_Services_route_guards_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'edit/:uuid',
        component: _form_editor_form_editor_form_editor_component__WEBPACK_IMPORTED_MODULE_4__["FormEditorComponent"],
        canDeactivate: [_Services_route_guards_save_forms_guard_service__WEBPACK_IMPORTED_MODULE_7__["SaveFormsGuardService"]]
    },
    {
        path: 'update/:oldUuid/:newUuid',
        component: _form_editor_update_forms_update_forms_component__WEBPACK_IMPORTED_MODULE_9__["UpdateFormsComponent"],
        canActivate: [_Services_route_guards_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forRoot(appRoutes, { useHash: true })],
            declarations: [],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"]],
            providers: [_Services_route_guards_save_forms_guard_service__WEBPACK_IMPORTED_MODULE_7__["SaveFormsGuardService"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".app {\n  width: 100%;\n}\n\n.footer {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 1rem;\n  background-color: #efefef;\n  text-align: center;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCxPQUFPO0VBQ1AsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixrQkFBa0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hcHAge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmZvb3RlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgcGFkZGluZzogMXJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmZWZlZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-form-builder></app-form-builder>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var AppComponent = /** @class */ (function () {
    function AppComponent() {
    }
    AppComponent.prototype.ngOnInit = function () { };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ngx_pagination__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-pagination */ "./node_modules/ngx-pagination/dist/ngx-pagination.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _form_editor_form_editor_form_editor_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./form-editor/form-editor/form-editor.module */ "./src/app/form-editor/form-editor/form-editor.module.ts");
/* harmony import */ var _Services_authentication_authentication_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Services/authentication/authentication.module */ "./src/app/Services/authentication/authentication.module.ts");
/* harmony import */ var _app_material_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app-material-module */ "./src/app/app-material-module.ts");
/* harmony import */ var _modals_modals_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modals/modals-module */ "./src/app/modals/modals-module.ts");
/* harmony import */ var _shared_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./shared-module */ "./src/app/shared-module.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _form_editor_snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./form-editor/snackbar/notification-toast */ "./src/app/form-editor/snackbar/notification-toast.ts");
/* harmony import */ var _view_forms_view_forms_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./view-forms/view-forms.component */ "./src/app/view-forms/view-forms.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _form_editor_snackbar_snackbar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./form-editor/snackbar/snackbar.component */ "./src/app/form-editor/snackbar/snackbar.component.ts");
/* harmony import */ var _Services_route_guards_auth_guard_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Services/route-guards/auth-guard.service */ "./src/app/Services/route-guards/auth-guard.service.ts");
/* harmony import */ var _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Services/openmrs-api/save-form.service */ "./src/app/Services/openmrs-api/save-form.service.ts");
/* harmony import */ var _Services_openmrs_api_encounter_type_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Services/openmrs-api/encounter-type.service */ "./src/app/Services/openmrs-api/encounter-type.service.ts");
/* harmony import */ var _Services_form_list_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Services/form-list.service */ "./src/app/Services/form-list.service.ts");
/* harmony import */ var _pipes_search_form_filter_pipe__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pipes/search-form-filter.pipe */ "./src/app/pipes/search-form-filter.pipe.ts");
/* harmony import */ var _build_version_footer_build_version_footer_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./build-version-footer/build-version-footer.component */ "./src/app/build-version-footer/build-version-footer.component.ts");
/* harmony import */ var _form_editor_snackbar_saved_snackbar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./form-editor/snackbar/saved-snackbar */ "./src/app/form-editor/snackbar/saved-snackbar.ts");
/* harmony import */ var _app_entry_point_form_builder_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./app-entry-point/form-builder.component */ "./src/app/app-entry-point/form-builder.component.ts");
/* harmony import */ var _pipes_string_to_number_pipe__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./pipes/string_to_number.pipe */ "./src/app/pipes/string_to_number.pipe.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _Services_http_interceptor_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Services/http-interceptor.service */ "./src/app/Services/http-interceptor.service.ts");





























var AppModule = /** @class */ (function () {
    function AppModule(applicationRef) {
        // for ng2-bootstrap-modal in angualar 5
        Object.defineProperty(applicationRef, '_rootComponents', {
            get: function () { return applicationRef['components']; }
        });
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_13__["AppComponent"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_16__["LoginComponent"],
                _pipes_search_form_filter_pipe__WEBPACK_IMPORTED_MODULE_22__["SearchFormFilterPipe"],
                _pipes_string_to_number_pipe__WEBPACK_IMPORTED_MODULE_26__["Str2Num"],
                _form_editor_snackbar_snackbar_component__WEBPACK_IMPORTED_MODULE_17__["SnackbarComponent"],
                _build_version_footer_build_version_footer_component__WEBPACK_IMPORTED_MODULE_23__["BuildVersionFooterComponent"],
                _form_editor_snackbar_saved_snackbar__WEBPACK_IMPORTED_MODULE_24__["SaveSnackbarComponent"],
                _app_entry_point_form_builder_component__WEBPACK_IMPORTED_MODULE_25__["FormBuilderComponent"],
                _view_forms_view_forms_component__WEBPACK_IMPORTED_MODULE_15__["ViewFormsComponent"],
                _form_editor_snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_14__["NotificationComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_27__["HttpClientModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__["BrowserAnimationsModule"],
                ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__["BootstrapModalModule"],
                ngx_pagination__WEBPACK_IMPORTED_MODULE_5__["NgxPaginationModule"],
                _form_editor_form_editor_form_editor_module__WEBPACK_IMPORTED_MODULE_7__["FormEditorModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_6__["AppRoutingModule"],
                _Services_authentication_authentication_module__WEBPACK_IMPORTED_MODULE_8__["AuthenticationModule"],
                _app_material_module__WEBPACK_IMPORTED_MODULE_9__["AppMaterialModule"],
                _modals_modals_module__WEBPACK_IMPORTED_MODULE_10__["ModalsModule"],
                _shared_module__WEBPACK_IMPORTED_MODULE_11__["SharedModule"]
            ],
            entryComponents: [
                _form_editor_snackbar_saved_snackbar__WEBPACK_IMPORTED_MODULE_24__["SaveSnackbarComponent"],
                _form_editor_snackbar_snackbar_component__WEBPACK_IMPORTED_MODULE_17__["SnackbarComponent"],
                _form_editor_snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_14__["NotificationComponent"]
            ],
            providers: [
                _Services_route_guards_auth_guard_service__WEBPACK_IMPORTED_MODULE_18__["AuthGuardService"],
                _Services_openmrs_api_encounter_type_service__WEBPACK_IMPORTED_MODULE_20__["EncounterTypeService"],
                _Services_form_list_service__WEBPACK_IMPORTED_MODULE_21__["FormListService"],
                _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_19__["SaveFormService"],
                {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_27__["HTTP_INTERCEPTORS"],
                    useClass: _Services_http_interceptor_service__WEBPACK_IMPORTED_MODULE_28__["FormBuilderHttpInteceptor"],
                    multi: true
                }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_13__["AppComponent"]]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ApplicationRef"]])
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/build-version-footer/build-version-footer.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/build-version-footer/build-version-footer.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2J1aWxkLXZlcnNpb24tZm9vdGVyL2J1aWxkLXZlcnNpb24tZm9vdGVyLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/build-version-footer/build-version-footer.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/build-version-footer/build-version-footer.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div></div>\n\n<div>\n  <p class=\"text-right\">\n    <b>build v-{{ version }} {{ date }}</b>\n  </p>\n</div>\n"

/***/ }),

/***/ "./src/app/build-version-footer/build-version-footer.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/build-version-footer/build-version-footer.component.ts ***!
  \************************************************************************/
/*! exports provided: BuildVersionFooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildVersionFooterComponent", function() { return BuildVersionFooterComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");



var BuildVersionFooterComponent = /** @class */ (function () {
    function BuildVersionFooterComponent() {
    }
    BuildVersionFooterComponent.prototype.ngOnInit = function () {
        var d = new Date(+_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].date);
        this.date = d.toLocaleDateString() + ' ' + d.toLocaleTimeString();
        this.version = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].version;
    };
    BuildVersionFooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-build-version-footer',
            template: __webpack_require__(/*! ./build-version-footer.component.html */ "./src/app/build-version-footer/build-version-footer.component.html"),
            styles: [__webpack_require__(/*! ./build-version-footer.component.css */ "./src/app/build-version-footer/build-version-footer.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], BuildVersionFooterComponent);
    return BuildVersionFooterComponent;
}());



/***/ }),

/***/ "./src/app/collections/linked-list.ts":
/*!********************************************!*\
  !*** ./src/app/collections/linked-list.ts ***!
  \********************************************/
/*! exports provided: Node, LinkedList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Node", function() { return Node; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkedList", function() { return LinkedList; });
var Node = /** @class */ (function () {
    function Node(formMetadata) {
        this.formMetadata = formMetadata;
        this.next = null;
        this.previous = null;
    }
    return Node;
}());

var LinkedList = /** @class */ (function () {
    function LinkedList() {
        this.head = null; // points to the first added list.
    }
    LinkedList.prototype.append = function (formMetadata) {
        var list = new Node(formMetadata);
        if (this.head === null) {
            this.head = list; // this is the first list;
        }
        else {
            var temp = this.head;
            while (temp.next) {
                temp = temp.next;
            }
            list.previous = temp;
            list.next = null;
            temp.next = list; // append new list to the end of the linked list.
        }
    };
    return LinkedList;
}());



/***/ }),

/***/ "./src/app/form-editor/audit-info/audit-info.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/form-editor/audit-info/audit-info.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".row {\n  margin-top: 10px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvYXVkaXQtaW5mby9hdWRpdC1pbmZvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9mb3JtLWVkaXRvci9hdWRpdC1pbmZvL2F1ZGl0LWluZm8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yb3cge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/form-editor/audit-info/audit-info.component.html":
/*!******************************************************************!*\
  !*** ./src/app/form-editor/audit-info/audit-info.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-md-2\">\n    <p>Form Name</p>\n  </div>\n  <div class=\"col-md-9\">\n    <input\n      class=\"form-control\"\n      type=\"text\"\n      [value]=\"formMetadata.name\"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\">\n  <div class=\"col-md-2\">\n    <p>UUID</p>\n  </div>\n  <div class=\"col-md-9\">\n    <input\n      class=\"form-control\"\n      type=\"text\"\n      [value]=\"formMetadata.uuid\"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\">\n  <div class=\"col-md-2\">\n    <p>Version</p>\n  </div>\n  <div class=\"col-md-9\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"formMetadata.version\"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"formMetadata.encounterType\">\n  <div class=\"col-md-2\">\n    <p>Encounter Type</p>\n  </div>\n  <div class=\"col-md-9\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"formMetadata.encounterType\"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"formMetadata.description\">\n  <div class=\"col-md-2\">\n    <p>Description</p>\n  </div>\n  <div class=\"col-md-9\">\n    <textarea\n      class=\"form-control\"\n      [value]=\"formMetadata.description\"\n      disabled\n    ></textarea>\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"formMetadata.auditInfo.creator\">\n  <div class=\"col-md-2\">\n    <p>Created by</p>\n  </div>\n  <div class=\"col-md-4\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"formMetadata.auditInfo.creator.display\"\n      disabled\n    />\n  </div>\n  <div class=\"col-md-2\">\n    <p>Date</p>\n  </div>\n  <div class=\"col-md-3\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"\n        formMetadata.auditInfo.dateCreated.substring(\n          0,\n          formMetadata.auditInfo.dateCreated.indexOf('T')\n        )\n      \"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"formMetadata.auditInfo.changedBy\">\n  <div class=\"col-md-2\">\n    <p>Changed by</p>\n  </div>\n  <div class=\"col-md-4\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"formMetadata.auditInfo.changedBy.display\"\n      disabled\n    />\n  </div>\n  <div class=\"col-md-2\">\n    <p>Date</p>\n  </div>\n  <div class=\"col-md-3\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"\n        formMetadata.auditInfo.dateChanged.substring(\n          0,\n          formMetadata.auditInfo.dateChanged.indexOf('T')\n        )\n      \"\n      disabled\n    />\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"formMetadata.published\">\n  <div class=\"col-md-2\">\n    <p>Published</p>\n  </div>\n  <div class=\"col-md-9\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      [value]=\"formMetadata.published\"\n      disabled\n    />\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/audit-info/audit-info.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/form-editor/audit-info/audit-info.component.ts ***!
  \****************************************************************/
/*! exports provided: AuditInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuditInfoComponent", function() { return AuditInfoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var AuditInfoComponent = /** @class */ (function () {
    function AuditInfoComponent() {
    }
    Object.defineProperty(AuditInfoComponent.prototype, "_formMetadata", {
        set: function (formMetadata) {
            this.formMetadata = formMetadata;
        },
        enumerable: true,
        configurable: true
    });
    AuditInfoComponent.prototype.ngOnInit = function () { };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], AuditInfoComponent.prototype, "_formMetadata", null);
    AuditInfoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'audit-info',
            template: __webpack_require__(/*! ./audit-info.component.html */ "./src/app/form-editor/audit-info/audit-info.component.html"),
            styles: [__webpack_require__(/*! ./audit-info.component.css */ "./src/app/form-editor/audit-info/audit-info.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], AuditInfoComponent);
    return AuditInfoComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/concept/concept.component.css":
/*!***********************************************************!*\
  !*** ./src/app/form-editor/concept/concept.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "h5 {\n  font-weight: bold;\n  font-size: 14px;\n  color: #2196f3;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvY29uY2VwdC9jb25jZXB0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLGNBQWM7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9mb3JtLWVkaXRvci9jb25jZXB0L2NvbmNlcHQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImg1IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICMyMTk2ZjM7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/concept/concept.component.html":
/*!************************************************************!*\
  !*** ./src/app/form-editor/concept/concept.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"question\">\n  <div [formGroup]=\"form\">\n    <div class=\"input-group\">\n      <input\n        class=\"form-control\"\n        placeholder=\"Enter concept id, uuid or label to search\"\n        [formControlName]=\"question.key\"\n        [id]=\"question.key\"\n        [type]=\"question.type\"\n        [value]=\"question.value\"\n      />\n      <span class=\"input-group-btn\">\n        <button\n          class=\"btn btn-primary\"\n          type=\"button\"\n          (click)=\"searchConcept()\"\n          [attr.disable]=\"searching\"\n        >\n          <i\n            class=\"fa\"\n            [class.fa-search]=\"!searching\"\n            [ngClass]=\"{ 'fa-spinner fa-spin fa-fw': searching }\"\n          ></i>\n        </button>\n      </span>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/concept/concept.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/form-editor/concept/concept.component.ts ***!
  \**********************************************************/
/*! exports provided: ConceptComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConceptComponent", function() { return ConceptComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Services/openmrs-api/concept.service */ "./src/app/Services/openmrs-api/concept.service.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _modals_answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modals/answers-modal/answers.modal */ "./src/app/modals/answers-modal/answers.modal.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _modals_concept_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modals/concept.modal */ "./src/app/modals/concept.modal.ts");
/* harmony import */ var _modals_set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../modals/set-members-modal/set-members-modal.component */ "./src/app/modals/set-members-modal/set-members-modal.component.ts");
/* harmony import */ var _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Services/element-editor.service */ "./src/app/Services/element-editor.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);










var ConceptComponent = /** @class */ (function () {
    function ConceptComponent(cs, dialogService, fb, el) {
        this.cs = cs;
        this.dialogService = dialogService;
        this.fb = fb;
        this.el = el;
        this.answers = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.searching = false;
        this.previousSelectedAnswersIndexes = [];
    }
    ConceptComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscription = this.el.reselectAnswers().subscribe(function (res) {
            if (_this.allAvailableAnswers !== undefined) {
                _this.findIndexesOfPreviouslySelectedAnswers(res, _this.allAvailableAnswers);
                _this.showAnswersDialog(_this.allAvailableAnswers);
            }
            else {
                _this.getAnswers(_this.form.controls[_this.question.key].value);
            }
        });
        this.subscription = this.el.reselectSetMembers().subscribe(function (res) {
            // set res to be checked
            _this.showSetMembersDialog(_this.allAvailableSetMembers);
        });
        this.getYesAndNoConceptUUID();
    };
    ConceptComponent.prototype.searchConcept = function () {
        var _this = this;
        var conceptID = this.form.controls[this.question.key].value;
        this.searching = true;
        if (!lodash__WEBPACK_IMPORTED_MODULE_9__["isEmpty"](conceptID)) {
            if (conceptID.length === 36 && conceptID.indexOf(' ') === -1) {
                // searching with concept uuid
                this.subscription = this.cs
                    .searchConceptByUUID(conceptID)
                    .subscribe(function (res) {
                    _this.searching = false;
                    var arr = [];
                    if (res !== []) {
                        arr.push(res);
                        _this.showConceptsDialog(arr);
                    }
                    else {
                        alert('No concept found!');
                    }
                });
            }
            else {
                this.subscription = this.cs
                    .searchConceptByName(conceptID)
                    .subscribe(function (res) {
                    _this.searchResult = res;
                    _this.searching = false;
                    if (_this.searchResult.results.length > 0) {
                        _this.showConceptsDialog(res.results);
                    }
                    else {
                        alert('No concept found!');
                    }
                });
            }
        }
    };
    ConceptComponent.prototype.getAnswers = function (conceptID) {
        var _this = this;
        this.subscription = this.cs
            .searchConceptByUUID(conceptID)
            .subscribe(function (res) {
            if (res.answers && res.answers.length > 0) {
                _this.allAvailableAnswers = res.answers;
                _this.showAnswersDialog(_this.allAvailableAnswers);
            }
            else {
                _this.setSelectedAnswers([]);
            }
        });
    };
    ConceptComponent.prototype.showConceptsDialog = function (searchResults) {
        var _this = this;
        this.dialogService
            .addDialog(_modals_concept_modal__WEBPACK_IMPORTED_MODULE_6__["ConceptsModalComponent"], {
            concepts: searchResults,
            title: 'Concepts'
        }, {
            backdropColor: 'rgba(255, 255, 255, 0.5)'
        })
            .subscribe(function (formValue) {
            if (formValue) {
                _this.setConcept(formValue);
                searchResults.forEach(function (concept) {
                    if (formValue['concept'] === concept.uuid) {
                        _this.setConceptId(concept.uuid);
                        if (concept.answers.length > 0) {
                            _this.showAnswersDialog(concept.answers);
                        }
                        if (concept.mappings.length > 0) {
                            _this.setConceptMappings(concept.mappings);
                        }
                        if (concept.setMembers.length > 0) {
                            _this.showSetMembersDialog(concept.setMembers);
                        }
                        if (concept.datatype.name === 'Boolean') {
                            var answers = [
                                {
                                    label: 'yes',
                                    concept: _this.yesUUID
                                },
                                {
                                    label: 'no',
                                    concept: _this.noUUID
                                }
                            ];
                            _this.answers.emit(answers);
                        }
                    }
                });
            }
        });
    };
    ConceptComponent.prototype.getYesAndNoConceptUUID = function () {
        var _this = this;
        this.subscription = this.cs.searchConceptByName('yes').subscribe(function (res) {
            if (res.results) {
                res.results.forEach(function (concept) {
                    if (concept.name.display.toLowerCase() === 'yes') {
                        _this.yesUUID = concept.uuid;
                    }
                });
            }
        });
        this.subscription = this.cs.searchConceptByName('no').subscribe(function (res) {
            if (res.results) {
                res.results.forEach(function (concept) {
                    if (concept.name.display.toLowerCase() === 'no') {
                        _this.noUUID = concept.uuid;
                    }
                });
            }
        });
    };
    ConceptComponent.prototype.showAnswersDialog = function (results) {
        var _this = this;
        this.emitSetMembers([]);
        this.allAvailableAnswers = results;
        this.subscription = this.dialogService
            .addDialog(_modals_answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_4__["AnswersComponent"], {
            answers: results
        }, {
            backdropColor: 'rgba(255, 255, 255, 0.5)'
        })
            .subscribe(function (selectedAnswersUuids) {
            if (selectedAnswersUuids) {
                _this.setSelectedAnswers(selectedAnswersUuids);
            }
        });
    };
    ConceptComponent.prototype.setConceptId = function (uuid) {
        var _this = this;
        this.cs.getConceptID(uuid).subscribe(function (res) {
            if (res.length > 0) {
                _this.el.setConceptId(res[0].concept_id);
            }
        });
    };
    ConceptComponent.prototype.showSetMembersDialog = function (setMembers) {
        var _this = this;
        this.allAvailableSetMembers = setMembers;
        this.subscription = this.dialogService
            .addDialog(_modals_set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_7__["SetMembersModalComponent"], {
            setMembers: setMembers
        }, {
            backdropColor: 'rgba(255, 255, 255, 0.5)'
        })
            .subscribe(function (formValue) {
            if (formValue) {
                _this.emitSetMembers(JSON.parse(formValue));
            }
        });
    };
    ConceptComponent.prototype.setSelectedAnswers = function (strUuids) {
        var _this = this;
        var selectedAnswers = [];
        var uuids = JSON.parse(strUuids);
        lodash__WEBPACK_IMPORTED_MODULE_9__["forEach"](uuids, function (uuid) {
            var ans = _this.getAns(uuid);
            if (ans) {
                selectedAnswers.push(ans);
            }
        });
        if (selectedAnswers) {
            this.answers.emit(this.createSchemaAnswers(selectedAnswers));
        }
    };
    ConceptComponent.prototype.getAns = function (uuid) {
        var answerObj;
        lodash__WEBPACK_IMPORTED_MODULE_9__["forEach"](this.allAvailableAnswers, function (answer) {
            if (answer.uuid === uuid) {
                answerObj = answer;
            }
        });
        return answerObj;
    };
    ConceptComponent.prototype.createSchemaAnswers = function (answers) {
        var _this = this;
        var schemaAns = [];
        lodash__WEBPACK_IMPORTED_MODULE_9__["forEach"](answers, function (answer) {
            var answerObj = {
                concept: answer.uuid,
                label: answer.display,
                conceptMappings: _this.cs.createMappingsValue(answer.mappings)
            };
            schemaAns.push(answerObj);
        });
        return schemaAns;
    };
    ConceptComponent.prototype.setConcept = function (formValue) {
        this.form.controls['questionOptions.concept'].setValue(formValue.concept);
    };
    ConceptComponent.prototype.setConceptMappings = function (mappings) {
        this.el.setMappings(mappings);
    };
    ConceptComponent.prototype.keyDownFunction = function ($event) {
        if ($event.keyCode === 13 &&
            this.form.controls[this.question.key].value !== '') {
            this.searchConcept();
        }
    };
    ConceptComponent.prototype.findIndexesOfPreviouslySelectedAnswers = function (previouslySelectedAnswers, allAvailableAnswers) {
        var indexes = [];
        previouslySelectedAnswers.forEach(function (answer, index) {
            if (lodash__WEBPACK_IMPORTED_MODULE_9__["indexOf"](allAvailableAnswers, answer)) {
                indexes.push(index);
            }
        });
        return indexes;
    };
    ConceptComponent.prototype.emitSetMembers = function (setMembers) {
        this.el.setMembers(setMembers);
    };
    ConceptComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ConceptComponent.prototype, "question", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormGroup"])
    ], ConceptComponent.prototype, "form", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ConceptComponent.prototype, "answers", void 0);
    ConceptComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-concept',
            template: __webpack_require__(/*! ./concept.component.html */ "./src/app/form-editor/concept/concept.component.html"),
            styles: [__webpack_require__(/*! ./concept.component.css */ "./src/app/form-editor/concept/concept.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_2__["ConceptService"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"],
            _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_8__["ElementEditorService"]])
    ], ConceptComponent);
    return ConceptComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.css":
/*!********************************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.css ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".label {\n  font-weight: bold;\n  font-size: 14px;\n  color: black;\n}\n\n.panel-body {\n  padding: 0px 15px 0px 15px;\n}\n\n.form-control.ng-invalid.ng-touched {\n  border: 1px solid red;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvZWxlbWVudC1lZGl0b3IvZHluYW1pYy1xdWVzdGlvbi9keW5hbWljLXF1ZXN0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLFlBQVk7QUFDZDs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFDQTtFQUNFLHFCQUFxQjtBQUN2QiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZWRpdG9yL2VsZW1lbnQtZWRpdG9yL2R5bmFtaWMtcXVlc3Rpb24vZHluYW1pYy1xdWVzdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4ucGFuZWwtYm9keSB7XG4gIHBhZGRpbmc6IDBweCAxNXB4IDBweCAxNXB4O1xufVxuLmZvcm0tY29udHJvbC5uZy1pbnZhbGlkLm5nLXRvdWNoZWQge1xuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [formGroup]=\"form\">\n  <!--<a [href]=\"'#'+question.label\" data-toggle=\"collapse\"><i class=\"fa fa-caret-down\"></i></a>-->\n\n  <label [attr.for]=\"question.key\" class=\"label\">{{ question.label }}</label>\n  <span>\n    <small *ngIf=\"!isControlValid(question.key)\" class=\"text-danger\">This field is required.</small>\n  </span>\n\n  <div [ngSwitch]=\"question.controlType\">\n    <div [id]=\"question.label\" class=\"\">\n      <div class=\"form-group\">\n        <input *ngSwitchCase=\"'textbox'\" class=\"form-control\" [formControlName]=\"question.key\" [id]=\"question.key\"\n          [type]=\"question.type\" [placeholder]=\"question.placeholder\" [value]=\"question.value\" [type]=\"question.type\" />\n      </div>\n\n      <div class=\"form-group\">\n        <select *ngSwitchCase=\"'select'\" class=\"form-control\" [formControlName]=\"question.key\"\n          (change)=\"typeSelected(question.key)\">\n          <option *ngFor=\"let opt of question.options\" [value]=\"opt.key\">\n            {{ opt.value }}\n          </option>\n        </select>\n      </div>\n\n      <div class=\"form-group ace-input\">\n        <textarea *ngSwitchCase=\"'textarea'\" [formControlName]=\"question.key\" style=\"display: none\"\n          [value]=\"question.value\"></textarea>\n        <div *ngSwitchCase=\"'textarea'\" ace-editor [(text)]=\"question.value\" [mode]=\"'javascript'\" [theme]=\"'chrome'\"\n          [readOnly]=\"false\" [autoUpdateContent]=\"true\" [durationBeforeCallback]=\"1000\"\n          (textChanged)=\"onTextAreaChanged($event, question.key)\" style=\"min-height: 200px; width: 100%\"></div>\n      </div>\n\n      <div class=\"form-group\">\n        <div *ngSwitchCase=\"'searchbox'\">\n          <app-concept *ngIf=\"question.searchData === 'concept'\" [question]=\"question\" [form]=\"form\"\n            (answers)=\"emitAnswers($event)\"></app-concept>\n          <!--<app-order *ngIf=\"question.searchData === 'order'\" [_question]=\"question\" [_form]=\"form\"></app-order>-->\n        </div>\n      </div>\n    </div>\n  </div>\n  <br />\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: DynamicQuestionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicQuestionComponent", function() { return DynamicQuestionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_property_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/property-model */ "./src/app/form-editor/models/property-model.ts");



var DynamicQuestionComponent = /** @class */ (function () {
    function DynamicQuestionComponent() {
        this.answers = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.type = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.rendering = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.showDate = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    Object.defineProperty(DynamicQuestionComponent.prototype, "_form", {
        set: function (form) {
            this.form = form;
        },
        enumerable: true,
        configurable: true
    });
    DynamicQuestionComponent.prototype.ngOnInit = function () { };
    DynamicQuestionComponent.prototype.isControlValid = function (controlName) {
        if (this.form.controls[controlName].valid ||
            this.form.controls[controlName].untouched) {
            return true;
        }
        else {
            return false;
        }
    };
    DynamicQuestionComponent.prototype.typeSelected = function (selectBox) {
        if (selectBox === 'type') {
            var value = this.form.controls['type'].value;
            this.type.emit(value);
        }
        if (selectBox === 'questionOptions.rendering') {
            var value = this.form.controls['questionOptions.rendering'].value;
            this.rendering.emit(value);
        }
        if (selectBox === 'questionOptions.showDate') {
            var value = this.form.controls['questionOptions.showDate'].value;
            this.showDate.emit(value);
        }
    };
    DynamicQuestionComponent.prototype.isValid = function () {
        return this.form.controls[this.question.key].valid;
    };
    DynamicQuestionComponent.prototype.emitAnswers = function (answers) {
        this.answers.emit(answers);
    };
    DynamicQuestionComponent.prototype.onTextAreaChanged = function ($event, question) {
        this.form.controls[question].setValue($event);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _models_property_model__WEBPACK_IMPORTED_MODULE_2__["PropertyModel"])
    ], DynamicQuestionComponent.prototype, "question", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DynamicQuestionComponent.prototype, "answers", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DynamicQuestionComponent.prototype, "type", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DynamicQuestionComponent.prototype, "rendering", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DynamicQuestionComponent.prototype, "showDate", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], DynamicQuestionComponent.prototype, "_form", null);
    DynamicQuestionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dynamic-question',
            template: __webpack_require__(/*! ./dynamic-question.component.html */ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.html"),
            styles: [__webpack_require__(/*! ./dynamic-question.component.css */ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], DynamicQuestionComponent);
    return DynamicQuestionComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/element-editor/element-editor.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/element-editor.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".btn-primary {\n  width: 100%;\n}\n\n.dropdown {\n  margin: 0px 0px 20px 0px;\n}\n\n.dropdown-menu {\n  font-family: 'Roboto', serif;\n  font-size: 14px;\n}\n\na {\n  cursor: pointer;\n}\n\n.dropdown-menu > li > a:hover {\n  color: white;\n  background-color: #2196f3;\n}\n\n.disabled,\n.disabled:hover {\n  cursor: text;\n  background-color: white !important;\n  color: red !important;\n}\n\n.mat-card > :first-child {\n  margin-top: -27px;\n  margin-right: -20px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvZWxlbWVudC1lZGl0b3IvZWxlbWVudC1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHdCQUF3QjtBQUMxQjs7QUFDQTtFQUNFLDRCQUE0QjtFQUM1QixlQUFlO0FBQ2pCOztBQUNBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFlBQVk7RUFDWix5QkFBeUI7QUFDM0I7O0FBQ0E7O0VBRUUsWUFBWTtFQUNaLGtDQUFrQztFQUNsQyxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvZm9ybS1lZGl0b3IvZWxlbWVudC1lZGl0b3IvZWxlbWVudC1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tcHJpbWFyeSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZHJvcGRvd24ge1xuICBtYXJnaW46IDBweCAwcHggMjBweCAwcHg7XG59XG4uZHJvcGRvd24tbWVudSB7XG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbmEge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5kcm9wZG93bi1tZW51ID4gbGkgPiBhOmhvdmVyIHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NmYzO1xufVxuLmRpc2FibGVkLFxuLmRpc2FibGVkOmhvdmVyIHtcbiAgY3Vyc29yOiB0ZXh0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICBjb2xvcjogcmVkICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZCA+IDpmaXJzdC1jaGlsZCB7XG4gIG1hcmdpbi10b3A6IC0yN3B4O1xuICBtYXJnaW4tcmlnaHQ6IC0yMHB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/form-editor/element-editor/element-editor.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/element-editor.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"text-center\" style=\"background: white\">\n  <div style=\"background-color: #ebebeb\">\n    <ol class=\"breadcrumb\">\n      <li>{{ pageStr }}</li>\n      <li>{{ sectionStr }}</li>\n      <li>{{ questionStr }}</li>\n    </ol>\n  </div>\n</div>\n\n<div *ngIf=\"questions\">\n  <mat-card>\n    <!--add property-->\n\n    <div class=\"pull-right\">\n      <div class=\"dropdown\" style=\"display: inline-block\">\n        <a class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"><i\n            class=\"fa fa-plus-circle fa-lg\" aria-hidden=\"true\"></i> Add\n          Property <span class=\"caret\"></span></a>\n        <ul class=\"dropdown-menu\">\n          <li (click)=\"addProperty(prop, prop.parentPath)\" *ngFor=\"let prop of allPossibleproperties\">\n            <a [class.disabled]=\"prop.type === 'disabled'\">{{ prop.label }}</a>\n          </li>\n        </ul>\n      </div>\n      <div *ngIf=\"setMembers.length > 0\" class=\"dropdown\" style=\"display: inline-block\">\n        <a class=\"btn btn-success dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\n          Set Members <span class=\"caret\"></span></a>\n        <ul class=\"dropdown-menu\">\n          <li>\n            <a (click)=\"viewSetMembers()\"><i class=\"fa fa-eye\" aria-hidden=\"true\"></i> View Set Members</a>\n          </li>\n\n          <li>\n            <a (click)=\"reselectSetMembers()\"><i class=\"fa fa-refresh\"></i> Reselect Set Members</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div *ngIf=\"form\" style=\"clear: both\">\n      <!--form for adding a question-->\n\n      <form [formGroup]=\"form\">\n        <div *ngFor=\"let question of questions; let i = index\">\n          <div class=\"pull-right\" *ngIf=\"checkQuestion(question)\">\n            <a (click)=\"deleteProp(i)\" data-toggle=\"tooltip\" title=\"Delete\">\n              <i class=\"fa fa-times\" style=\"\n                  font-size: 16px;\n                  margin: 5px;\n                  color: red;\n                  cursor: pointer;\n                \"></i>\n            </a>\n          </div>\n\n          <div class=\"pull-right\" *ngIf=\"question.key === 'questionOptions.answers' && question.value\">\n            <a (click)=\"reselectAnswers()\" data-toggle=\"tooltip\" title=\"Reselect Answers\">\n              <i class=\"fa fa-undo\" style=\"\n                  font-size: 16px;\n                  margin: 5px;\n                  color: green;\n                  cursor: pointer;\n                \"></i>\n            </a>\n          </div>\n\n          <app-dynamic-question [question]=\"question\" [_form]=\"form\" (answers)=\"setAnswers($event)\"\n            (type)=\"typeSelected($event)\" (rendering)=\"renderingSelected($event)\" (showDate)=\"showDate($event)\">\n          </app-dynamic-question>\n        </div>\n\n        <div class=\"form-row\">\n          <br />\n          <button class=\"btn btn-primary btn-lg center-block\" (click)=\"onSubmit()\" [disabled]=\"!form.valid\">\n            OK\n          </button>\n        </div>\n      </form>\n    </div>\n  </mat-card>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/element-editor/element-editor.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/form-editor/element-editor/element-editor.component.ts ***!
  \************************************************************************/
/*! exports provided: ElementEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElementEditorComponent", function() { return ElementEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _Services_question_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Services/question-control.service */ "./src/app/Services/question-control.service.ts");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_question_id_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/question-id.service */ "./src/app/Services/question-id.service.ts");
/* harmony import */ var _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! .././form-elements/form-element-factory */ "./src/app/form-editor/form-elements/form-element-factory.ts");
/* harmony import */ var _modals_alert_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../modals/alert.component */ "./src/app/modals/alert.component.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Services/element-editor.service */ "./src/app/Services/element-editor.service.ts");
/* harmony import */ var _form_elements_Question__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../form-elements/Question */ "./src/app/form-editor/form-elements/Question.ts");
/* harmony import */ var _modals_schema_editor_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../modals/schema-editor.modal */ "./src/app/modals/schema-editor.modal.ts");
/* harmony import */ var _models_properties__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../models/properties */ "./src/app/form-editor/models/properties.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _models_property_factory__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../models/property-factory */ "./src/app/form-editor/models/property-factory.ts");
/* harmony import */ var _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Services/openmrs-api/concept.service */ "./src/app/Services/openmrs-api/concept.service.ts");
















var ElementEditorComponent = /** @class */ (function () {
    function ElementEditorComponent(qcs, formElementFactory, qis, ns, dialogService, el, propertyFactory, conceptService) {
        this.qcs = qcs;
        this.formElementFactory = formElementFactory;
        this.qis = qis;
        this.ns = ns;
        this.dialogService = dialogService;
        this.el = el;
        this.propertyFactory = propertyFactory;
        this.conceptService = conceptService;
        this.questionProperties = new _models_properties__WEBPACK_IMPORTED_MODULE_12__["Properties"]();
        this.setMembers = [];
        this.closeComponent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.addMode = false;
        this.editMode = false;
    }
    Object.defineProperty(ElementEditorComponent.prototype, "rawSchema", {
        set: function (rawSchema) {
            this._rawSchema = lodash__WEBPACK_IMPORTED_MODULE_13__["cloneDeep"](rawSchema);
        } // if edit obsGroup question
        ,
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ElementEditorComponent.prototype, "schema", {
        set: function (schema) {
            this._schema = lodash__WEBPACK_IMPORTED_MODULE_13__["clone"](schema);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ElementEditorComponent.prototype, "_questions", {
        set: function (questions) {
            this.questions = questions;
            this.form = this.qcs.toFormGroup(this.questions);
            this.setMode(this.form);
            this.breadcrumbsSetup();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ElementEditorComponent.prototype, "questionSchema", {
        set: function (schema) {
            this._questionSchema = schema;
            if (this._questionSchema) {
                if (this._questionSchema.questions) {
                    this.setMembers = this._questionSchema.questions;
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    ElementEditorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.form = this.qcs.toFormGroup(this.questions);
        this.setMode(this.form);
        this.allPossibleproperties = _models_properties__WEBPACK_IMPORTED_MODULE_12__["ALL_PROPERTIES"];
        this.breadcrumbsSetup();
        this.el.getMappings().subscribe(function (mappings) {
            _this.setMappings(mappings);
        });
        this.el.getSetMembers().subscribe(function (setMembers) {
            _this.setSetMembers(setMembers);
        });
        this.el.getConceptId().subscribe(function (id) {
            _this.setConceptId(id);
        });
    };
    ElementEditorComponent.prototype.setConceptId = function (id) {
        var prop = this.getProperty('conceptID');
        if (!this.form.contains(prop.key)) {
            prop.value = id;
            this.addProperty(prop);
        }
        else {
            this.form.controls[prop.key].setValue(id);
        }
    };
    ElementEditorComponent.prototype.addProperty = function (prop) {
        if (this.form.contains(prop.key)) {
            this.showAlert('Property already added!');
            return;
        }
        if (!prop.value) {
            this.form.addControl(prop.key, new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''));
        }
        else {
            this.form.addControl(prop.key, new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](prop.value));
        }
        this.questions.push(prop);
    };
    ElementEditorComponent.prototype.onSubmit = function () {
        var id = this.getProperty('id');
        if (this.form.contains(id.key)) {
            if (!this.checkId(this.form.get(id.key).value)) {
                return;
            }
        }
        var question = this.qcs.unflatten(this.form.value);
        if (question['type'] === 'obsGroup') {
            question['questions'] = this.setMembers;
        }
        if (question['validators']) {
            question['validators'] = this.parse(this.form.controls['validators'].value);
        }
        if (question['alert']) {
            question['alert'] = this.parse(this.form.controls['alert'].value);
        }
        if (question['hide']) {
            question['hide'] = this.parse(this.form.controls['hide'].value);
        }
        if (question.questionOptions['answers']) {
            question.questionOptions['answers'] = this.parse(this.form.controls['questionOptions.answers'].value);
        }
        if (question.questionOptions['selectableOrders']) {
            question.questionOptions['selectableOrders'] = this.parse(this.form.controls['questionOptions.selectableOrders'].value);
        }
        if (question.questionOptions['conceptMappings']) {
            question.questionOptions['conceptMappings'] = this.parse(this.form.controls['questionOptions.conceptMappings'].value);
        }
        if (this.addMode) {
            this.addQuestion(question, this.pageIndex, this.sectionIndex, this.questionIndex);
        }
        if (this.editMode) {
            this.editQuestion(question, this.pageIndex, this.sectionIndex, this.questionIndex, this.parentQuestionIndex);
        }
    };
    ElementEditorComponent.prototype.breadcrumbsSetup = function () {
        this.pageStr = this._schema.pages[this.pageIndex].label;
        this.sectionStr = this._schema.pages[this.pageIndex].sections[this.sectionIndex].label;
        this.questionStr = '';
        if (this.editMode && this.questionIndex !== -1) {
            this.questionStr = this._schema.pages[this.pageIndex].sections[this.sectionIndex].questions[this.questionIndex].label;
        }
    };
    ElementEditorComponent.prototype.parse = function (str) {
        return JSON.parse(str);
    };
    //   parseTextAreaQuestions(form: FormGroup, formValue: any) {
    //     const question = this.qcs.unflatten(formValue);
    //     for (const prop in formValue){
    //         const propModel = this.getProperty(prop);
    //         if (propModel) {
    //           if (propModel.controlType === 'textarea') {
    //             question[propModel.key] = this.parse(form.controls[propModel.key].value);
    //           }
    //         }
    //   }
    //   return question;
    // }
    ElementEditorComponent.prototype.deleteProp = function (index) {
        this.form.removeControl(this.questions[index].key);
        this.questions.splice(index, 1);
    };
    ElementEditorComponent.prototype.setMode = function (form) {
        this.form.get('label').value === ''
            ? this.setAddMode()
            : this.setEditMode();
    };
    ElementEditorComponent.prototype.setAddMode = function () {
        this.editMode = false;
        this.addMode = true;
    };
    ElementEditorComponent.prototype.setEditMode = function () {
        this.editMode = true;
        this.addMode = false;
        this.id = this.form.get('id').value;
    };
    ElementEditorComponent.prototype.setSetMembers = function (setMembers) {
        var _this = this;
        this.setMembers = [];
        setMembers.forEach(function (setMember) {
            var rendering = 'text';
            if (setMember.answers.length > 0) {
                rendering = 'select';
            }
            var question = new _form_elements_Question__WEBPACK_IMPORTED_MODULE_10__["Question"]();
            question.label = setMember.label;
            question.type = 'obs';
            (question.id = ''), (question.questionOptions.rendering = rendering);
            question.questionOptions['concept'] = setMember.concept;
            if (!lodash__WEBPACK_IMPORTED_MODULE_13__["isEmpty"](setMember.answers)) {
                question.questionOptions['answers'] = setMember.answers;
            }
            _this.form.controls['type'].setValue('obsGroup');
            _this.form.controls['questionOptions.rendering'].setValue('group');
            _this.setMembers.push(question);
        });
    };
    ElementEditorComponent.prototype.checkId = function (id) {
        if (this.form.contains('id')) {
            var _id = this.form.get('id').value;
            var ids = this.qis.getIDs(this._rawSchema);
            var count = 0;
            for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {
                var $id = ids_1[_i];
                if ($id === _id) {
                    count++;
                }
            }
            if (this.editMode && this.id !== _id && count > 0) {
                this.showAlert('ID exists \n Try using a different ID');
                return false;
            }
            else if (this.addMode && count > 0) {
                this.showAlert('ID exists \n Try using a different ID');
                return false;
            }
            else {
                return true;
            }
        }
    };
    ElementEditorComponent.prototype.showAlert = function (message) {
        this.dialogService.addDialog(_modals_alert_component__WEBPACK_IMPORTED_MODULE_7__["AlertComponent"], {
            message: message
        });
    };
    ElementEditorComponent.prototype.setPropValue = function (propKey, value) {
        this.form.controls[propKey].setValue(value);
    };
    ElementEditorComponent.prototype.setAnswers = function (answers) {
        var answersProp = this.getProperty('answers');
        this.answers = answers; // selectedAnswers
        if (answers.length > 0) {
            if (this.form.contains(answersProp.key)) {
                this.setPropValue(answersProp.key, JSON.stringify(answers, undefined, '\t'));
            }
            else {
                answersProp.value = JSON.stringify(answers, undefined, '\t');
                this.addProperty(answersProp);
            }
        }
        else {
            if (this.form.controls[answersProp.key]) {
                this.removeQuestion('questionOptions.answers');
            }
            else {
                return;
            }
        }
    };
    ElementEditorComponent.prototype.setMappings = function (mappings) {
        var mappingsProp = this.getProperty('conceptMappings');
        var props = this.conceptService.createMappingsValue(mappings);
        if (!this.form.controls[mappingsProp.key]) {
            mappingsProp.value = JSON.stringify(props, null, '\t');
            this.addProperty(mappingsProp);
        }
        else {
            this.form.controls[mappingsProp.key].setValue(JSON.stringify(props, null, '\t'));
        }
    };
    ElementEditorComponent.prototype.addQuestion = function (question, pageIndex, sectionIndex, questionIndex) {
        if (questionIndex !== undefined) {
            // obsGroup question
            if (this._rawSchema.pages[pageIndex].label) {
                if (this._rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this._schema.pages[pageIndex].sections[sectionIndex].questions[questionIndex].questions.push(question);
                    this._rawSchema.pages[pageIndex].sections[sectionIndex].questions[questionIndex].questions.push(question);
                }
                else {
                    this.showAlert('You cannot add a question to a referenced section.');
                    return;
                }
            }
            else {
                this.showAlert('You cannot add a question to a referenced page.');
                return;
            }
        }
        else {
            if (this._rawSchema.pages[pageIndex].label) {
                if (this._rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this._rawSchema.pages[pageIndex].sections[sectionIndex].questions.push(question);
                    this._schema.pages[pageIndex].sections[sectionIndex].questions.push(question);
                }
                else {
                    this.showAlert('You cannot add a question to a referenced section.');
                    return;
                }
            }
            else {
                this.showAlert('You cannot add a question to a referenced page.');
                return;
            }
        }
        this.ns.setSchema(this._schema);
        this.ns.setRawSchema(this._rawSchema);
        this.form.reset();
        this.closeElementEditor();
    };
    ElementEditorComponent.prototype.editQuestion = function (question, pageIndex, sectionIndex, questionIndex, parentQuestionIndex) {
        if (parentQuestionIndex !== undefined) {
            if (this._rawSchema.pages[pageIndex].label) {
                if (this._rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this._schema.pages[pageIndex].sections[sectionIndex].questions[parentQuestionIndex].questions.splice(questionIndex, 1, question);
                    this._rawSchema.pages[pageIndex].sections[sectionIndex].questions[parentQuestionIndex].questions.splice(questionIndex, 1, question);
                }
                else {
                    this.showAlert('You cannot edit a question of a referenced section');
                    return;
                }
            }
            else {
                this.showAlert('You cannot edit a question of a referenced page');
                return;
            }
        }
        else {
            if (this._rawSchema.pages[pageIndex].label) {
                if (this._rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this._schema.pages[pageIndex].sections[sectionIndex].questions.splice(questionIndex, 1, question);
                    this._rawSchema.pages[pageIndex].sections[sectionIndex].questions.splice(questionIndex, 1, question);
                }
                else {
                    this.showAlert('You cannot edit a question of a referenced section.');
                    return;
                }
            }
            else {
                this.showAlert('You cannot edit a question of a referenced page.');
                return;
            }
        }
        this.ns.setSchema(this._schema);
        this.ns.setRawSchema(this._rawSchema);
    };
    ElementEditorComponent.prototype.checkQuestion = function (question) {
        if (question.key === 'label' ||
            question.key === 'type' ||
            question.key === 'questionOptions.rendering') {
            return false;
        }
        return true;
    };
    ElementEditorComponent.prototype.typeSelected = function (type) {
        var conceptProperty = this.getProperty('concept');
        var orderTypeProperty = this.getProperty('ordertype');
        var orderSettingUuid = this.getProperty('ordersettinguuid');
        if (type === 'obs') {
            if (!this.form.contains(conceptProperty.key)) {
                this.addProperty(conceptProperty);
            }
        }
        else if (type === 'testOrder') {
            if (!this.form.contains(orderTypeProperty.key)) {
                this.addProperty(orderTypeProperty);
            }
            if (!this.form.contains(orderSettingUuid.key)) {
                this.addProperty(orderSettingUuid);
            }
        }
    };
    ElementEditorComponent.prototype.getProperty = function (propertyName) {
        return this.questionProperties.getPropertyByName(propertyName);
    };
    ElementEditorComponent.prototype.renderingSelected = function (rendering) {
        var maxProperty = this.getProperty('max');
        var minProperty = this.getProperty('min');
        var showDateProperty = this.getProperty('showdate');
        var rowsProperty = this.getProperty('rows');
        var showWeeksProperty = this.getProperty('weekslist');
        switch (rendering) {
            case 'number':
                this.removePreviousFields(rendering);
                if (!this.form.contains(maxProperty.key) &&
                    !this.form.contains(minProperty.key)) {
                    this.addProperty(maxProperty);
                    this.addProperty(minProperty);
                    this.addProperty(showDateProperty);
                }
                break;
            case 'textarea':
                this.removePreviousFields(rendering);
                if (!this.form.contains(rowsProperty.key)) {
                    this.addProperty(rowsProperty);
                }
                break;
            case 'date':
                this.removePreviousFields(rendering);
                if (!this.form.contains(showWeeksProperty.key)) {
                    this.addProperty(showWeeksProperty);
                }
                break;
            default:
                this.removePreviousFields(rendering);
        }
    };
    ElementEditorComponent.prototype.reselectAnswers = function () {
        if (this.answers !== undefined) {
            this.el.reShowAnswersDialog(this.answers);
        }
        else {
            this.el.reShowAnswersDialog(JSON.parse(this.form.controls['questionOptions.answers'].value));
        }
    };
    ElementEditorComponent.prototype.closeElementEditor = function () {
        this.closeComponent.emit(true);
    };
    ElementEditorComponent.prototype.viewSetMembers = function () {
        this.dialogService.addDialog(_modals_schema_editor_modal__WEBPACK_IMPORTED_MODULE_11__["SchemaModalComponent"], {
            schema: JSON.stringify(this.setMembers, null, 4),
            title: 'Set Members Schema'
        });
    };
    ElementEditorComponent.prototype.reselectSetMembers = function () {
        this.el.reShowSetMembersDialog(this.setMembers);
    };
    ElementEditorComponent.prototype.removePreviousFields = function (rendering) {
        switch (rendering) {
            case 'number':
                this.removeDateRelatedFields();
                this.removeTextAreaRelatedFields();
                break;
            case 'textarea':
                this.removeNumberRelatedFields();
                this.removeDateRelatedFields();
                break;
            case 'date':
                this.removeNumberRelatedFields();
                this.removeTextAreaRelatedFields();
                break;
            default:
                this.removeDateRelatedFields();
                this.removeNumberRelatedFields();
                this.removeTextAreaRelatedFields();
                break;
        }
    };
    ElementEditorComponent.prototype.removeQuestion = function (qn) {
        var i;
        this.questions.forEach(function (question, index) {
            if (question['key'] === qn) {
                i = index;
            }
        });
        this.deleteProp(i);
    };
    ElementEditorComponent.prototype.showDate = function ($event) {
        var showDateOptionsProperty = this.getProperty('showdateoptions');
        if ($event === true) {
            if (!this.form.contains(showDateOptionsProperty.key)) {
                this.addProperty(showDateOptionsProperty);
            }
        }
        else {
            this.form.removeControl(showDateOptionsProperty.key);
            this.removeQuestion(showDateOptionsProperty.key);
        }
    };
    ElementEditorComponent.prototype.removeTextAreaRelatedFields = function () {
        if (this.form.contains('questionOptions.rows')) {
            this.form.removeControl('questionOptions.rows');
            this.removeQuestion('questionOptions.rows');
        }
    };
    ElementEditorComponent.prototype.removeNumberRelatedFields = function () {
        if (this.form.contains('questionOptions.max')) {
            this.removeQuestion('questionOptions.max');
            this.form.removeControl('questionOptions.max');
        }
        if (this.form.contains('questionOptions.min')) {
            this.form.removeControl('questionOptions.min');
            this.removeQuestion('questionOptions.min');
        }
        if (this.form.contains('questionOptions.showDate')) {
            this.form.removeControl('questionOptions.showDate');
            this.removeQuestion('questionOptions.showDate');
        }
    };
    ElementEditorComponent.prototype.removeDateRelatedFields = function () {
        if (this.form.contains('questionOptions.weeksList')) {
            this.form.removeControl('questionOptions.weeksList');
            this.removeQuestion('questionOptions.weeksList');
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ElementEditorComponent.prototype, "pageIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ElementEditorComponent.prototype, "sectionIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ElementEditorComponent.prototype, "questionIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ElementEditorComponent.prototype, "parentQuestionIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], ElementEditorComponent.prototype, "rawSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], ElementEditorComponent.prototype, "closeComponent", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], ElementEditorComponent.prototype, "schema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], ElementEditorComponent.prototype, "_questions", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], ElementEditorComponent.prototype, "questionSchema", null);
    ElementEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-element-editor',
            template: __webpack_require__(/*! ./element-editor.component.html */ "./src/app/form-editor/element-editor/element-editor.component.html"),
            styles: [__webpack_require__(/*! ./element-editor.component.css */ "./src/app/form-editor/element-editor/element-editor.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_question_control_service__WEBPACK_IMPORTED_MODULE_3__["QuestionControlService"],
            _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_6__["FormElementFactory"],
            _Services_question_id_service__WEBPACK_IMPORTED_MODULE_5__["QuestionIdService"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_4__["NavigatorService"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__["DialogService"],
            _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_9__["ElementEditorService"],
            _models_property_factory__WEBPACK_IMPORTED_MODULE_14__["PropertyFactory"],
            _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_15__["ConceptService"]])
    ], ElementEditorComponent);
    return ElementEditorComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/form-editor/form-editor.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/form-editor/form-editor/form-editor.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* .container{\n    margin: auto;\n    margin-top: 100px;\n} */\n\n#create-form {\n  height: 500px;\n  border-right: 1px solid lightgray;\n}\n\na {\n  margin: auto;\n}\n\nh6 {\n  color: #2196f3;\n}\n\n.menu {\n  flex: 1 1 auto;\n}\n\n/* .mat-toolbar{\n    background:#337ab7;\n}\n.mat-tab-labels{\n     background-color:#337ab7 !important;\n     \n} */\n\n.mat-sidenav {\n  width: 650px;\n  background: #fafafa;\n}\n\n/* .mat-sidenav-content {\n    position: relative;\n    transform: translate3d(0,0,0);\n    display: block;\n    height: fill-available !important;\n    overflow-x:hidden !important;\n} */\n\na {\n  cursor: pointer;\n}\n\n.row {\n  display: flex;\n}\n\n.btn-default {\n  color: #fff;\n  background: rgba(0, 0, 0, 0);\n  border: none;\n}\n\n.editor {\n  flex-grow: 1;\n}\n\n#loadingDiv {\n  height: 85vh;\n  position: relative;\n  background: transparent;\n}\n\n.loader {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.element-editor {\n  margin: auto;\n  max-width: 760px;\n}\n\n.bold {\n  font-weight: 700;\n  color: black;\n}\n\n.schema-editor {\n  margin: auto;\n  height: auto;\n  /* width:1600px; */\n}\n\n.errorToolbar {\n  background: darkcyan;\n}\n\n.menu {\n  margin-left: 10px;\n}\n\n.hr {\n  border-bottom: 1px solid lightgray;\n}\n\n.audit-content {\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.app-content {\n  border-top: 1px solid lightgray;\n}\n\n.space {\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n.show-on-hover:hover > ul.dropdown-menu {\n  display: block;\n}\n\n.fb-menu-item {\n  font-size: 15px;\n  font-weight: 600;\n  color: white;\n}\n\n.btn-default.active,\n.btn-default:active,\n.open > .dropdown-toggle.btn-default {\n  box-shadow: none;\n  background-color: rgba(0, 0, 0, 0.555);\n}\n\n.dropdown-menu:before {\n  position: absolute;\n  top: -7px;\n  left: 9px;\n  display: inline-block;\n  border-right: 7px solid transparent;\n  border-bottom: 7px solid #ccc;\n  border-left: 7px solid transparent;\n  border-bottom-color: rgba(0, 0, 0, 0.2);\n  content: '';\n}\n\n.dropdown-menu:after {\n  position: absolute;\n  top: -6px;\n  left: 10px;\n  display: inline-block;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ffffff;\n  border-left: 6px solid transparent;\n  content: '';\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvZm9ybS1lZGl0b3IvZm9ybS1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7O0FBRUg7RUFDRSxhQUFhO0VBQ2IsaUNBQWlDO0FBQ25DOztBQUNBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFDQTtFQUNFLGNBQWM7QUFDaEI7O0FBQ0E7Ozs7OztHQU1HOztBQUNIO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFDQTs7Ozs7O0dBTUc7O0FBQ0g7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUNBO0VBQ0UsV0FBVztFQUNYLDRCQUE0QjtFQUM1QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBQ0E7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsU0FBUztFQUNULGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7O0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxvQkFBb0I7QUFDdEI7O0FBQ0E7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLFlBQVk7QUFDZDs7QUFDQTs7O0VBR0UsZ0JBQWdCO0VBQ2hCLHNDQUFzQztBQUN4Qzs7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsU0FBUztFQUNULHFCQUFxQjtFQUNyQixtQ0FBbUM7RUFDbkMsNkJBQTZCO0VBQzdCLGtDQUFrQztFQUNsQyx1Q0FBdUM7RUFDdkMsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxVQUFVO0VBQ1YscUJBQXFCO0VBQ3JCLG1DQUFtQztFQUNuQyxnQ0FBZ0M7RUFDaEMsa0NBQWtDO0VBQ2xDLFdBQVc7QUFDYiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZWRpdG9yL2Zvcm0tZWRpdG9yL2Zvcm0tZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAuY29udGFpbmVye1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBtYXJnaW4tdG9wOiAxMDBweDtcbn0gKi9cblxuI2NyZWF0ZS1mb3JtIHtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgbGlnaHRncmF5O1xufVxuYSB7XG4gIG1hcmdpbjogYXV0bztcbn1cblxuaDYge1xuICBjb2xvcjogIzIxOTZmMztcbn1cbi5tZW51IHtcbiAgZmxleDogMSAxIGF1dG87XG59XG4vKiAubWF0LXRvb2xiYXJ7XG4gICAgYmFja2dyb3VuZDojMzM3YWI3O1xufVxuLm1hdC10YWItbGFiZWxze1xuICAgICBiYWNrZ3JvdW5kLWNvbG9yOiMzMzdhYjcgIWltcG9ydGFudDtcbiAgICAgXG59ICovXG4ubWF0LXNpZGVuYXYge1xuICB3aWR0aDogNjUwcHg7XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG59XG4vKiAubWF0LXNpZGVuYXYtY29udGVudCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLDApO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGhlaWdodDogZmlsbC1hdmFpbGFibGUgIWltcG9ydGFudDtcbiAgICBvdmVyZmxvdy14OmhpZGRlbiAhaW1wb3J0YW50O1xufSAqL1xuYSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uYnRuLWRlZmF1bHQge1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwKTtcbiAgYm9yZGVyOiBub25lO1xufVxuXG4uZWRpdG9yIHtcbiAgZmxleC1ncm93OiAxO1xufVxuI2xvYWRpbmdEaXYge1xuICBoZWlnaHQ6IDg1dmg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5sb2FkZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xufVxuXG4uZWxlbWVudC1lZGl0b3Ige1xuICBtYXJnaW46IGF1dG87XG4gIG1heC13aWR0aDogNzYwcHg7XG59XG4uYm9sZCB7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLnNjaGVtYS1lZGl0b3Ige1xuICBtYXJnaW46IGF1dG87XG4gIGhlaWdodDogYXV0bztcbiAgLyogd2lkdGg6MTYwMHB4OyAqL1xufVxuLmVycm9yVG9vbGJhciB7XG4gIGJhY2tncm91bmQ6IGRhcmtjeWFuO1xufVxuLm1lbnUge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuLmhyIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbn1cblxuLmF1ZGl0LWNvbnRlbnQge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4uYXBwLWNvbnRlbnQge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgbGlnaHRncmF5O1xufVxuXG4uc3BhY2Uge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uc2hvdy1vbi1ob3Zlcjpob3ZlciA+IHVsLmRyb3Bkb3duLW1lbnUge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmZiLW1lbnUtaXRlbSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHdoaXRlO1xufVxuLmJ0bi1kZWZhdWx0LmFjdGl2ZSxcbi5idG4tZGVmYXVsdDphY3RpdmUsXG4ub3BlbiA+IC5kcm9wZG93bi10b2dnbGUuYnRuLWRlZmF1bHQge1xuICBib3gtc2hhZG93OiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTU1KTtcbn1cbi5kcm9wZG93bi1tZW51OmJlZm9yZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtN3B4O1xuICBsZWZ0OiA5cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYm9yZGVyLXJpZ2h0OiA3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1ib3R0b206IDdweCBzb2xpZCAjY2NjO1xuICBib3JkZXItbGVmdDogN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItYm90dG9tLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIGNvbnRlbnQ6ICcnO1xufVxuXG4uZHJvcGRvd24tbWVudTphZnRlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtNnB4O1xuICBsZWZ0OiAxMHB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJvcmRlci1yaWdodDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZmZmZjtcbiAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgY29udGVudDogJyc7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/form-editor/form-editor.component.html":
/*!********************************************************************!*\
  !*** ./src/app/form-editor/form-editor/form-editor.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"loading\" id=\"loadingDiv\">\n  <img class=\"loader\" src=\"./assets/loader.gif\" />\n</div>\n<div *ngIf=\"schema\">\n  <mat-sidenav-container style=\"height: 100vh\">\n    <mat-sidenav #sidenav mode=\"over\" class=\"app-sidenav\">\n      <!---Navigator-->\n\n      <app-navigator [_rawSchema]=\"rawSchema\" [_schema]=\"schema\" [formSchema]=\"schema\" [mode]=\"'edit'\"\n        (closeSidebar)=\"closeNavigator($event)\"></app-navigator>\n    </mat-sidenav>\n    <mat-toolbar color=\"primary\">\n      <button mat-icon-button (click)=\"sidenav.toggle()\">\n        <mat-icon class=\"md-24\">menu</mat-icon>\n      </button>\n      <span style=\"font-size: 18px; font-family: 'Roboto'\">Form Builder</span>\n      <span class=\"menu\">\n        <div class=\"btn-group show-on-hover\">\n          <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"fb-menu-item\">File</span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li>\n              <a (click)=\"saveLocally()\">\n                <span style=\"font-size: 14px; font-weight: 500\"><i class=\"glyphicon glyphicon-save\"\n                    aria-hidden=\"true\"></i>\n                  Save Locally</span></a>\n            </li>\n            <li>\n              <a (click)=\"saveRemotely()\">\n                <span style=\"margin-top: 15px; font-size: 14px; font-weight: 500\"><i class=\"fa fa-server\"\n                    aria-hidden=\"true\"></i> Save to\n                  Server</span></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"btn-group show-on-hover\">\n          <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"fb-menu-item\">View</span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li>\n              <a (click)=\"toggleView()\"><span style=\"font-size: 14px; font-weight: 500\"><i class=\"fa fa-square-o\"\n                    aria-hidden=\"true\"></i> Single\n                  View</span>\n                <i class=\"fa\" [class.fa-check]=\"viewMode === 'singleView'\" style=\"color: green\"></i></a>\n            </li>\n            <li>\n              <a (click)=\"toggleView()\"><span style=\"font-size: 15px; font-weight: 500\">\n                  <i class=\"fa fa-columns\" aria-hidden=\"true\"></i> Split\n                  View</span>\n                <i class=\"fa\" [class.fa-check]=\"viewMode === 'multiView'\" style=\"color: green\"></i></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"btn-group show-on-hover\">\n          <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"fb-menu-item\">Tasks</span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li>\n              <a (click)=\"validateConcepts()\"><i class=\"fa fa-check-square-o\"></i>\n                <span style=\"font-size: 14px; font-weight: 500\">\n                  Validate Concepts</span></a>\n            </li>\n            <li>\n              <a (click)=\"addConceptMappingsToForm(rawSchema)\"><i class=\"fa fa-plus-circle\"></i>\n                <span style=\"font-size: 14px; font-weight: 500\">\n                  Add Concept Mappings to Schema</span></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"btn-group show-on-hover\">\n          <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"fb-menu-item\">User</span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li>\n              <a>\n                <span class=\"fa fa-user\"></span><span style=\"font-size: 14px; font-weight: 500\">\n                  {{ user }}</span></a>\n            </li>\n            <li>\n              <a>\n                <i class=\"fa fa-server\"></i><span style=\"font-size: 14px; font-weight: 500\"></span>\n                {{ url }}</a>\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"btn-group\">\n          <button type=\"button\" class=\"btn btn-default\" data-toggle=\"collapse\" data-target=\"#audit-info\">\n            <span class=\"fb-menu-item\">Audit</span>\n          </button>\n        </div>\n        <div class=\"btn-group\">\n          <button type=\"button\" class=\"btn btn-default\" (click)=\"exit()\">\n            <span class=\"fb-menu-item\"> Exit</span>\n          </button>\n        </div>\n      </span>\n\n      <span flex></span>\n      <app-reference-forms [schema]=\"schema\"></app-reference-forms>\n      <span class=\"space\"></span>\n      <button *ngIf=\"!formMetadata.published\" type=\"button\" class=\"btn btn-info\" (click)=\"publish()\">\n        Publish\n      </button>\n      <button *ngIf=\"formMetadata.published\" type=\"button\" class=\"btn btn-danger\" (click)=\"unpublish()\">\n        Unpublish\n      </button>\n    </mat-toolbar>\n    <div id=\"audit-info\" class=\"container collapse audit-content\">\n      <mat-card>\n        <audit-info [_formMetadata]=\"formMetadata\"></audit-info>\n      </mat-card>\n    </div>\n\n    <div class=\"app-content\" *ngIf=\"schema\">\n      <div *ngIf=\"viewMode === 'singleView'\">\n        <mat-tab-group mat-stretch-tabs class=\"schema-editor\">\n          <!--Element Editor-->\n          <mat-tab *ngIf=\"questions\" label=\"Element Editor\">\n            <ng-template mat-tab-label>\n              Question Editor\n              <a (click)=\"closeElementEditor()\" data-toggle=\"tooltip\" title=\"close tab\" class=\"pull-right\"\n                style=\"margin-right: 25px; padding-top: 5px; cursor: pointer\"><i\n                  class=\"material-icons\">highlight_off</i></a>\n            </ng-template>\n\n            <mat-card class=\"element-editor\">\n              <app-element-editor [schema]=\"schema\" [pageIndex]=\"page\" [sectionIndex]=\"section\"\n                [questionIndex]=\"question\" [parentQuestionIndex]=\"parentQuestionIndex\" [_questions]=\"questions\"\n                [rawSchema]=\"rawSchema\" (closeComponent)=\"closeElementEditor()\" [questionSchema]=\"questionSchema\">\n              </app-element-editor>\n            </mat-card>\n          </mat-tab>\n\n          <!--Schema editor-->\n          <mat-tab label=\"Schema Editor\">\n            <mat-card class=\"schema-editor\">\n              <app-schema-editor [schema]=\"schema\" [rawSchema]=\"rawSchema\" [$formSchema]=\"schema\"\n                [strRawSchema]=\"strRawSchema\" [strSchema]=\"strSchema\"></app-schema-editor>\n            </mat-card>\n          </mat-tab>\n\n          <!--Form-renderer-->\n          <mat-tab label=\"Form Viewer\">\n            <mat-card class=\"schema-editor\">\n              <app-form-renderer [schema]=\"schema\"></app-form-renderer>\n            </mat-card>\n          </mat-tab>\n        </mat-tab-group>\n      </div>\n\n      <div *ngIf=\"viewMode === 'multiView'\">\n        <div class=\"row\">\n          <!--Element Editor-->\n          <div *ngIf=\"questions\" class=\"col-md-4\">\n            <div>\n              <h4 class=\"text-cente\" style=\"display: inline-block\">\n                Question Editor\n              </h4>\n              <a (click)=\"closeElementEditor()\" data-toggle=\"tooltip\" title=\"close tab\" class=\"pull-right\"\n                style=\"padding-top: 5px; cursor: pointer; display: inline-block\"><i\n                  class=\"material-icons\">highlight_off</i></a>\n            </div>\n\n            <mat-card class=\"element-editor\">\n              <app-element-editor [schema]=\"schema\" [pageIndex]=\"page\" [sectionIndex]=\"section\"\n                [questionIndex]=\"question\" [parentQuestionIndex]=\"parentQuestionIndex\" [_questions]=\"questions\"\n                [rawSchema]=\"rawSchema\" (closeComponent)=\"closeElementEditor()\"></app-element-editor>\n            </mat-card>\n          </div>\n\n          <!--Schema editor-->\n          <div [class.col-md-4]=\"questions\" [class.col-md-6]=\"!questions\">\n            <h4 class=\"text-center\">Schema Editor</h4>\n            <mat-card class=\"schema-editor\">\n              <app-schema-editor [schema]=\"strSchema\" [rawSchema]=\"strRawSchema\" [$formSchema]=\"schema\">\n              </app-schema-editor>\n            </mat-card>\n          </div>\n\n          <!--Form-renderer-->\n          <div [class.col-md-4]=\"questions\" [class.col-md-6]=\"!questions\">\n            <h4 class=\"text-center\">Form Viewer</h4>\n            <mat-card class=\"schema-editor\">\n              <app-form-renderer [schema]=\"schema\"></app-form-renderer>\n            </mat-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </mat-sidenav-container>\n</div>\n<div *ngIf=\"viewMode === 'badSchema' && !schema\">\n  <mat-toolbar class=\"errorToolbar\">\n    <span style=\"font-size: 18px; font-family: 'Roboto'; color: white\">Form Builder</span>\n  </mat-toolbar>\n  <span class=\"alert alert-warning\">\n    This schema contains errors and cannot be properly compiled. Please try to\n    correct the errors in the schema and re-compile it.\n  </span>\n  <div class=\"well\">\n    <app-schema-editor [strRawSchema]=\"strRawSchema\" [correctionMode]=\"true\" [_errorMessage]=\"errorMessage\"\n      (correctedSchemaErrors)=\"loadFormBuilder($event)\"></app-schema-editor>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/form-editor/form-editor.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/form-editor/form-editor/form-editor.component.ts ***!
  \******************************************************************/
/*! exports provided: FormEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormEditorComponent", function() { return FormEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _snackbar_snackbar_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../snackbar/snackbar.component */ "./src/app/form-editor/snackbar/snackbar.component.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-all-forms.service */ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _form_elements_Form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../form-elements/Form */ "./src/app/form-editor/form-elements/Form.ts");
/* harmony import */ var _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Services/storage/local-storage.service */ "./src/app/Services/storage/local-storage.service.ts");
/* harmony import */ var _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../Services/storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _Services_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../Services/constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _modals_save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../modals/save-form-modal/save-form-modal */ "./src/app/modals/save-form-modal/save-form-modal.ts");
/* harmony import */ var _modals_confirm_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../modals/confirm.component */ "./src/app/modals/confirm.component.ts");
/* harmony import */ var _modals_alert_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../modals/alert.component */ "./src/app/modals/alert.component.ts");
/* harmony import */ var _Services_form_list_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../Services/form-list.service */ "./src/app/Services/form-list.service.ts");
/* harmony import */ var _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../Services/openmrs-api/save-form.service */ "./src/app/Services/openmrs-api/save-form.service.ts");
/* harmony import */ var _Services_openmrs_api_encounter_type_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../Services/openmrs-api/encounter-type.service */ "./src/app/Services/openmrs-api/encounter-type.service.ts");
/* harmony import */ var _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../Services/openmrs-api/concept.service */ "./src/app/Services/openmrs-api/concept.service.ts");
/* harmony import */ var _snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../snackbar/notification-toast */ "./src/app/form-editor/snackbar/notification-toast.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ngx-openmrs-formentry/dist/ngx-formentry */ "./node_modules/ngx-openmrs-formentry/dist/ngx-formentry/fesm5/ngx-openmrs-formentry.js");
























var FormEditorComponent = /** @class */ (function () {
    function FormEditorComponent(fs, navigatorService, snackbar, router, route, dialogService, localStorageService, cdRef, fectAllFormsService, formListService, saveFormService, encounterTypeService, sessionStorageService, conceptService, formSchemaCompiler, fetchFormDetailService) {
        this.fs = fs;
        this.navigatorService = navigatorService;
        this.snackbar = snackbar;
        this.router = router;
        this.route = route;
        this.dialogService = dialogService;
        this.localStorageService = localStorageService;
        this.cdRef = cdRef;
        this.fectAllFormsService = fectAllFormsService;
        this.formListService = formListService;
        this.saveFormService = saveFormService;
        this.encounterTypeService = encounterTypeService;
        this.sessionStorageService = sessionStorageService;
        this.conceptService = conceptService;
        this.formSchemaCompiler = formSchemaCompiler;
        this.fetchFormDetailService = fetchFormDetailService;
        this.errorMessage = '';
        this.disableCanDeactivate = false;
        this.loading = true;
    }
    FormEditorComponent.prototype.closeElementEditor = function () {
        this.questions = undefined;
    };
    FormEditorComponent.prototype.closeNavigator = function (event) {
        this.myNav.close();
    };
    FormEditorComponent.prototype.openNavigator = function () {
        this.myNav.open();
    };
    FormEditorComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    FormEditorComponent.prototype.ngAfterContentInit = function () {
        this.loading = true;
    };
    FormEditorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loading = true;
        this.viewMode = this.getViewMode(); // default view mode
        this.user = this.sessionStorageService.getObject('user').username;
        this.url = this.sessionStorageService.getItem('url');
        this.fectAllFormsService.getFormType().subscribe(function (res) {
            if (res !== '') {
                _this.formType = res;
                _this.localStorageService.setItem('formType', _this.formType);
            }
        });
        this.formMetadata = {
            name: '',
            uuid: '',
            valueReference: '',
            resourceUUID: '',
            version: null,
            encounterType: '',
            description: '',
            auditInfo: {},
            published: false
        };
        this.fs.setReferencedFormsSchemasArray([]);
        this.subscription = this.fs.loaded().subscribe(function (isLoaded) {
            if (isLoaded) {
                _this.loading = false;
            }
        });
        this.subscription = this.route.params.subscribe(function (params) {
            var uuid = params['uuid'];
            if (uuid === 'new') {
                _this.createNewForm();
            }
            else if (uuid === 'restoredForm') {
                if (_this.fs.restoreReferencedForms(_this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].RAW_SCHEMA))) {
                    _this.fs
                        .restoreReferencedForms(_this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].RAW_SCHEMA))
                        .then(function (res) {
                        _this.setFormEditor(_this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].SCHEMA), _this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].RAW_SCHEMA), _this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].FORM_METADATA));
                    });
                }
                else {
                    _this.setFormEditor(_this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].SCHEMA), _this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].RAW_SCHEMA));
                }
                _this.formType = _this.localStorageService.getItem('formType');
            }
            else {
                console.log('Get form', uuid);
                _this.formMetadata.uuid = uuid;
                _this.fs
                    .fetchFormMetadata(_this.formMetadata.uuid, false)
                    .then(function (metadata) {
                    _this.formMetadata.version = metadata.version;
                    _this.formMetadata.name = metadata.name;
                    if (metadata.encounterType) {
                        _this.formMetadata.encounterType = metadata.encounterType.display;
                    }
                    if (metadata.description) {
                        _this.formMetadata.description = metadata.description;
                    }
                    _this.formMetadata.auditInfo = metadata.auditInfo;
                    _this.formMetadata.published = metadata.published;
                    // this.saveFormMetadata(this.formMetadata); // save form metadata to local storage for retrieval later on
                    console.log('Resources', metadata.resources);
                    if (metadata.resources.length) {
                        _this.formMetadata.valueReference =
                            metadata.resources[0].valueReference || '';
                        _this.formMetadata.resourceUUID = metadata.resources[0].uuid;
                        _this.fetchForm(metadata.resources[0].valueReference);
                    }
                    else {
                        _this.createFormForMissingResource();
                    }
                    lodash__WEBPACK_IMPORTED_MODULE_22__["includes"](_this.formMetadata.name, _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].COMPONENT)
                        ? _this.localStorageService.setItem(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].FORM_TYPE, _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].COMPONENT)
                        : _this.localStorageService.setItem(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].FORM_TYPE, _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].POC);
                })
                    .catch(function (e) {
                    _this.loading = false;
                    console.error(e);
                    alert('Check your internet connection and CORS then refresh.');
                });
            }
        });
        this.subscription = this.navigatorService
            .getRawSchema()
            .subscribe(function (res) {
            _this.rawSchema = res;
            _this.strRawSchema = JSON.stringify(_this.rawSchema, null, '\t');
            if (_this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].SCHEMA)) {
                if (_this.rawSchema.name ===
                    _this.localStorageService.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].SCHEMA).name) {
                    _this.saveRawDraft(_this.rawSchema); // only save when compiled version exists in memory.
                }
            }
        });
        this.subscription = this.navigatorService
            .getClickedElementRawSchema()
            .subscribe(function (res) {
            if (res) {
                _this.rawSelectedSchema = res;
                _this.strRawSchema = JSON.stringify(_this.rawSelectedSchema, null, '\t');
            }
        });
        // prevent from saving form metadata.
        // on navigator element clicked for editing
        this.subscription = this.navigatorService
            .getClickedElementSchema()
            .subscribe(function (res) {
            _this.selectedSchema = res;
            _this.strSchema = JSON.stringify(_this.selectedSchema.selectedSchema, null, '\t');
        });
        // on element added/deleted/modified
        this.subscription = this.navigatorService.getSchema().subscribe(function (res) {
            _this.schema = res;
            _this.strSchema = JSON.stringify(_this.schema, null, '\t');
            _this.saveDraft(_this.schema);
            _this.saveFormMetadata(_this.formMetadata);
            _this.showSuccessToast('Schema Updated!');
        });
        this.subscription = this.navigatorService
            .getNewQuestion()
            .subscribe(function (res) {
            _this.questions = res['propModelArray'];
            _this.page = res['pageIndex'];
            _this.section = res['sectionIndex'];
            _this.question = res['questionIndex'];
            _this.parentQuestion = res['parentQuestionIndex'];
            _this.questionSchema = res['schema'];
            _this.myNav.close();
        });
        // getting new form metadata after saving remotely
        this.subscription = this.saveFormService
            .getNewResourceUUID()
            .subscribe(function (uuid) { return (_this.formMetadata.resourceUUID = uuid); });
        this.subscription = this.saveFormService
            .getNewValueReference()
            .subscribe(function (value) { return (_this.formMetadata.valueReference = value); });
        this.subscription = this.saveFormService
            .getNewEncounterType()
            .subscribe(function (encounterType) { return (_this.formMetadata.encounterType = encounterType); });
        this.subscription = this.saveFormService
            .getNewFormUUID()
            .subscribe(function (uuid) {
            _this.previousVersionUUID = _this.formMetadata.uuid;
            _this.formMetadata.uuid = uuid;
            _this.disableCanDeactivate = true;
            //FIXME This call should be uncessary but for some reason openmrs does not return forms resources on the after call after saving
            _this.fs.fetchFormMetadata(uuid, false).then(function (form) {
                _this.router.navigate(['/edit', form.uuid]);
            });
        });
        this.subscription = this.saveFormService
            .getNewFormName()
            .subscribe(function (res) {
            _this.formMetadata.name = res;
            _this.saveFormMetadata(_this.formMetadata);
        });
        this.subscription = this.saveFormService
            .getNewVersion()
            .subscribe(function (res) {
            _this.formMetadata.version = res;
            _this.saveFormMetadata(_this.formMetadata);
        });
        this.subscription = this.encounterTypeService
            .getEncounterTypes()
            .subscribe(function (res) { return (_this.encounterTypes = res.results); });
    };
    FormEditorComponent.prototype.fetchForm = function (value) {
        var _this = this;
        this.fs
            .fetchForm(value, false)
            .then(function (res) {
            if (_this.checkIfSchemaProperlyCompiled(res.pages)) {
                _this.setFormEditor(res, _this.fs.rawSchema);
            }
        })
            .catch(function (error) {
            console.error(error);
            _this.loading = false;
            _this.viewMode = 'badSchema';
            _this.errorMessage = error.message;
            _this.fs.fetchForm(value, true).then(function (schema) {
                _this.strRawSchema = JSON.stringify(schema, null, '\t');
            });
        });
    };
    FormEditorComponent.prototype.createNewForm = function () {
        this.loading = false;
        this.localStorageService.clear(); // clear local storage
        var schema = new _form_elements_Form__WEBPACK_IMPORTED_MODULE_10__["Form"]({
            name: '',
            processor: 'EncounterFormProcessor',
            uuid: 'xxxx',
            referencedForms: [],
            pages: []
        });
        this.setFormEditor(schema, schema);
    };
    FormEditorComponent.prototype.createFormForMissingResource = function () {
        this.loading = false;
        var schema = new _form_elements_Form__WEBPACK_IMPORTED_MODULE_10__["Form"]({
            name: this.formMetadata.name,
            processor: 'EncounterFormProcessor',
            uuid: 'xxxx',
            referencedForms: [],
            pages: []
        });
        this.setFormEditor(schema, schema);
    };
    FormEditorComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
    };
    FormEditorComponent.prototype.canDeactivate = function () {
        if (!this.disableCanDeactivate) {
            return confirm('Are you sure you want to navigate away from this page and lose all changes?');
        }
        else {
            return true;
        }
    };
    FormEditorComponent.prototype.checkIfSchemaProperlyCompiled = function (elements) {
        var _this = this;
        var bool = true;
        var ets = [];
        elements.forEach(function (element) {
            if (!element.label) {
                _this.loading = false;
                ets.push(element);
                bool = false;
                return bool;
            }
            else {
                if (element.sections) {
                    _this.checkIfSchemaProperlyCompiled(element.sections);
                }
                if (element.questions) {
                    _this.checkIfSchemaProperlyCompiled(element.questions);
                }
            }
        });
        if (ets.length > 0) {
            this.alertUser(ets);
        }
        return bool;
    };
    FormEditorComponent.prototype.alertUser = function (elements) {
        alert('This form cannot be edited because the some referenced elements was not found.' +
            'Please check the respective components if these elements exist then retry \n \n' +
            JSON.stringify(elements, null, 2));
        this.disableCanDeactivate = true;
        this.router.navigate(['/forms']);
    };
    FormEditorComponent.prototype.showSuccessToast = function (message) {
        this.snackbar.openFromComponent(_snackbar_snackbar_component__WEBPACK_IMPORTED_MODULE_3__["SnackbarComponent"], {
            duration: 1500,
            data: message
        });
    };
    FormEditorComponent.prototype.showNotificationMessage = function (message) {
        this.snackbar.open(message, '', {
            duration: 1200
        });
    };
    FormEditorComponent.prototype.setFormEditor = function (schema, rawSchema, formMetadata) {
        this.selectedSchema = schema;
        this.schema = schema;
        this.strSchema = JSON.stringify(schema, null, '\t');
        this.rawSchema = rawSchema;
        this.navigatorService.setRawSchema(this.rawSchema);
        this.strRawSchema = JSON.stringify(this.rawSchema, null, '\t');
        if (formMetadata) {
            this.formMetadata = formMetadata;
        } // if form is being restored from local storage, retrieve metadata.
    };
    FormEditorComponent.prototype.saveLocally = function (silently) {
        this.saveDraft(this.schema);
        this.saveRawDraft(this.rawSchema);
        this.saveFormMetadata(this.formMetadata);
        if (!silently) {
            this.showSaveSnackbar();
        }
    };
    FormEditorComponent.prototype.saveRemotely = function () {
        var _this = this;
        this.saveLocally(true);
        if (this.formMetadata.published || !lodash__WEBPACK_IMPORTED_MODULE_22__["isEmpty"](this.formMetadata.uuid)) {
            var message = '';
            if (this.formMetadata.published) {
                message =
                    'This form has been published. Would you want to overwrite the existing form?';
            }
            else if (!lodash__WEBPACK_IMPORTED_MODULE_22__["isEmpty"](this.formMetadata.uuid)) {
                message = 'Would you want to update the form or save as a new version?';
            }
            this.dialogService
                .addDialog(_modals_confirm_component__WEBPACK_IMPORTED_MODULE_15__["ConfirmComponent"], {
                title: 'Confirm Save',
                message: message,
                buttonText: 'Update current version'
            }, {
                backdropColor: 'rgba(0,0, 0, 0.5)'
            })
                .subscribe(function (decision) {
                if (decision === 1) {
                    // overwrite existing form
                    _this.showSaveDialog('overwrite');
                }
                if (decision === 2) {
                    // save as a new version
                    _this.showSaveDialog('new', '0');
                }
            });
        }
        else {
            this.showSaveDialog('new', '0');
        }
        this.saveLocally(true);
    };
    FormEditorComponent.prototype.showSaveDialog = function (operation, newVersion) {
        var _this = this;
        var dialogTitle = this.formType === _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].POC ? 'POC FORM' : 'Component';
        this.dialogService
            .addDialog(_modals_save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__["SaveFormsComponent"], {
            title: "Save " + dialogTitle,
            operation: operation,
            name: this.formMetadata.name,
            uuid: this.formMetadata.uuid,
            version: newVersion || this.formMetadata.version,
            encounterType: this.formMetadata.encounterType,
            description: this.formMetadata.description,
            rawSchema: this.rawSchema,
            valueReference: this.formMetadata.valueReference,
            resourceUUID: this.formMetadata.resourceUUID,
            encounterTypes: this.encounterTypes,
            published: this.formMetadata.published
        }, {
            backdropColor: 'rgba(255, 255, 255, 0.5)'
        })
            .subscribe(function (res) {
            _this.formMetadata.name.indexOf('component') > -1
                ? (_this.formType = _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].COMPONENT)
                : (_this.formType = _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].POC);
            if (res &&
                _this.formType === _Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].COMPONENT &&
                operation === 'new') {
                _this.disableCanDeactivate = true;
                _this.dialogService
                    .addDialog(_modals_confirm_component__WEBPACK_IMPORTED_MODULE_15__["ConfirmComponent"], {
                    message: 'Would you like to update forms referencing this component as well?',
                    title: 'Update forms',
                    buttonText: 'OK'
                }, {
                    backdropColor: 'rgba(0,0,0,0.5)'
                })
                    .subscribe(function (confirmed) {
                    if (confirmed) {
                        _this.router.navigate([
                            '/update',
                            _this.previousVersionUUID,
                            _this.formMetadata.uuid
                        ]);
                    }
                });
            }
        });
    };
    FormEditorComponent.prototype.toggleView = function () {
        this.viewMode = this.viewMode === 'singleView' ? 'multiView' : 'singleView';
        localStorage.setItem('viewMode', this.viewMode);
    };
    FormEditorComponent.prototype.showSaveSnackbar = function () {
        this.snackbar.open('Saved Locally!', '', {
            duration: 1200
        });
    };
    FormEditorComponent.prototype.saveDraft = function (schema) {
        this.localStorageService.setObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].SCHEMA, schema);
        this.localStorageService.setObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].TIME_STAMP, Date.now());
    };
    FormEditorComponent.prototype.saveRawDraft = function (rawSchema) {
        this.localStorageService.setObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].RAW_SCHEMA, rawSchema);
    };
    FormEditorComponent.prototype.saveFormMetadata = function (formMetadata) {
        this.localStorageService.setObject(_Services_constants__WEBPACK_IMPORTED_MODULE_13__["Constants"].FORM_METADATA, formMetadata);
    };
    FormEditorComponent.prototype.publish = function (form, index) {
        var _this = this;
        var forms = [];
        var sameFormsDifferentVersion = [];
        this.subscription = this.fectAllFormsService
            .fetchAllPOCForms()
            .subscribe(function (POCForms) {
            forms = lodash__WEBPACK_IMPORTED_MODULE_22__["cloneDeep"](POCForms.results); // currently only poc forms version 1
            var formName = _this.formListService.removeVersionInformation(_this.formMetadata.name);
            forms.splice(index, 1);
            var formsWithoutVersionedNames = _this.formListService.removeVersionInformationFromForms(forms);
            formsWithoutVersionedNames.forEach(function ($form) {
                if ($form.name === formName) {
                    sameFormsDifferentVersion.push($form);
                }
            });
            if (!lodash__WEBPACK_IMPORTED_MODULE_22__["isEmpty"](sameFormsDifferentVersion)) {
                sameFormsDifferentVersion.forEach(function (_form) {
                    if (_form.published) {
                        POCForms.results.forEach(function (pocform) {
                            if (pocform.uuid === _form.uuid) {
                                _this.dialogService
                                    .addDialog(_modals_confirm_component__WEBPACK_IMPORTED_MODULE_15__["ConfirmComponent"], {
                                    title: 'Confirm publish',
                                    message: 'There is already a version of this form published.' +
                                        'Would you like to unpublish that version and publish this one?',
                                    buttonText: 'Publish'
                                }, {
                                    backdropColor: 'rgba(0,0,0,0.5)'
                                })
                                    .subscribe(function (isConfirmed) {
                                    if (isConfirmed) {
                                        _this.saveFormService
                                            .unpublish(pocform.uuid)
                                            .subscribe(function (res) {
                                            return _this.saveFormService
                                                .publish(_this.formMetadata.uuid)
                                                .subscribe(function (ress) {
                                                _this.showSuccessToast('Form Successfully Published!');
                                                _this.formMetadata.published = true;
                                            });
                                        });
                                    }
                                });
                            }
                        });
                    }
                    else {
                        _this.showSuccessToast('Form Successfully Published!');
                        _this.saveFormService
                            .publish(_this.formMetadata.uuid)
                            .subscribe(function (res) { return (_this.formMetadata.published = true); }); // if none of the other versions are published.
                    }
                });
            }
            else {
                _this.saveFormService
                    .publish(_this.formMetadata.uuid)
                    .subscribe(function (res) {
                    _this.showSuccessToast('Form Successfully Published!');
                    _this.formMetadata.published = true;
                });
            }
        });
    };
    FormEditorComponent.prototype.unpublish = function () {
        var _this = this;
        this.saveFormService
            .unpublish(this.formMetadata.uuid)
            .subscribe(function (res) { return (_this.formMetadata.published = false); });
    };
    FormEditorComponent.prototype.loadFormBuilder = function ($event) {
        this.viewMode = this.getViewMode();
    };
    FormEditorComponent.prototype.exit = function () {
        this.router.navigate(['/forms']);
    };
    FormEditorComponent.prototype.getViewMode = function () {
        return localStorage.getItem('viewMode') || 'multiView';
    };
    FormEditorComponent.prototype.validateConcepts = function () {
        var _this = this;
        var concepts = this.fetchAllConcepts();
        this.snackbar.openFromComponent(_snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_21__["NotificationComponent"], {
            data: ' Validating Concepts...'
        });
        this.conceptService.validateConcepts(concepts).subscribe(function (res) {
            var invalidConcepts = res.filter(function (concept) { return !concept.valid; });
            if (invalidConcepts.length > 0) {
                var errored_concepts_1 = '\n';
                lodash__WEBPACK_IMPORTED_MODULE_22__["each"](invalidConcepts, function (concept) {
                    errored_concepts_1 = errored_concepts_1 + '\n' + concept.conceptUuid;
                });
                _this.dialogService.addDialog(_modals_alert_component__WEBPACK_IMPORTED_MODULE_16__["AlertComponent"], {
                    message: "The following concepts are invalid: " + errored_concepts_1
                });
                _this.snackbar.dismiss();
            }
            else {
                _this.showSuccessToast('All Concepts are valid');
            }
        }, function (error) {
            _this.snackbar.dismiss();
            _this.dialogService.addDialog(_modals_alert_component__WEBPACK_IMPORTED_MODULE_16__["AlertComponent"], {
                message: "Unknown error validating concepts"
            });
        });
    };
    FormEditorComponent.prototype.fetchAllConcepts = function () {
        var concepts = [];
        var pages = this.schema.pages;
        lodash__WEBPACK_IMPORTED_MODULE_22__["each"](pages, function (page) {
            lodash__WEBPACK_IMPORTED_MODULE_22__["each"](page.sections, function (section) {
                lodash__WEBPACK_IMPORTED_MODULE_22__["each"](section.questions, function (question) {
                    if (question.questionOptions.concept) {
                        concepts.push(question.questionOptions.concept);
                    }
                    if (question.questions) {
                        lodash__WEBPACK_IMPORTED_MODULE_22__["each"](question.questions, function (nestedQuestion) {
                            if (nestedQuestion.questionOptions.concept) {
                                concepts.push(nestedQuestion.questionOptions.concept);
                            }
                        });
                    }
                });
            });
        });
        return concepts;
    };
    FormEditorComponent.prototype.addConceptMappingsToForm = function (_schema, pIndex, sIndex, qIndex, pqIndex, full) {
        var _this = this;
        var schema = lodash__WEBPACK_IMPORTED_MODULE_22__["cloneDeep"](_schema);
        var fullSchema = full || lodash__WEBPACK_IMPORTED_MODULE_22__["cloneDeep"](this.rawSchema);
        this.snackbar.openFromComponent(_snackbar_notification_toast__WEBPACK_IMPORTED_MODULE_21__["NotificationComponent"], {
            data: ' Adding concept mappings...'
        });
        if (schema.pages) {
            lodash__WEBPACK_IMPORTED_MODULE_22__["forEach"](schema.pages, function (page, pageIndex) {
                return _this.addConceptMappingsToForm(page, pageIndex, undefined, undefined, undefined, fullSchema);
            });
        }
        else if (schema.sections) {
            lodash__WEBPACK_IMPORTED_MODULE_22__["forEach"](schema.sections, function (section, sectionIndex) {
                return _this.addConceptMappingsToForm(section, pIndex, sectionIndex, undefined, undefined, fullSchema);
            });
        }
        else if (schema.questions && !schema.type) {
            lodash__WEBPACK_IMPORTED_MODULE_22__["forEach"](schema.questions, function (question, index) {
                _this.addConceptMappingsToForm(question, pIndex, sIndex, index, undefined, fullSchema);
            });
        }
        else if (schema.questions && schema.type) {
            lodash__WEBPACK_IMPORTED_MODULE_22__["forEach"](schema.questions, function (question, pqindex) {
                _this.addConceptMappingsToForm(question, pIndex, sIndex, qIndex, pqIndex, fullSchema);
            });
        }
        else {
            if (schema.questionOptions) {
                if (schema.questionOptions.concept) {
                    var concept_1 = schema.questionOptions.concept;
                    var conceptId_1;
                    this.conceptService
                        .getConceptID(concept_1)
                        .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["mergeMap"])(function (conceptData) {
                        conceptId_1 = conceptData;
                        return _this.conceptService.searchConceptByUUID(concept_1);
                    }))
                        .subscribe(function (res) {
                        var mappings = _this.conceptService.createMappingsValue(res.mappings);
                        if (mappings) {
                            if (pqIndex) {
                                fullSchema.pages[pIndex].sections[sIndex].questions[pqIndex].questions[qIndex] = _this.addMappingAndIDToQuestion(schema, mappings, conceptId_1);
                            }
                            else {
                                fullSchema.pages[pIndex].sections[sIndex].questions[qIndex] = _this.addMappingAndIDToQuestion(schema, mappings, conceptId_1);
                            }
                            if (_this.isLastQuestion(pIndex, sIndex, qIndex, pqIndex)) {
                                _this.showSuccessToast('Finished mapping concepts!');
                                _this.setFormEditorByRawSchema(fullSchema);
                            }
                        }
                    });
                }
                if (schema.questionOptions.answers) {
                    var answers = schema.questionOptions.answers;
                    answers.forEach(function (answer, answerIndex) {
                        var concept = answer.concept;
                        var conceptData;
                        _this.conceptService
                            .searchConceptByUUID(concept)
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["mergeMap"])(function (r) {
                            conceptData = r;
                            return _this.conceptService.getConceptID(concept);
                        }))
                            .subscribe(function (res) {
                            var mappings = _this.conceptService.createMappingsValue(conceptData.mappings);
                            if (mappings) {
                                if (pqIndex) {
                                    fullSchema.pages[pIndex].sections[sIndex].questions[pqIndex].questions[qIndex].answers[answerIndex] = _this.addMappingAndIdToAnswer(answer, mappings, res[0].concept_id);
                                }
                                else {
                                    fullSchema.pages[pIndex].sections[sIndex].questions[qIndex].answers = _this.addMappingAndIdToAnswer(answer, mappings, res[0].concept_id);
                                }
                            }
                        });
                    });
                }
            }
        }
    };
    FormEditorComponent.prototype.addMappingAndIDToQuestion = function (question, mappings, ID) {
        question.questionOptions.conceptMappings = mappings;
        question.questionOptions.conceptId = ID[0].concept_id;
        return question;
    };
    FormEditorComponent.prototype.addMappingAndIdToAnswer = function (answer, mappings, ID) {
        answer.conceptMappings = mappings;
        answer.conceptId = ID;
        return answer;
    };
    FormEditorComponent.prototype.setFormEditorByRawSchema = function (rawSchema) {
        var _this = this;
        this.fs.getReferencedFormsSchemasArray().subscribe(function (refForms) {
            _this.rawSchema = rawSchema;
            var uncompiledSchema = lodash__WEBPACK_IMPORTED_MODULE_22__["cloneDeep"](rawSchema);
            _this.schema = _this.formSchemaCompiler.compileFormSchema(uncompiledSchema, refForms);
            _this.navigatorService.setRawSchema(_this.rawSchema);
        });
    };
    FormEditorComponent.prototype.isLastQuestion = function (pIndex, sIndex, qIndex, pqIndex) {
        var answer = false;
        if (pqIndex) {
            if (pIndex === this.rawSchema.pages.length - 1) {
                if (sIndex === this.rawSchema.pages[pIndex].sections.length - 1) {
                    if (qIndex ===
                        this.rawSchema.pages[pIndex].sections[sIndex].questions.length - 1) {
                        if (pqIndex ===
                            this.rawSchema.pages[pIndex].sections[sIndex].questions[qIndex]
                                .questions.length -
                                1) {
                            answer = true;
                        }
                    }
                }
            }
        }
        else {
            if (pIndex === this.rawSchema.pages.length - 1) {
                if (sIndex === this.rawSchema.pages[pIndex].sections.length - 1) {
                    if (qIndex ===
                        this.rawSchema.pages[pIndex].sections[sIndex].questions.length - 1) {
                        answer = true;
                    }
                    return answer;
                }
            }
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])('sidenav'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], FormEditorComponent.prototype, "myNav", void 0);
    FormEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-form-editor',
            template: __webpack_require__(/*! ./form-editor.component.html */ "./src/app/form-editor/form-editor/form-editor.component.html"),
            styles: [__webpack_require__(/*! ./form-editor.component.css */ "./src/app/form-editor/form-editor/form-editor.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_6__["NavigatorService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatSnackBar"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__["DialogService"],
            _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_11__["LocalStorageService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["ChangeDetectorRef"],
            _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_5__["FetchAllFormsService"],
            _Services_form_list_service__WEBPACK_IMPORTED_MODULE_17__["FormListService"],
            _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_18__["SaveFormService"],
            _Services_openmrs_api_encounter_type_service__WEBPACK_IMPORTED_MODULE_19__["EncounterTypeService"],
            _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_12__["SessionStorageService"],
            _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_20__["ConceptService"],
            ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_23__["FormSchemaCompiler"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"]])
    ], FormEditorComponent);
    return FormEditorComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/form-editor/form-editor.module.ts":
/*!***************************************************************!*\
  !*** ./src/app/form-editor/form-editor/form-editor.module.ts ***!
  \***************************************************************/
/*! exports provided: FormEditorModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormEditorModule", function() { return FormEditorModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-openmrs-formentry/dist/ngx-formentry */ "./node_modules/ngx-openmrs-formentry/dist/ngx-formentry/fesm5/ngx-openmrs-formentry.js");
/* harmony import */ var _shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared-module */ "./src/app/shared-module.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_question_control_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Services/question-control.service */ "./src/app/Services/question-control.service.ts");
/* harmony import */ var _models_property_factory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../models/property-factory */ "./src/app/form-editor/models/property-factory.ts");
/* harmony import */ var _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-elements/form-element-factory */ "./src/app/form-editor/form-elements/form-element-factory.ts");
/* harmony import */ var _Services_question_id_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../Services/question-id.service */ "./src/app/Services/question-id.service.ts");
/* harmony import */ var _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Services/openmrs-api/concept.service */ "./src/app/Services/openmrs-api/concept.service.ts");
/* harmony import */ var _form_elements_form_factory_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../form-elements/form-factory.service */ "./src/app/form-editor/form-elements/form-factory.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-all-forms.service */ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts");
/* harmony import */ var _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../Services/element-editor.service */ "./src/app/Services/element-editor.service.ts");
/* harmony import */ var _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Services/schema-compiler.service */ "./src/app/Services/schema-compiler.service.ts");
/* harmony import */ var _Services_update_component_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../Services/update-component.service */ "./src/app/Services/update-component.service.ts");
/* harmony import */ var _reference_forms_reference_forms_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../reference-forms/reference-forms.component */ "./src/app/form-editor/reference-forms/reference-forms.component.ts");
/* harmony import */ var _schema_editor_schema_editor_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../schema-editor/schema-editor.component */ "./src/app/form-editor/schema-editor/schema-editor.component.ts");
/* harmony import */ var _element_editor_element_editor_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../element-editor/element-editor.component */ "./src/app/form-editor/element-editor/element-editor.component.ts");
/* harmony import */ var _form_renderer_form_renderer_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../form-renderer/form-renderer.component */ "./src/app/form-editor/form-renderer/form-renderer.component.ts");
/* harmony import */ var _element_editor_dynamic_question_dynamic_question_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../element-editor/dynamic-question/dynamic-question.component */ "./src/app/form-editor/element-editor/dynamic-question/dynamic-question.component.ts");
/* harmony import */ var _concept_concept_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../concept/concept.component */ "./src/app/form-editor/concept/concept.component.ts");
/* harmony import */ var _form_editor_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./form-editor.component */ "./src/app/form-editor/form-editor/form-editor.component.ts");
/* harmony import */ var _audit_info_audit_info_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../audit-info/audit-info.component */ "./src/app/form-editor/audit-info/audit-info.component.ts");
/* harmony import */ var _update_forms_update_forms_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../update-forms/update-forms.component */ "./src/app/form-editor/update-forms/update-forms.component.ts");
/* harmony import */ var _order_order_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../order/order.component */ "./src/app/form-editor/order/order.component.ts");

// Modules




// Services












// Components










var FormEditorModule = /** @class */ (function () {
    function FormEditorModule() {
    }
    FormEditorModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_3__["FormEntryModule"], _shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"]],
            declarations: [
                _schema_editor_schema_editor_component__WEBPACK_IMPORTED_MODULE_18__["SchemaEditorComponent"],
                _element_editor_element_editor_component__WEBPACK_IMPORTED_MODULE_19__["ElementEditorComponent"],
                _form_renderer_form_renderer_component__WEBPACK_IMPORTED_MODULE_20__["FormRendererComponent"],
                _element_editor_dynamic_question_dynamic_question_component__WEBPACK_IMPORTED_MODULE_21__["DynamicQuestionComponent"],
                _concept_concept_component__WEBPACK_IMPORTED_MODULE_22__["ConceptComponent"],
                _form_editor_component__WEBPACK_IMPORTED_MODULE_23__["FormEditorComponent"],
                _reference_forms_reference_forms_component__WEBPACK_IMPORTED_MODULE_17__["ReferenceFormsComponent"],
                _audit_info_audit_info_component__WEBPACK_IMPORTED_MODULE_24__["AuditInfoComponent"],
                _update_forms_update_forms_component__WEBPACK_IMPORTED_MODULE_25__["UpdateFormsComponent"],
                _order_order_component__WEBPACK_IMPORTED_MODULE_26__["OrderComponent"]
            ],
            providers: [
                _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_5__["FetchFormDetailService"],
                _Services_navigator_service__WEBPACK_IMPORTED_MODULE_6__["NavigatorService"],
                _Services_question_control_service__WEBPACK_IMPORTED_MODULE_7__["QuestionControlService"],
                _models_property_factory__WEBPACK_IMPORTED_MODULE_8__["PropertyFactory"],
                _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_9__["FormElementFactory"],
                _Services_question_id_service__WEBPACK_IMPORTED_MODULE_10__["QuestionIdService"],
                _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_11__["ConceptService"],
                _form_elements_form_factory_service__WEBPACK_IMPORTED_MODULE_12__["FormFactory"],
                _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_13__["FetchAllFormsService"],
                _Services_element_editor_service__WEBPACK_IMPORTED_MODULE_14__["ElementEditorService"],
                _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_15__["FormSchemaCompiler"],
                _Services_update_component_service__WEBPACK_IMPORTED_MODULE_16__["UpdateComponentService"]
            ],
            exports: [ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_3__["FormEntryModule"]]
        })
    ], FormEditorModule);
    return FormEditorModule;
}());



/***/ }),

/***/ "./src/app/form-editor/form-elements/Form.ts":
/*!***************************************************!*\
  !*** ./src/app/form-editor/form-elements/Form.ts ***!
  \***************************************************/
/*! exports provided: Form */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return Form; });
var Form = /** @class */ (function () {
    function Form(options) {
        if (options === void 0) { options = {}; }
        this.name = options['name'];
        this.pages = options['pages'];
        this.processor = options['processor'];
        this.uuid = options['uuid'];
        this.referencedForms = options['referencedForms'];
    }
    return Form;
}());



/***/ }),

/***/ "./src/app/form-editor/form-elements/FormElement.ts":
/*!**********************************************************!*\
  !*** ./src/app/form-editor/form-elements/FormElement.ts ***!
  \**********************************************************/
/*! exports provided: FormElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormElement", function() { return FormElement; });
var FormElement = /** @class */ (function () {
    function FormElement(options) {
        this.label = options.label;
    }
    return FormElement;
}());



/***/ }),

/***/ "./src/app/form-editor/form-elements/Page.ts":
/*!***************************************************!*\
  !*** ./src/app/form-editor/form-elements/Page.ts ***!
  \***************************************************/
/*! exports provided: Page */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Page", function() { return Page; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _FormElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormElement */ "./src/app/form-editor/form-elements/FormElement.ts");


var Page = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Page, _super);
    function Page(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.sections = [];
        _this.sections = options['sections'] || [];
        return _this;
    }
    return Page;
}(_FormElement__WEBPACK_IMPORTED_MODULE_1__["FormElement"]));



/***/ }),

/***/ "./src/app/form-editor/form-elements/Question.ts":
/*!*******************************************************!*\
  !*** ./src/app/form-editor/form-elements/Question.ts ***!
  \*******************************************************/
/*! exports provided: QuestionOptions, Question */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionOptions", function() { return QuestionOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Question", function() { return Question; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _FormElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormElement */ "./src/app/form-editor/form-elements/FormElement.ts");


var QuestionOptions = /** @class */ (function () {
    function QuestionOptions() {
    }
    return QuestionOptions;
}());

var Question = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Question, _super);
    function Question(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.id = '';
        _this.questionOptions = new QuestionOptions();
        _this.type = options['type'] || '';
        _this.questionOptions.rendering = options['questionOptions.rendering'] || '';
        return _this;
    }
    return Question;
}(_FormElement__WEBPACK_IMPORTED_MODULE_1__["FormElement"]));



/***/ }),

/***/ "./src/app/form-editor/form-elements/Section.ts":
/*!******************************************************!*\
  !*** ./src/app/form-editor/form-elements/Section.ts ***!
  \******************************************************/
/*! exports provided: Section */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _FormElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormElement */ "./src/app/form-editor/form-elements/FormElement.ts");


var Section = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Section, _super);
    function Section(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.isExpanded = options['isExpanded'] || false;
        _this.questions = options['questions'] || [];
        return _this;
    }
    return Section;
}(_FormElement__WEBPACK_IMPORTED_MODULE_1__["FormElement"]));



/***/ }),

/***/ "./src/app/form-editor/form-elements/form-element-factory.ts":
/*!*******************************************************************!*\
  !*** ./src/app/form-editor/form-elements/form-element-factory.ts ***!
  \*******************************************************************/
/*! exports provided: FormElementFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormElementFactory", function() { return FormElementFactory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Page */ "./src/app/form-editor/form-elements/Page.ts");
/* harmony import */ var _Section__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Section */ "./src/app/form-editor/form-elements/Section.ts");
/* harmony import */ var _Question__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Question */ "./src/app/form-editor/form-elements/Question.ts");





var FormElementFactory = /** @class */ (function () {
    function FormElementFactory() {
    }
    FormElementFactory.prototype.createFormElement = function (type, options) {
        if (type.toLowerCase() === 'page') {
            return new _Page__WEBPACK_IMPORTED_MODULE_2__["Page"](options);
        }
        if (type.toLowerCase() === 'section') {
            return new _Section__WEBPACK_IMPORTED_MODULE_3__["Section"](options);
        }
        if (type.toLowerCase() === 'question') {
            return new _Question__WEBPACK_IMPORTED_MODULE_4__["Question"](options);
        }
        else {
            console.log(type + ' Element not supported');
        }
    };
    FormElementFactory = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FormElementFactory);
    return FormElementFactory;
}());



/***/ }),

/***/ "./src/app/form-editor/form-elements/form-factory.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/form-editor/form-elements/form-factory.service.ts ***!
  \*******************************************************************/
/*! exports provided: FormFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormFactory", function() { return FormFactory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Form */ "./src/app/form-editor/form-elements/Form.ts");



var FormFactory = /** @class */ (function () {
    function FormFactory() {
    }
    FormFactory.prototype.createForm = function (options) {
        return new _Form__WEBPACK_IMPORTED_MODULE_2__["Form"](options);
    };
    FormFactory = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FormFactory);
    return FormFactory;
}());



/***/ }),

/***/ "./src/app/form-editor/form-renderer/form-renderer.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/form-editor/form-renderer/form-renderer.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".btn {\n  margin: 20px 10px 10px 10px;\n}\n.form {\n  height: 100%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvZm9ybS1yZW5kZXJlci9mb3JtLXJlbmRlcmVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBMkI7QUFDN0I7QUFDQTtFQUNFLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZWRpdG9yL2Zvcm0tcmVuZGVyZXIvZm9ybS1yZW5kZXJlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ0biB7XG4gIG1hcmdpbjogMjBweCAxMHB4IDEwcHggMTBweDtcbn1cbi5mb3JtIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/form-editor/form-renderer/form-renderer.component.html":
/*!************************************************************************!*\
  !*** ./src/app/form-editor/form-renderer/form-renderer.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid form\" *ngIf=\"form\">\n  <error-renderer [form]=\"form\"></error-renderer>\n  <form-renderer [node]=\"form.rootNode\"></form-renderer>\n  <div class=\"text-center\">\n    <button\n      class=\"btn btn-success btn-lg\"\n      type=\"submit\"\n      (click)=\"submitForm($event)\"\n    >\n      Submit Form\n    </button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/form-renderer/form-renderer.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/form-editor/form-renderer/form-renderer.component.ts ***!
  \**********************************************************************/
/*! exports provided: FormRendererComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormRendererComponent", function() { return FormRendererComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-openmrs-formentry/dist/ngx-formentry */ "./node_modules/ngx-openmrs-formentry/dist/ngx-formentry/fesm5/ngx-openmrs-formentry.js");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _mock_data_source_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mock-data-source.service */ "./src/app/form-editor/form-renderer/mock-data-source.service.ts");
/* harmony import */ var _Services_openmrs_api_encounters_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Services/openmrs-api/encounters.service */ "./src/app/Services/openmrs-api/encounters.service.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _modals_encounter_details_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../modals/encounter-details.modal */ "./src/app/modals/encounter-details.modal.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _modals_confirm_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../modals/confirm.component */ "./src/app/modals/confirm.component.ts");
/* harmony import */ var _modals_encounter_viewer_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../modals/encounter-viewer-modal */ "./src/app/modals/encounter-viewer-modal.ts");




// tslint:disable-next-line:max-line-length










var FormRendererComponent = /** @class */ (function () {
    // encounter = new MockObs();
    function FormRendererComponent(fc, dialogService, ns, encAdapter, dataSources, formErrorService, fetchAllForms, route, encounterService, mockDataSourceService) {
        this.fc = fc;
        this.dialogService = dialogService;
        this.ns = ns;
        this.encAdapter = encAdapter;
        this.dataSources = dataSources;
        this.formErrorService = formErrorService;
        this.fetchAllForms = fetchAllForms;
        this.route = route;
        this.encounterService = encounterService;
        this.mockDataSourceService = mockDataSourceService;
    }
    Object.defineProperty(FormRendererComponent.prototype, "schema", {
        set: function (schema) {
            this._schema = schema;
            this.form = this.fc.createForm(this._schema, {});
        },
        enumerable: true,
        configurable: true
    });
    FormRendererComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.wireDataSources();
        this.ns.getSchema().subscribe(function (res) {
            _this._schema = res;
            _this.form = _this.fc.createForm(_this._schema, _this.dataSources);
        });
    };
    FormRendererComponent.prototype.wireDataSources = function () {
        this.dataSources.registerDataSource('drug', {
            searchOptions: this.mockDataSourceService.sampleSearch,
            resolveSelectedValue: this.mockDataSourceService.sampleResolve
        });
        this.dataSources.registerDataSource('personAttribute', {
            searchOptions: this.mockDataSourceService.sampleSearch,
            resolveSelectedValue: this.mockDataSourceService.sampleResolve
        });
        this.dataSources.registerDataSource('problem', {
            searchOptions: this.mockDataSourceService.sampleSearch,
            resolveSelectedValue: this.mockDataSourceService.sampleResolve
        });
        this.dataSources.registerDataSource('location', {
            searchOptions: this.mockDataSourceService.sampleSearch,
            resolveSelectedValue: this.mockDataSourceService.sampleResolve
        });
        this.dataSources.registerDataSource('provider', {
            searchOptions: this.mockDataSourceService.sampleProviderSearch,
            resolveSelectedValue: this.mockDataSourceService.sampleProviderResolve
        });
    };
    FormRendererComponent.prototype.submitForm = function ($event) {
        var _this = this;
        var formuuid = '';
        var encounterType = '';
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["mergeMap"])(function (routeParams) {
            formuuid = routeParams['uuid'];
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["from"])(_this.fetchAllForms.fetchFormMetadata(formuuid, true));
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["mergeMap"])(function (form) {
            encounterType = form.encounterType.uuid;
            return _this.showDialog(_modals_encounter_details_modal__WEBPACK_IMPORTED_MODULE_10__["EncounterModalDetailsComponent"]);
        }))
            .subscribe(function (results) {
            if (results) {
                $event.preventDefault();
                _this.form.valueProcessingInfo = {
                    patientUuid: results.patient,
                    locationUuid: results.location,
                    formUuid: formuuid,
                    encounterDatetime: new Date(Date.now()).toISOString(),
                    encounterTypeUuid: encounterType
                };
                if (_this.form.valid) {
                    _this.form.showErrors = false;
                    var payload = _this.encAdapter.generateFormPayload(_this.form);
                    _this.saveEncounter(payload);
                }
                else {
                    _this.form.showErrors = true;
                    _this.form.markInvalidControls(_this.form.rootNode);
                }
            }
        });
    };
    FormRendererComponent.prototype.showDialog = function (component, data) {
        return this.dialogService.addDialog(component, data, {
            backdropColor: 'rgba(0,0,0,0.5)'
        });
    };
    FormRendererComponent.prototype.saveEncounter = function (payload) {
        var _this = this;
        var encounterUuid;
        this.encounterService
            .saveEncounter(payload)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["mergeMap"])(function (result) {
            encounterUuid = result.uuid;
            return _this.showDialog(_modals_confirm_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmComponent"], {
                title: 'Encounter Saved Successfully',
                message: 'Would you like to view the obs generated?',
                buttonText: 'Yes',
                cancelButtonText: 'No, Thanks.'
            });
        }))
            .subscribe(function (confirm) {
            if (confirm) {
                _this.encounterService
                    .getEncounterByUuid(encounterUuid)
                    .subscribe(function (res) {
                    var form = _this.fc.createForm(_this._schema);
                    _this.encAdapter.populateForm(form, res);
                    _this.showDialog(_modals_encounter_viewer_modal__WEBPACK_IMPORTED_MODULE_13__["EncounterViewerModalComponent"], {
                        encounter: res,
                        form: form
                    });
                });
            }
            else {
                return 0;
            }
        });
    };
    FormRendererComponent.prototype.setProviderUuid = function (form, providerUuid) {
        form.valueProcessingInfo.providerUuid = null;
        return form;
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], FormRendererComponent.prototype, "schema", null);
    FormRendererComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
            selector: 'app-form-renderer',
            template: __webpack_require__(/*! ./form-renderer.component.html */ "./src/app/form-editor/form-renderer/form-renderer.component.html"),
            providers: [_mock_data_source_service__WEBPACK_IMPORTED_MODULE_7__["MockDataSourceService"], _Services_openmrs_api_encounters_service__WEBPACK_IMPORTED_MODULE_8__["EncounterService"]],
            styles: [__webpack_require__(/*! ./form-renderer.component.css */ "./src/app/form-editor/form-renderer/form-renderer.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_4__["FormFactory"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__["DialogService"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_5__["NavigatorService"],
            ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_4__["EncounterAdapter"],
            ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_4__["DataSources"],
            ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_4__["FormErrorsService"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__["FetchFormDetailService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"],
            _Services_openmrs_api_encounters_service__WEBPACK_IMPORTED_MODULE_8__["EncounterService"],
            _mock_data_source_service__WEBPACK_IMPORTED_MODULE_7__["MockDataSourceService"]])
    ], FormRendererComponent);
    return FormRendererComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/form-renderer/mock-data-source.service.ts":
/*!***********************************************************************!*\
  !*** ./src/app/form-editor/form-renderer/mock-data-source.service.ts ***!
  \***********************************************************************/
/*! exports provided: MockDataSourceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MockDataSourceService", function() { return MockDataSourceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var MockDataSourceService = /** @class */ (function () {
    function MockDataSourceService() {
    }
    MockDataSourceService.prototype.sampleSearch = function () {
        var items = [
            { value: '0', label: 'Aech' },
            { value: '5b6e58ea-1359-11df-a1f1-0026b9348838', label: 'Art3mis' },
            { value: '2', label: 'Daito' },
            { value: '3', label: 'Parzival' },
            { value: '4', label: 'Shoto' }
        ];
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            setTimeout(function () {
                observer.next(items);
            }, 1000);
        });
    };
    MockDataSourceService.prototype.sampleProviderSearch = function () {
        var items = [
            {
                value: 'p28f1f96-baae-42b5-8df9-d4d98a0f42e3',
                label: '1552-9 - MELIBA MELIBA MELIBA'
            },
            {
                value: 'p5ff5ba7-e16e-4b6a-b5cd-00f0382377ab',
                label: '1973-7 - Shihati Shihati Shihati'
            },
            {
                value: 'p589c677-5b0b-47a2-a0ba-cc43963b9267',
                label: '2363-0 - ROSESIS ROSESIS ROSESIS'
            },
            {
                value: 'ec07fc28-812f-4450-a8d1-4ebc3ec5d876',
                label: 'Ampath Test Provider'
            }
        ];
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            setTimeout(function () {
                observer.next(items);
            }, 1000);
        });
    };
    MockDataSourceService.prototype.sampleResolve = function () {
        var item = { value: '1', label: 'Art3mis' };
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            setTimeout(function () {
                observer.next(item);
            }, 1000);
        });
    };
    MockDataSourceService.prototype.sampleProviderResolve = function () {
        var item = { value: '0', label: 'Ampath Test' };
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            setTimeout(function () {
                observer.next(item);
            }, 1000);
        });
    };
    MockDataSourceService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], MockDataSourceService);
    return MockDataSourceService;
}());



/***/ }),

/***/ "./src/app/form-editor/models/properties.ts":
/*!**************************************************!*\
  !*** ./src/app/form-editor/models/properties.ts ***!
  \**************************************************/
/*! exports provided: Properties, ALL_PROPERTIES */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Properties", function() { return Properties; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_PROPERTIES", function() { return ALL_PROPERTIES; });
/* harmony import */ var _property_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property-model */ "./src/app/form-editor/models/property-model.ts");
/* harmony import */ var _textbox_property__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textbox-property */ "./src/app/form-editor/models/textbox-property.ts");
/* harmony import */ var _select_property__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./select-property */ "./src/app/form-editor/models/select-property.ts");
/* harmony import */ var _textarea_property__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./textarea-property */ "./src/app/form-editor/models/textarea-property.ts");
/* harmony import */ var _searchbox_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./searchbox-property */ "./src/app/form-editor/models/searchbox-property.ts");





var Properties = /** @class */ (function () {
    function Properties() {
        this.ID = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'ID',
            parentPath: 'id',
            controlType: 'textbox'
        });
        this.Concept = new _searchbox_property__WEBPACK_IMPORTED_MODULE_4__["SearchboxProperty"]({
            label: 'Concept',
            parentPath: 'questionOptions.concept',
            key: 'questionOptions.concept',
            searchData: 'concept'
        });
        this.ConceptId = new _textbox_property__WEBPACK_IMPORTED_MODULE_1__["TextboxProperty"]({
            label: 'Concept ID',
            parentPath: 'questionOptions.conceptId',
            key: 'questionOptions.conceptId'
        });
        this.Answers = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Answers',
            parentPath: 'questionOptions.answers',
            rows: 5,
            key: 'questionOptions.answers'
        });
        this.Validators = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Validators',
            parentPath: 'validators',
            controlType: 'textarea',
            key: 'validators'
        });
        this.Default = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Default',
            parentPath: 'default',
            controlType: 'textbox',
            key: 'default'
        });
        this.Original = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Original',
            parentPath: 'original',
            controlType: 'textbox',
            key: 'original'
        });
        this.Required = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Required',
            parentPath: 'required',
            controlType: 'textbox',
            key: 'required'
        });
        this.HistoricalExpression = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Historical Expression',
            parentPath: 'historicalExpression',
            controlType: 'textarea',
            key: 'historicalExpression'
        });
        this.Hide = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Hide',
            parentPath: 'hide',
            controlType: 'textarea',
            key: 'hide'
        });
        this.OrderType = new _select_property__WEBPACK_IMPORTED_MODULE_2__["SelectProperty"]({
            label: 'Order Type',
            parentPath: 'questionOptions.orderType',
            options: [
                { key: 'drugorder', value: 'Drug Order' },
                { key: 'testorder', value: 'Test Order' }
            ],
            key: 'questionOptions.orderType'
        });
        this.OrderSettingUuid = new _textbox_property__WEBPACK_IMPORTED_MODULE_1__["TextboxProperty"]({
            label: 'Order Setting Uuid',
            parentPath: 'questionOptions.orderSettingUuid',
            key: 'questionOptions.orderSettingUuid'
        });
        this.selectableOrders = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Selectable Orders',
            parentPath: 'questionOptions.selectableOrders',
            key: 'questionOptions.selectableOrders',
            rows: 8
        });
        this.CalculatedExpressions = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Calculated Expressions',
            parentPath: 'calculatedExpressions',
            rows: 5,
            key: 'calculatedExpressions'
        });
        this.Alert = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Alert',
            parentPath: 'alert',
            key: 'alert'
        });
        this.QuestionInfo = new _property_model__WEBPACK_IMPORTED_MODULE_0__["PropertyModel"]({
            label: 'Question Info',
            parentPath: 'questionInfo',
            controlType: 'textbox',
            key: 'questionInfo'
        });
        this.Max = new _textbox_property__WEBPACK_IMPORTED_MODULE_1__["TextboxProperty"]({
            label: 'Max',
            parentPath: 'questionOptions.max',
            type: 'number',
            key: 'questionOptions.max'
        });
        this.Min = new _textbox_property__WEBPACK_IMPORTED_MODULE_1__["TextboxProperty"]({
            label: 'Min',
            parentPath: 'questionOptions.min',
            type: 'number',
            key: 'questionOptions.min'
        });
        this.Rows = new _textbox_property__WEBPACK_IMPORTED_MODULE_1__["TextboxProperty"]({
            label: 'Rows',
            parentPath: 'questionOptions.rows',
            type: 'number',
            key: 'questionOptions.rows'
        });
        this.showDate = new _select_property__WEBPACK_IMPORTED_MODULE_2__["SelectProperty"]({
            label: 'Show Date',
            parentPath: 'questionOptions.showDate',
            options: [
                { key: 'true', value: 'true' },
                { key: 'false', value: 'false' }
            ],
            key: 'questionOptions.showDate'
        });
        this.showDateOptions = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Show Date Options',
            parentPath: 'questionOptions.showDateOptions',
            key: 'questionOptions.showDateOptions',
            rows: 5
        });
        this.weeksList = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Show Weeks List',
            parentPath: 'questionOptions.weeksList',
            key: 'questionOptions.weeksList',
            rows: 3,
            placeholder: '[2,12,16,18...]'
        });
        this.conceptMappings = new _textarea_property__WEBPACK_IMPORTED_MODULE_3__["TextAreaProperty"]({
            label: 'Concept Mappings',
            parentPath: 'questionOptions.conceptMappings',
            key: 'questionOptions.conceptMappings',
            rows: 5
        });
        this.allQuestionProperties = [
            this.ID,
            this.Concept,
            this.Validators,
            this.Default,
            this.Original,
            this.Required,
            this.HistoricalExpression,
            this.Hide,
            this.CalculatedExpressions,
            this.Alert,
            this.QuestionInfo,
            this.Answers,
            this.OrderType,
            this.OrderSettingUuid,
            this.selectableOrders,
            this.conceptMappings,
            this.ConceptId
        ];
    }
    Properties.prototype.getPropertyByName = function (name) {
        var propertyName = name.toLowerCase();
        switch (propertyName) {
            case 'id':
                return this.ID;
            case 'concept':
                return this.Concept;
            case 'conceptid':
                return this.ConceptId;
            case 'default':
                return this.Default;
            case 'validators':
                return this.Validators;
            case 'original':
                return this.Original;
            case 'required':
                return this.Required;
            case 'historialexpression':
                return this.HistoricalExpression;
            case 'hide':
                return this.Hide;
            case 'ordertype':
                return this.OrderType;
            case 'calculatedexpressions':
                return this.CalculatedExpressions;
            case 'alert':
                return this.Alert;
            case 'questionInfo':
                return this.QuestionInfo;
            case 'answers':
                return this.Answers;
            case 'max':
                return this.Max;
            case 'min':
                return this.Min;
            case 'weekslist':
                return this.weeksList;
            case 'showdateoptions':
                return this.showDateOptions;
            case 'showdate':
                return this.showDate;
            case 'rows':
                return this.Rows;
            case 'ordersettinguuid':
                return this.OrderSettingUuid;
            case 'selectableorders':
                return this.selectableOrders;
            case 'conceptmappings':
                return this.conceptMappings;
            default:
                console.error(propertyName + " does not exist in the property dictionary, please add it in property-model.ts");
        }
    };
    return Properties;
}());

var ALL_PROPERTIES = new Properties().allQuestionProperties;


/***/ }),

/***/ "./src/app/form-editor/models/property-factory.ts":
/*!********************************************************!*\
  !*** ./src/app/form-editor/models/property-factory.ts ***!
  \********************************************************/
/*! exports provided: PropertyFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyFactory", function() { return PropertyFactory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _textbox_property__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./textbox-property */ "./src/app/form-editor/models/textbox-property.ts");
/* harmony import */ var _select_property__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-property */ "./src/app/form-editor/models/select-property.ts");
/* harmony import */ var _searchbox_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./searchbox-property */ "./src/app/form-editor/models/searchbox-property.ts");
/* harmony import */ var _textarea_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./textarea-property */ "./src/app/form-editor/models/textarea-property.ts");






var PropertyFactory = /** @class */ (function () {
    function PropertyFactory() {
    }
    PropertyFactory.prototype.createProperty = function (type, options) {
        if (type.toLowerCase() === 'textbox') {
            return new _textbox_property__WEBPACK_IMPORTED_MODULE_2__["TextboxProperty"](options);
        }
        else if (type.toLowerCase() === 'select') {
            return new _select_property__WEBPACK_IMPORTED_MODULE_3__["SelectProperty"](options);
        }
        else if (type.toLowerCase() === 'searchbox') {
            return new _searchbox_property__WEBPACK_IMPORTED_MODULE_4__["SearchboxProperty"](options);
        }
        else if (type.toLowerCase() === 'textarea') {
            return new _textarea_property__WEBPACK_IMPORTED_MODULE_5__["TextAreaProperty"](options);
        }
        else {
            console.log('No such property exists');
        }
    };
    PropertyFactory = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], PropertyFactory);
    return PropertyFactory;
}());



/***/ }),

/***/ "./src/app/form-editor/models/property-model.ts":
/*!******************************************************!*\
  !*** ./src/app/form-editor/models/property-model.ts ***!
  \******************************************************/
/*! exports provided: PropertyModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyModel", function() { return PropertyModel; });
var PropertyModel = /** @class */ (function () {
    function PropertyModel(options) {
        if (options === void 0) { options = {}; }
        this.value = options.value || null;
        this.key = options.key || '';
        this.label = options.label || '';
        this.controlType = options.controlType || '';
        this.required = options.required || false;
        this.parentPath = options.parentPath || '';
        this.order = options.order || 9;
    }
    return PropertyModel;
}());



/***/ }),

/***/ "./src/app/form-editor/models/searchbox-property.ts":
/*!**********************************************************!*\
  !*** ./src/app/form-editor/models/searchbox-property.ts ***!
  \**********************************************************/
/*! exports provided: SearchboxProperty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchboxProperty", function() { return SearchboxProperty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _property_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./property-model */ "./src/app/form-editor/models/property-model.ts");


var SearchboxProperty = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SearchboxProperty, _super);
    function SearchboxProperty(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.controlType = 'searchbox';
        _this.type = options['type'] || '';
        _this.searchData = options['searchData'];
        return _this;
    }
    return SearchboxProperty;
}(_property_model__WEBPACK_IMPORTED_MODULE_1__["PropertyModel"]));



/***/ }),

/***/ "./src/app/form-editor/models/select-property.ts":
/*!*******************************************************!*\
  !*** ./src/app/form-editor/models/select-property.ts ***!
  \*******************************************************/
/*! exports provided: SelectProperty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectProperty", function() { return SelectProperty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _property_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./property-model */ "./src/app/form-editor/models/property-model.ts");


var SelectProperty = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SelectProperty, _super);
    function SelectProperty(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.controlType = 'select';
        _this.options = [];
        _this.key = options['key'] || '';
        _this.options = options['options'] || [];
        return _this;
    }
    return SelectProperty;
}(_property_model__WEBPACK_IMPORTED_MODULE_1__["PropertyModel"]));



/***/ }),

/***/ "./src/app/form-editor/models/textarea-property.ts":
/*!*********************************************************!*\
  !*** ./src/app/form-editor/models/textarea-property.ts ***!
  \*********************************************************/
/*! exports provided: TextAreaProperty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextAreaProperty", function() { return TextAreaProperty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _property_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./property-model */ "./src/app/form-editor/models/property-model.ts");


var TextAreaProperty = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TextAreaProperty, _super);
    function TextAreaProperty(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.controlType = 'textarea';
        _this.type = options['type'] || '';
        _this.placeholder = options['placeholder'] || '';
        _this.rows = options['rows'] || 5;
        return _this;
    }
    return TextAreaProperty;
}(_property_model__WEBPACK_IMPORTED_MODULE_1__["PropertyModel"]));



/***/ }),

/***/ "./src/app/form-editor/models/textbox-property.ts":
/*!********************************************************!*\
  !*** ./src/app/form-editor/models/textbox-property.ts ***!
  \********************************************************/
/*! exports provided: TextboxProperty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextboxProperty", function() { return TextboxProperty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _property_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./property-model */ "./src/app/form-editor/models/property-model.ts");


var TextboxProperty = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TextboxProperty, _super);
    function TextboxProperty(options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.controlType = 'textbox';
        _this.type = options['type'] || 'text';
        _this.placeholder = options['placeholder'] || '';
        return _this;
    }
    return TextboxProperty;
}(_property_model__WEBPACK_IMPORTED_MODULE_1__["PropertyModel"]));



/***/ }),

/***/ "./src/app/form-editor/navigator/navigator.component.css":
/*!***************************************************************!*\
  !*** ./src/app/form-editor/navigator/navigator.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#schema {\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: bolder;\n  text-decoration: none;\n  display: inline-block;\n}\n.element {\n  font-size: 16px;\n  font-weight: 600;\n  text-decoration: none;\n  display: inline-block;\n  cursor: pointer;\n}\n.element:hover {\n  color: #008cba;\n}\na {\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n  cursor: pointer;\n  text-decoration: none;\n}\n.fa-chevron-down,\n.fa-pencil,\n.fa-toggle-down {\n  color: #008cba !important;\n}\n.well {\n  border: none;\n  background: none;\n}\n.formName {\n  margin-bottom: 20px;\n}\n.display {\n  display: none;\n}\nlabel {\n  font-size: 14px;\n  margin-bottom: 15px;\n}\n.myEditors {\n  margin-bottom: 15px;\n  padding: 10px 10px 10px 10px;\n}\n.selectMode {\n  display: inline-block;\n}\n.formName {\n  width: 100%;\n  margin: 10px 10px 5px 0px;\n  padding: 10px 0px 0px 5px;\n}\n.pages {\n  margin: 5px 2px 2px 0px;\n  padding: 5px 5px 5px 5px;\n  border-bottom: 1px solid rgba(211, 211, 211, 0.23);\n}\n.ref {\n  margin-left: 20px !important;\n}\n.create {\n  margin-right: 10px !important;\n}\n.badge {\n  border-radius: 3px;\n  box-shadow: 0px 4px 3px #888888;\n  width: 100%;\n}\n.badge.sec {\n  width: auto;\n  background: transparent;\n}\n.ref:hover,\n.create:hover {\n  color: #123456 !important;\n}\n.badge.sec > a {\n  color: #008cba !important;\n}\n.material-icons {\n  color: #008cba;\n  font-size: 18px;\n}\n.yellow {\n  color: green;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvbmF2aWdhdG9yL25hdmlnYXRvci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIscUJBQXFCO0VBQ3JCLGVBQWU7QUFDakI7QUFFQTtFQUNFLGNBQWM7QUFDaEI7QUFDQTtFQUNFLFlBQVk7RUFDWixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixxQkFBcUI7QUFDdkI7QUFFQTs7O0VBR0UseUJBQXlCO0FBQzNCO0FBRUE7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0FBQ2xCO0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjtBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLDRCQUE0QjtBQUM5QjtBQUNBO0VBQ0UscUJBQXFCO0FBQ3ZCO0FBRUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLHlCQUF5QjtBQUMzQjtBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLHdCQUF3QjtFQUN4QixrREFBa0Q7QUFDcEQ7QUFFQTtFQUNFLDRCQUE0QjtBQUM5QjtBQUVBO0VBQ0UsNkJBQTZCO0FBQy9CO0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsK0JBQStCO0VBQy9CLFdBQVc7QUFDYjtBQUVBO0VBQ0UsV0FBVztFQUNYLHVCQUF1QjtBQUN6QjtBQUVBOztFQUVFLHlCQUF5QjtBQUMzQjtBQUVBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxjQUFjO0VBQ2QsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvZm9ybS1lZGl0b3IvbmF2aWdhdG9yL25hdmlnYXRvci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3NjaGVtYSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZGVyO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbi5lbGVtZW50IHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uZWxlbWVudDpob3ZlciB7XG4gIGNvbG9yOiAjMDA4Y2JhO1xufVxuYSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi5mYS1jaGV2cm9uLWRvd24sXG4uZmEtcGVuY2lsLFxuLmZhLXRvZ2dsZS1kb3duIHtcbiAgY29sb3I6ICMwMDhjYmEgIWltcG9ydGFudDtcbn1cblxuLndlbGwge1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG59XG5cbi5mb3JtTmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG4uZGlzcGxheSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbmxhYmVsIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4ubXlFZGl0b3JzIHtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbn1cbi5zZWxlY3RNb2RlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uZm9ybU5hbWUge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAxMHB4IDEwcHggNXB4IDBweDtcbiAgcGFkZGluZzogMTBweCAwcHggMHB4IDVweDtcbn1cblxuLnBhZ2VzIHtcbiAgbWFyZ2luOiA1cHggMnB4IDJweCAwcHg7XG4gIHBhZGRpbmc6IDVweCA1cHggNXB4IDVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjExLCAyMTEsIDIxMSwgMC4yMyk7XG59XG5cbi5yZWYge1xuICBtYXJnaW4tbGVmdDogMjBweCAhaW1wb3J0YW50O1xufVxuXG4uY3JlYXRlIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5iYWRnZSB7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgYm94LXNoYWRvdzogMHB4IDRweCAzcHggIzg4ODg4ODtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5iYWRnZS5zZWMge1xuICB3aWR0aDogYXV0bztcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5yZWY6aG92ZXIsXG4uY3JlYXRlOmhvdmVyIHtcbiAgY29sb3I6ICMxMjM0NTYgIWltcG9ydGFudDtcbn1cblxuLmJhZGdlLnNlYyA+IGEge1xuICBjb2xvcjogIzAwOGNiYSAhaW1wb3J0YW50O1xufVxuLm1hdGVyaWFsLWljb25zIHtcbiAgY29sb3I6ICMwMDhjYmE7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbi55ZWxsb3cge1xuICBjb2xvcjogZ3JlZW47XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/navigator/navigator.component.html":
/*!****************************************************************!*\
  !*** ./src/app/form-editor/navigator/navigator.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"well\">\n  <div class=\"formName\" *ngIf=\"schema.name == '' && editMode\">\n    <form #form=\"ngForm\" id=\"formName\" (ngSubmit)=\"editFormName(form.value)\">\n      <div class=\"input-group\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          name=\"formname\"\n          placeholder=\"Enter new form name\"\n          [(ngModel)]=\"formName\"\n          required\n        />\n        <span class=\"input-group-btn\">\n          <button\n            class=\"btn btn-default\"\n            type=\"submit\"\n            [disabled]=\"!form.valid\"\n          >\n            <i class=\"fa fa-check\" style=\"color: green\"></i>\n          </button>\n          <button class=\"btn btn-default\" (click)=\"schema.name = formName\">\n            <i class=\"fa fa-times\"></i>\n          </button>\n        </span>\n      </div>\n    </form>\n  </div>\n\n  <div class=\"formName\" *ngIf=\"schema.name && selectMode\">\n    <h4 id=\"schema\" (click)=\"onClicked(schema)\">\n      <i class=\"fa fa-lg fa-newspaper-o\"></i> {{ schema.name }}\n    </h4>\n  </div>\n\n  <div class=\"formName\" *ngIf=\"schema.name && editMode\">\n    <div *ngIf=\"editMode\" style=\"float: right\" [hidden]=\"editPageMode\">\n      <a\n        ><i\n          (click)=\"showNameEditForm(schema.name)\"\n          class=\"material-icons\"\n          aria-hidden=\"true\"\n          data-toggle=\"tooltip\"\n          title=\"Edit form name\"\n          >edit</i\n        ></a\n      >\n    </div>\n    <h4 id=\"schema\" (click)=\"onClicked(schema)\">\n      <i class=\"fa fa-newspaper-o\"></i> {{ schema.name }}\n    </h4>\n  </div>\n\n  <div *ngIf=\"schema.pages\">\n    <div class=\"myEditors badge sec\" *ngIf=\"editMode\">\n      <a (click)=\"showAddForm('page')\" class=\"create\">\n        <i class=\"fa fa-plus\"></i> Create new page</a\n      >\n      <span style=\"border-right: 1px solid lightgray\"></span>\n      <a style=\"cursor: pointer\" (click)=\"addReferencePage()\" class=\"ref\"\n        ><i class=\"fa fa-reply-all\"></i> Reference Page</a\n      >\n    </div>\n\n    <div *ngFor=\"let page of schema.pages; let i = index\">\n      <div class=\"pages\" *ngIf=\"checkMode(i, rawSchema.pages[i]?.sections)\">\n        <div *ngIf=\"selectMode && _refElement == 'page'\" class=\"selectMode\">\n          <input\n            type=\"checkbox\"\n            (change)=\"setCheckedReferenceElement($event, page.label)\"\n          />\n        </div>\n\n        <a\n          [href]=\"\n            '#page' + page.label.slice(0, 2) + _formSchema.name.slice(0, 2) + i\n          \"\n          data-toggle=\"collapse\"\n          ><i class=\"fa fa-chevron-down\"></i\n        ></a>\n\n        <label (click)=\"onClicked(page, i)\" class=\"element\"\n          >{{ page.label }}\n          <span\n            *ngIf=\"IsPageReferenced(i) && updateMode\"\n            class=\"label label-success\"\n          >\n            This page has been referenced.</span\n          >\n        </label>\n\n        <div\n          *ngIf=\"editMode || updateMode\"\n          style=\"float: right\"\n          [hidden]=\"editPageMode\"\n        >\n          <a *ngIf=\"!IsPageReferenced(i) && editMode\"\n            ><i\n              (click)=\"showEditForm(page, i)\"\n              class=\"material-icons\"\n              aria-hidden=\"true\"\n              >edit</i\n            ></a\n          >\n          <a\n            ><i\n              class=\"material-icons del\"\n              aria-hidden=\"true\"\n              style=\"color: #8b0000\"\n              (click)=\"showDeleteDialog(page, 'page', i)\"\n              >delete_forever</i\n            ></a\n          >\n        </div>\n\n        <div\n          [id]=\"\n            'page' + page.label.slice(0, 2) + _formSchema.name.slice(0, 2) + i\n          \"\n          [class.collapse]=\"editMode || selectMode\"\n        >\n          <app-navigator\n            [pageIndex]=\"i\"\n            [_schema]=\"page\"\n            [formSchema]=\"_formSchema\"\n            [mode]=\"mode\"\n            [count]=\"_count\"\n            [referenceElement]=\"_refElement\"\n            (nestedCheckedRefElementEmitter)=\"\n              setCheckedReferenceElement($event)\n            \"\n            [alias]=\"alias\"\n          ></app-navigator>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div style=\"margin-left: 25px\" *ngIf=\"schema.sections\">\n    <div class=\"myEditors badge sec\" *ngIf=\"editMode\">\n      <a (click)=\"showAddForm('section', pageIndex)\" class=\"create\">\n        <i class=\"fa fa-plus\"></i> Create new section</a\n      >\n      <span style=\"border-right: 1px solid lightgray\"></span>\n      <a\n        style=\"cursor: pointer\"\n        data-toggle=\"tooltip\"\n        title=\"Reference section\"\n        (click)=\"addReferenceSection(pageIndex)\"\n        class=\"ref\"\n        ><i class=\"fa fa-reply-all\"></i> Reference Section</a\n      >\n    </div>\n\n    <div *ngFor=\"let section of schema.sections; let j = index\">\n      <div *ngIf=\"IsSectionReferencedFromComponent(pageIndex, j)\">\n        <div *ngIf=\"selectMode && _refElement == 'section'\" class=\"selectMode\">\n          <input\n            type=\"checkbox\"\n            (change)=\"\n              emitCheckedReferenceElement($event, {\n                page: _formSchema.pages[pageIndex].label,\n                section: section.label\n              })\n            \"\n            [checked]=\"section.label == prechecked\"\n          />\n        </div>\n\n        <a\n          [href]=\"\n            '#section' +\n            section.label.slice(0, 2) +\n            pageIndex +\n            _formSchema.name.slice(0, 2) +\n            j\n          \"\n          data-toggle=\"collapse\"\n          ><i class=\"fa fa-chevron-down\"> </i\n        ></a>\n\n        <label (click)=\"onClicked(section, pageIndex, j)\" class=\"element\"\n          >{{ section.label }}\n\n          <span\n            *ngIf=\"\n              IsSectionReferenced(pageIndex, j) &&\n              !IsPageReferenced(pageIndex) &&\n              updateMode\n            \"\n            class=\"label label-success\"\n          >\n            This section has been referenced.</span\n          >\n        </label>\n\n        <div\n          *ngIf=\"editMode || updateMode\"\n          style=\"float: right\"\n          [hidden]=\"editPageMode || editSectionMode\"\n        >\n          <a *ngIf=\"!IsSectionReferenced(pageIndex, j)\"\n            ><i\n              (click)=\"showEditForm(section, pageIndex, j)\"\n              class=\"fa fa-pencil\"\n              aria-hidden=\"true\"\n            ></i\n          ></a>\n          <a\n            *ngIf=\"\n              IsSectionReferenced(pageIndex, j) &&\n              IsSectionOnlyReferenced(pageIndex, j)\n            \"\n            (click)=\"editReferenceSection(pageIndex, j)\"\n            data-toggle=\"tooltip\"\n            title=\"Edit Referenced Section\"\n            ><i\n              class=\"fa fa-reply-all\"\n              style=\"color: green\"\n              aria-hidden=\"true\"\n            ></i\n          ></a>\n          <a\n            *ngIf=\"\n              !IsPageReferenced(pageIndex) &&\n              IsSectionOnlyReferenced(pageIndex, j)\n            \"\n            ><i\n              class=\"fa fa-trash-o\"\n              aria-hidden=\"true\"\n              style=\"color: #8b0000\"\n              (click)=\"showDeleteDialog(section, 'section', pageIndex, j)\"\n            ></i\n          ></a>\n        </div>\n\n        <!--Exclude Section-->\n        <!-- <div *ngIf=\"selectMode&&_refElement=='page'\" style=\"float:right;\">\n          <a ><i class=\"fa fa-times\" aria-hidden=\"true\"  data-toggle=\"tooltip\" title=\"Exclude section\" style=\"color:red\" (click)=\"excludeSection(pageIndex,j)\"></i></a>\n          </div> -->\n\n        <div\n          [id]=\"\n            'section' +\n            section.label.slice(0, 2) +\n            pageIndex +\n            _formSchema.name.slice(0, 2) +\n            j\n          \"\n          class=\"collapse\"\n        >\n          <app-navigator\n            [sectionIndex]=\"j\"\n            [_schema]=\"section\"\n            [formSchema]=\"_formSchema\"\n            [pageIndex]=\"pageIndex\"\n            [mode]=\"mode\"\n            [referenceElement]=\"_refElement\"\n            (nestedCheckedRefElementEmitter)=\"\n              emitCheckedReferenceElement($event.event, $event.element)\n            \"\n          ></app-navigator>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div style=\"margin-left: 25px\" *ngIf=\"schema.questions\">\n    <div class=\"myEditors badge sec\" *ngIf=\"editMode\">\n      <a\n        (click)=\"addQuestion(pageIndex, sectionIndex, questionIndex)\"\n        class=\"create\"\n      >\n        <i class=\"fa fa-plus\"></i> Create new question</a\n      >\n      <!-- <span style=\"border-right:1px solid lightgray;\"></span>\n      <a style=\"cursor:pointer\" data-toggle=\"tooltip\" title=\"Reference question\" (click)=\"addReferenceQuestion(pageIndex,sectionIndex,questionIndex)\" class=\"ref\" ><i class=\"fa fa-reply-all\"></i> Reference Question</a> -->\n    </div>\n\n    <div *ngFor=\"let question of schema.questions; let k = index\">\n      <!-- <div *ngIf=\"selectMode&&_refElement=='question'\" class=\"selectMode\">\n      <input type=\"checkbox\" \n      (change)=\"emitCheckedReferenceElement($event,{'page':_formSchema.pages[pageIndex].label,'section':_formSchema.pages[pageIndex].sections[sectionIndex].label,'question':question.id || question.questions})\">\n    </div> -->\n\n      <a\n        *ngIf=\"question.questions\"\n        [href]=\"\n          '#question' +\n          question.label.slice(0, 3) +\n          _formSchema.name.slice(0, 2) +\n          pageIndex +\n          sectionIndex +\n          k\n        \"\n        data-toggle=\"collapse\"\n        ><i class=\"fa fa-toggle-down\"> </i\n      ></a>\n      <p\n        class=\"element\"\n        (click)=\"onClicked(question, pageIndex, sectionIndex, k, questionIndex)\"\n      >\n        {{ question.label }}\n      </p>\n\n      <!-- Exclude A Question -->\n      <div\n        *ngIf=\"selectMode && _refElement == 'section' && question.id\"\n        style=\"float: right\"\n      >\n        <a\n          ><i\n            class=\"fa fa-times\"\n            aria-hidden=\"true\"\n            data-toggle=\"tooltip\"\n            title=\"Exclude question\"\n            style=\"color: red\"\n            (click)=\"\n              excludeQuestion(\n                pageIndex,\n                sectionIndex,\n                k,\n                questionIndex,\n                question.id\n              )\n            \"\n          ></i\n        ></a>\n      </div>\n\n      <!-- Edit Question -->\n      <div\n        *ngIf=\"editMode || updateMode\"\n        style=\"float: right\"\n        [hidden]=\"editPageMode || editSectionMode\"\n      >\n        <a *ngIf=\"!IsSectionReferenced(pageIndex, sectionIndex)\"\n          ><i\n            (click)=\"\n              editQuestion(question, pageIndex, sectionIndex, k, questionIndex)\n            \"\n            class=\"fa fa-pencil\"\n            aria-hidden=\"true\"\n          ></i\n        ></a>\n        <a *ngIf=\"!IsSectionReferenced(pageIndex, sectionIndex)\"\n          ><i\n            class=\"fa fa-trash-o\"\n            aria-hidden=\"true\"\n            style=\"color: #8b0000\"\n            (click)=\"\n              showDeleteDialog(\n                question,\n                'question',\n                pageIndex,\n                sectionIndex,\n                k,\n                questionIndex\n              )\n            \"\n          ></i\n        ></a>\n        <a\n          *ngIf=\"\n            !IsPageReferenced(pageIndex) &&\n            IsSectionReferenced(pageIndex, sectionIndex) &&\n            !question.questions &&\n            question.id?.indexOf('__') == -1 &&\n            questionIndex == undefined\n          \"\n          ><i\n            class=\"fa fa-times\"\n            aria-hidden=\"true\"\n            data-toggle=\"tooltip\"\n            title=\"Exclude question\"\n            style=\"color: red\"\n            (click)=\"\n              excludeQuestionFromReferencedSection(\n                pageIndex,\n                sectionIndex,\n                k,\n                question.id\n              )\n            \"\n          ></i\n        ></a>\n        <span\n          *ngIf=\"question.id?.indexOf('__') >= 0\"\n          data-toggle=\"tooltip\"\n          title=\"This question doesn't have an ID. Please add one.\"\n          ><i class=\"fa fa-info-circle\"></i\n        ></span>\n      </div>\n\n      <div\n        [id]=\"\n          'question' +\n          question.label.slice(0, 3) +\n          _formSchema.name.slice(0, 2) +\n          pageIndex +\n          sectionIndex +\n          k\n        \"\n        class=\"collapse\"\n      >\n        <app-navigator\n          [sectionIndex]=\"sectionIndex\"\n          [pageIndex]=\"pageIndex\"\n          [questionIndex]=\"k\"\n          [_schema]=\"question\"\n          [formSchema]=\"_formSchema\"\n          [count]=\"_count\"\n          [mode]=\"mode\"\n          [referenceElement]=\"_refElement\"\n          (nestedCheckedRefElementEmitter)=\"\n            emitCheckedReferenceElement($event.event, $event.element)\n          \"\n        ></app-navigator>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/navigator/navigator.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/form-editor/navigator/navigator.component.ts ***!
  \**************************************************************/
/*! exports provided: NavigatorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorComponent", function() { return NavigatorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _modals_confirm_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modals/confirm.component */ "./src/app/modals/confirm.component.ts");
/* harmony import */ var _modals_prompt_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modals/prompt.component */ "./src/app/modals/prompt.component.ts");
/* harmony import */ var _modals_alert_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modals/alert.component */ "./src/app/modals/alert.component.ts");
/* harmony import */ var _modals_reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modals/reference-form-modal/reference-form.modal */ "./src/app/modals/reference-form-modal/reference-form.modal.ts");
/* harmony import */ var _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../form-elements/form-element-factory */ "./src/app/form-editor/form-elements/form-element-factory.ts");
/* harmony import */ var _form_elements_form_factory_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../form-elements/form-factory.service */ "./src/app/form-editor/form-elements/form-factory.service.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_question_control_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Services/question-control.service */ "./src/app/Services/question-control.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../Services/schema-compiler.service */ "./src/app/Services/schema-compiler.service.ts");
/* harmony import */ var _modals_navigator_modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../modals/navigator.modal */ "./src/app/modals/navigator.modal.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_15__);
















var NavigatorComponent = /** @class */ (function () {
    function NavigatorComponent(fb, ns, qcs, formElementFactory, dialogService, fs, fsc, formFactory) {
        this.fb = fb;
        this.ns = ns;
        this.qcs = qcs;
        this.formElementFactory = formElementFactory;
        this.dialogService = dialogService;
        this.fs = fs;
        this.fsc = fsc;
        this.formFactory = formFactory;
        this._count = 0;
        this.editPageMode = false;
        this.editSectionMode = false;
        this.checkedRefElements = []; // selected elements to be referenced
        this.excludedQuestions = [];
        this.closeSidebar = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.checkedRefElementsEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.nestedCheckedRefElementEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    Object.defineProperty(NavigatorComponent.prototype, "referenceElement", {
        set: function (refElement) {
            this._refElement = refElement;
        } // element to be referenced if select mode
        ,
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NavigatorComponent.prototype, "count", {
        set: function (count) {
            this._count = count;
        } // keeps count of recursive calls
        ,
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NavigatorComponent.prototype, "_schema", {
        set: function (schema) {
            this.schema = schema;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NavigatorComponent.prototype, "_rawSchema", {
        set: function (schema) {
            this.rawSchema = schema;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NavigatorComponent.prototype, "formSchema", {
        set: function (fschema) {
            this._formSchema = lodash__WEBPACK_IMPORTED_MODULE_15__["clone"](fschema);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NavigatorComponent.prototype, "componentToHighlight", {
        set: function (formName) {
            this._componentToHighlight = formName;
            this.alias = this.getComponentFormAlias(formName);
        },
        enumerable: true,
        configurable: true
    });
    NavigatorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.showSpinner();
        this.ns.prechecked.subscribe(function (res) {
            _this.prechecked = res;
        });
        this.subscription = this.fs
            .getReferencedFormsSchemasArray()
            .subscribe(function (res) {
            _this.referencedForms = res;
        });
        this.subscription = this.ns.getRawSchema().subscribe(function (res) {
            if (!lodash__WEBPACK_IMPORTED_MODULE_15__["isEmpty"](res)) {
                _this.rawSchema = lodash__WEBPACK_IMPORTED_MODULE_15__["cloneDeep"](res);
            }
        });
        if (this.mode === 'edit') {
            this.editMode = true;
            this.selectMode = false;
            this.updateMode = false;
        }
        else if (this.mode === 'update') {
            this.selectMode = false;
            this.editMode = false;
            this.updateMode = true;
        }
        else {
            this.selectMode = true;
            this.editMode = false;
            this.updateMode = false;
        }
        this.subscription = this.ns.getExcludedQuestions().subscribe(function (res) {
            if (res !== '') {
                _this.excludedQuestions.push(res);
            }
            else {
                _this.excludedQuestions = [];
            }
        });
    };
    NavigatorComponent.prototype.getComponentFormAlias = function (uuid) {
        var alias = '';
        lodash__WEBPACK_IMPORTED_MODULE_15__["each"](this._formSchema.referencedForms, function (form) {
            if (form.uuid === uuid) {
                alias = form.alias;
            }
        });
        return alias;
    };
    // when element is clicked in navigator
    NavigatorComponent.prototype.onClicked = function (selectedSchema, pageIndex, sectionIndex, questionIndex, parentQuestionIndex) {
        if (this.selectMode) {
            return;
        }
        var schemaObj = {};
        schemaObj['selectedSchema'] = selectedSchema;
        schemaObj['pageIndex'] = pageIndex;
        schemaObj['sectionIndex'] = sectionIndex;
        schemaObj['questionIndex'] = questionIndex;
        this.ns.setClickedElementSchema(schemaObj);
        if (pageIndex !== undefined &&
            sectionIndex !== undefined &&
            questionIndex !== undefined &&
            parentQuestionIndex !== undefined) {
            if (this.rawSchema.pages[pageIndex].label) {
                if (this.rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex].sections[sectionIndex].questions[questionIndex].questions[parentQuestionIndex]);
                    return;
                }
                else {
                    this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex].sections[sectionIndex]);
                    return;
                }
            }
            else {
                this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex]);
            }
        }
        else if (pageIndex !== undefined &&
            sectionIndex !== undefined &&
            questionIndex !== undefined) {
            if (this.rawSchema.pages[pageIndex].label) {
                if (this.rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                    this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex].sections[sectionIndex].questions[questionIndex]);
                    return;
                }
                else {
                    this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex].sections[sectionIndex]);
                    return;
                }
            }
            else {
                this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex]);
                return;
            }
        }
        else if (pageIndex !== undefined && sectionIndex !== undefined) {
            if (this.rawSchema.pages[pageIndex].label) {
                this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex].sections[sectionIndex]);
                return;
            }
            else {
                this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex]);
            }
        }
        else if (selectedSchema['name']) {
            this.ns.setClickedElementRawSchema(this.rawSchema);
        }
        else {
            this.ns.setClickedElementRawSchema(this.rawSchema.pages[pageIndex]);
            return;
        }
    };
    NavigatorComponent.prototype.showEditForm = function (schema, pageIndex, sectionIndex) {
        this.propertyModelArray = this.qcs.toPropertyModelArray(schema);
        this.editForm = this.qcs.toFormGroup(this.propertyModelArray);
        if (schema.sections) {
            // page
            this.showEditDialog(this.propertyModelArray, this.editForm, pageIndex);
        }
        else {
            // section
            this.showEditDialog(this.propertyModelArray, this.editForm, pageIndex, sectionIndex);
        }
    };
    NavigatorComponent.prototype.showAddForm = function (element, pageIndex) {
        if (element === 'page') {
            var newPage = this.formElementFactory.createFormElement(element, {
                label: ''
            });
            this.propertyModelArray = this.qcs.toPropertyModelArray(newPage);
            this.addForm = this.qcs.toFormGroup(this.propertyModelArray);
            this.showAddDialog(this.propertyModelArray, this.addForm);
        }
        else {
            var newSection = this.formElementFactory.createFormElement(element, {});
            this.propertyModelArray = this.qcs.toPropertyModelArray(newSection);
            this.addForm = this.qcs.toFormGroup(this.propertyModelArray);
            this.showAddDialog(this.propertyModelArray, this.addForm, pageIndex);
        }
    };
    NavigatorComponent.prototype.showDeleteDialog = function (schema, element, pageIndex, sectionIndex, questionIndex, parentQuestionIndex) {
        var _this = this;
        this.subscription = this.dialogService
            .addDialog(_modals_confirm_component__WEBPACK_IMPORTED_MODULE_2__["ConfirmComponent"], {
            title: 'Delete ' + element,
            message: 'Are you sure you want to delete ' + schema.label
        }, {
            backdropColor: 'rgba(0,0, 0, 0.5)'
        })
            .subscribe(function (isConfirmed) {
            if (isConfirmed) {
                if (element === 'page') {
                    _this.deletePage(pageIndex);
                }
                else if (element === 'section') {
                    _this.deleteSection(pageIndex, sectionIndex);
                }
                else {
                    _this.deleteQuestion(pageIndex, sectionIndex, questionIndex, parentQuestionIndex);
                }
            }
        });
    };
    NavigatorComponent.prototype.showEditDialog = function (propModelArray, form, pageIndex, sectionIndex) {
        var _this = this;
        if (sectionIndex > -1) {
            this.subscription = this.dialogService
                .addDialog(_modals_prompt_component__WEBPACK_IMPORTED_MODULE_3__["PromptComponent"], {
                title: 'Edit Section',
                questions: propModelArray,
                form: form
            })
                .subscribe(function (formValue) {
                if (formValue) {
                    _this.editSection(formValue, pageIndex, sectionIndex);
                }
            });
        }
        else {
            this.subscription = this.dialogService
                .addDialog(_modals_prompt_component__WEBPACK_IMPORTED_MODULE_3__["PromptComponent"], {
                title: 'Edit Page',
                questions: propModelArray,
                form: form
            })
                .subscribe(function (formValue) {
                if (formValue) {
                    _this.editPage(formValue['label'], pageIndex);
                }
            });
        }
    };
    NavigatorComponent.prototype.showAddDialog = function (propModelArray, form, pageIndex) {
        var _this = this;
        if (pageIndex !== undefined && pageIndex > -1) {
            this.subscription = this.dialogService
                .addDialog(_modals_prompt_component__WEBPACK_IMPORTED_MODULE_3__["PromptComponent"], {
                title: 'Create Section',
                questions: propModelArray,
                form: form
            }, {
                backdropColor: 'rgba(255, 255, 255, 0.5)'
            })
                .subscribe(function (formValue) {
                if (formValue !== undefined) {
                    _this.addSection(formValue, pageIndex);
                }
            });
        }
        else {
            this.subscription = this.dialogService
                .addDialog(_modals_prompt_component__WEBPACK_IMPORTED_MODULE_3__["PromptComponent"], {
                title: 'Create Page',
                questions: propModelArray,
                form: form
            }, {
                backdropColor: 'rgba(255, 255, 255, 0.5)'
            })
                .subscribe(function (formValue) {
                if (formValue) {
                    _this.addPage(formValue['label']);
                }
            });
        }
    };
    NavigatorComponent.prototype.editPage = function (label, pageIndex) {
        if (this.rawSchema.pages[pageIndex].label) {
            this._formSchema.pages[pageIndex].label = label;
            this.rawSchema.pages[pageIndex].label = label;
            this.setSchema(this._formSchema);
            this.setRawSchema(this.rawSchema);
        }
        else {
            this.showAlertDialog('You cannot edit a referenced page.');
            return false;
        }
    };
    NavigatorComponent.prototype.editSection = function (value, pageIndex, sectionIndex) {
        if (this.rawSchema.pages[pageIndex].label) {
            if (this.rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                this.schema['sections'][sectionIndex].label = value.label;
                this.schema['sections'][sectionIndex].isExpanded = value.isExpanded;
                this._formSchema.pages[pageIndex] = this.schema;
                this.rawSchema.pages[pageIndex] = this.schema;
                this.setSchema(this._formSchema);
                this.setRawSchema(this.rawSchema);
            }
            else {
                this.showAlertDialog('You cannot edit a referenced section.');
                return false;
            }
        }
        else {
            this.showAlertDialog('You cannot edit a referenced page.');
            return false;
        }
    };
    NavigatorComponent.prototype.editQuestion = function (question, pageIndex, sectionIndex, questionIndex, parentQuestionIndex) {
        var schemaObj = {};
        schemaObj['selectedSchema'] = question;
        schemaObj['pageIndex'] = pageIndex;
        schemaObj['sectionIndex'] = sectionIndex;
        schemaObj['questionIndex'] = questionIndex;
        schemaObj['parentQuestionIndex'] = parentQuestionIndex;
        this.ns.setClickedElementSchema(schemaObj); // set the current edited question in the schema editor
        this.propertyModelArray = this.qcs.toPropertyModelArray(question);
        if (parentQuestionIndex !== undefined && parentQuestionIndex > -1) {
            // thy art an obsgroup question!
            this.ns.newQuestion(this.propertyModelArray, pageIndex, sectionIndex, questionIndex, parentQuestionIndex);
        }
        else {
            this.ns.newQuestion(this.propertyModelArray, pageIndex, sectionIndex, questionIndex, undefined, schemaObj['selectedSchema']);
        }
    };
    NavigatorComponent.prototype.addPage = function (label) {
        if (!this.doesPageExist(label)) {
            var newPage = this.formElementFactory.createFormElement('page', {
                label: label
            });
            this.rawSchema.pages.push(newPage);
            this._formSchema.pages.push(newPage);
            this.ns.setSchema(this._formSchema);
            this.ns.setRawSchema(this.rawSchema);
            this.onClicked(newPage, this.rawSchema.pages.length - 1);
        }
        else {
            this.showAlertDialog('Page already exists! \n Try creating one with a different label!');
        }
    };
    NavigatorComponent.prototype.addSection = function (value, pageIndex) {
        var newSection = this.formElementFactory.createFormElement('section', {
            label: value.label,
            isExpanded: value.isExpanded
        });
        if (this.rawSchema.pages[pageIndex].label) {
            this.rawSchema.pages[pageIndex].sections.push(newSection);
            this._formSchema.pages[pageIndex].sections.push(newSection);
            this.setSchema(this._formSchema);
            this.setRawSchema(this.rawSchema);
            this.onClicked(newSection, pageIndex, this.rawSchema.pages[pageIndex].sections.length - 1);
        }
        else {
            this.showAlertDialog('You cannot add a section to a referenced page.');
        }
    };
    NavigatorComponent.prototype.addQuestion = function (pageIndex, sectionIndex, questionIndex) {
        var newQuestion = this.formElementFactory.createFormElement('question', {});
        var propertyModelArray = this.qcs.toPropertyModelArray(newQuestion);
        if (questionIndex !== undefined) {
            this.ns.newQuestion(propertyModelArray, pageIndex, sectionIndex, questionIndex); // obsGroup
            this.onClicked(newQuestion, pageIndex, sectionIndex, questionIndex, this.rawSchema.pages[pageIndex].sections[sectionIndex].questions[questionIndex].questions.length - 1);
        }
        else {
            this.ns.newQuestion(propertyModelArray, pageIndex, sectionIndex);
            this.onClicked(newQuestion, pageIndex, sectionIndex, this.rawSchema.pages[pageIndex].sections[sectionIndex].questions
                .length - 1);
        }
    };
    NavigatorComponent.prototype.deletePage = function (pageIndex) {
        this._formSchema.pages.splice(pageIndex, 1);
        this.rawSchema.pages.splice(pageIndex, 1);
        this.setSchema(this._formSchema);
        this.setRawSchema(this.rawSchema);
    };
    NavigatorComponent.prototype.deleteSection = function (pageIndex, sectionIndex) {
        this._formSchema.pages[pageIndex].sections.splice(sectionIndex, 1);
        this.rawSchema.pages[pageIndex].sections.splice(sectionIndex, 1);
        this.setSchema(this._formSchema);
        this.setRawSchema(this.rawSchema);
    };
    NavigatorComponent.prototype.deleteQuestion = function (pageIndex, sectionIndex, questionIndex, parentQuestionIndex) {
        if (parentQuestionIndex !== undefined) {
            this._formSchema.pages[pageIndex].sections[sectionIndex].questions[parentQuestionIndex].questions.splice(questionIndex, 1);
            this.rawSchema.pages[pageIndex].sections[sectionIndex].questions[parentQuestionIndex].questions.splice(questionIndex, 1);
        }
        else {
            this._formSchema.pages[pageIndex].sections[sectionIndex].questions.splice(questionIndex, 1);
            this.rawSchema.pages[pageIndex].sections[sectionIndex].questions.splice(questionIndex, 1);
        }
        this.setSchema(this._formSchema);
        this.setRawSchema(this.rawSchema);
    };
    NavigatorComponent.prototype.doesPageExist = function (label) {
        var result = false;
        this._formSchema.pages.forEach(function (page) {
            if (Object.is(label.toLowerCase(), page.label.toLowerCase())) {
                result = true;
            }
        });
        return result;
    };
    NavigatorComponent.prototype.addReferencePage = function () {
        var _this = this;
        if (this.referencedForms.length > 0) {
            this.subscription = this.dialogService
                .addDialog(_modals_reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_5__["ReferenceModalComponent"], {
                refElement: 'Page'
            }, {
                backdropColor: 'rgba(0, 0, 0, 0.5)'
            })
                .subscribe(function (res) {
                if (res !== undefined) {
                    _this.createRefPages(JSON.parse(res));
                }
            });
        }
        else {
            this.showAlertDialog('Insert reference form first');
        }
    };
    NavigatorComponent.prototype.addReferenceSection = function (pageIndex) {
        var _this = this;
        this.ns.setExcludedQuestions('');
        if (this.referencedForms.length > 0) {
            this.subscription = this.dialogService
                .addDialog(_modals_reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_5__["ReferenceModalComponent"], {
                refElement: 'Section'
            }, {
                backdropColor: 'rgba(0, 0, 0, 0.5)'
            })
                .subscribe(function (res) {
                if (res !== undefined) {
                    _this.createRefSections(JSON.parse(res), pageIndex);
                }
            });
        }
        else {
            this.showAlertDialog('Insert reference form first');
        }
    };
    NavigatorComponent.prototype.addReferenceQuestion = function (pageIndex, sectionIndex, questionIndex) {
        if (this.referencedForms.length > 0) {
            this.subscription = this.dialogService
                .addDialog(_modals_reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_5__["ReferenceModalComponent"], {
                refElement: 'Question'
            }, {
                backdropColor: 'rgba(0,0,0,0.5)'
            })
                .subscribe(function (res) {
                if (res !== undefined) {
                    // this.createRefQuestions(JSON.parse(res),pageIndex,sectionIndex,questionIndex)
                }
            });
        }
    };
    NavigatorComponent.prototype.setCheckedReferenceElement = function (event, element) {
        var _this = this;
        var ev;
        var el;
        if (element) {
            ev = event;
            el = element;
        }
        else {
            ev = event.event;
            el = event.element;
        }
        if (ev.target.checked) {
            this.checkedRefElements.push(el);
        }
        else {
            if (this.checkedRefElements.length > 0) {
                this.checkedRefElements.forEach(function (checkedRefElement, index) {
                    if (typeof checkedRefElement !== 'object' &&
                        checkedRefElement === el) {
                        _this.checkedRefElements.splice(index, 1);
                    }
                    else if (typeof checkedRefElement === 'object' &&
                        JSON.stringify(el) === JSON.stringify(checkedRefElement)) {
                        _this.checkedRefElements.splice(index, 1);
                    }
                });
            }
        }
        if (this.schema['pages']) {
            this.checkedRefElementsEmitter.emit(this.checkedRefElements);
        }
    };
    NavigatorComponent.prototype.emitCheckedReferenceElement = function (event, element) {
        var e = {};
        e['event'] = event;
        e['element'] = element;
        this.nestedCheckedRefElementEmitter.emit(e);
    };
    NavigatorComponent.prototype.closeNav = function () {
        this.closeSidebar.emit(true);
    };
    NavigatorComponent.prototype.createRefPages = function (res) {
        var _this = this;
        var formProps = this.createBasicFormProps();
        for (var _i = 0, _a = JSON.parse(res['Pages']); _i < _a.length; _i++) {
            var el = _a[_i];
            var obj = {};
            obj['reference'] = {
                form: res.form,
                page: el
            };
            formProps['pages'].push(obj);
            obj = JSON.stringify(obj);
            this.rawSchema.pages.push(JSON.parse(obj));
        }
        var mockForm = this.formFactory.createForm(formProps);
        var compiledForm = this.fsc.compileFormSchema(mockForm, this.referencedForms);
        compiledForm['pages'].forEach(function (page) {
            if (_this.doesPageExist(page.label)) {
                _this.showAlertDialog(page.label +
                    ' already exists! \n Try referencing one with a different label');
            }
            else {
                _this._formSchema.pages.push(page);
                _this.setSchema(_this._formSchema);
                _this.setRawSchema(_this.rawSchema);
            }
        });
    };
    NavigatorComponent.prototype.createRefSections = function (res, pageIndex) {
        var _this = this;
        var formProps = this.createBasicFormProps(pageIndex);
        var formAlias = res.form;
        for (var _i = 0, _a = JSON.parse(res['Sections']); _i < _a.length; _i++) {
            var el = _a[_i];
            var obj = {};
            if (this.excludedQuestions.length > 0) {
                obj['reference'] = {
                    form: res.form,
                    page: el.page,
                    section: el.section,
                    excludeQuestions: this.addExcludedQuestions(res.form, el)
                };
            }
            else {
                obj['reference'] = {
                    form: res.form,
                    page: el.page,
                    section: el.section
                };
            }
            formProps['pages'][0]['sections'].push(obj);
            obj = JSON.stringify(obj);
            if (!this.rawSchema.pages) {
                this.showAlertDialog('You cannot reference a section in a referenced page! Please create a new page in order to reference this section.');
                return false;
            }
            else {
                if (!this.sectionExist(pageIndex, JSON.parse(obj).reference.section)) {
                    this.rawSchema.pages[pageIndex].sections.push(JSON.parse(obj));
                }
            }
        }
        var mockForm = this.formFactory.createForm(formProps);
        var compiledForm = this.fsc.compileFormSchema(mockForm, this.referencedForms);
        compiledForm['pages'][0]['sections'].forEach(function (section) {
            if (!_this.sectionExist(pageIndex, section.label)) {
                _this._formSchema.pages[pageIndex].sections.push(section);
            }
        });
        this.setSchema(this._formSchema);
        this.setRawSchema(this.rawSchema);
    };
    NavigatorComponent.prototype.sectionExist = function (pageIndex, sectionlabel) {
        var exist = false;
        this._formSchema.pages[pageIndex].sections.forEach(function (section) {
            if (section.label === sectionlabel) {
                exist = true;
            }
        });
        return exist;
    };
    // createRefQuestions(res,pageIndex,sectionIndex,questionIndex?){
    // 	console.log(res)
    // 	let formProps=this.createBasicFormProps(pageIndex,sectionIndex)
    // 	for(var el of JSON.parse(res['Questions'])){
    // 		let obj = {}
    // 		  obj['reference']={"form":res.form, "page":el.page, "section":el.section, "question":el.question}
    // 		  formProps['pages'][0]['sections'][0].questions.push(obj)
    // 	}
    // 	 let mockForm = this.formFactory.createForm(formProps)
    // 	 let compiledForm = this.fsc.compileFormSchema(mockForm,this.referencedForms)
    // 	 console.log(compiledForm)
    // console.log(compiledForm)
    // compiledForm['pages'][0]['sections'][0]['questions'].forEach(
    // 	question => {
    // 		if(questionIndex!==undefined){
    // 			this._formSchema.pages[pageIndex].sections[sectionIndex].questions[questionIndex].push(question)
    // 		}
    // 		else{
    // 			this._formSchema.pages[pageIndex].sections[sectionIndex].questions.push(question)
    // 		}
    // 	}
    // )
    // }
    NavigatorComponent.prototype.createBasicFormProps = function (pageIndex, sectionIndex) {
        var formProps = {};
        formProps['name'] = this.rawSchema.name;
        formProps['uuid'] = this.rawSchema.uuid;
        formProps['processor'] = this.rawSchema.processor;
        formProps['referencedForms'] = this.rawSchema.referencedForms;
        formProps['pages'] = [];
        if (pageIndex !== undefined && sectionIndex !== undefined) {
            formProps['pages'].push(this.formElementFactory.createFormElement('page', {
                label: this._formSchema.pages[pageIndex].label
            }));
            formProps['pages'][0].sections.push(this.formElementFactory.createFormElement('section', {
                label: this._formSchema.pages[pageIndex].sections[sectionIndex].label,
                questions: []
            }));
            return formProps;
        }
        if (pageIndex !== undefined) {
            formProps['pages'].push(this.formElementFactory.createFormElement('page', {
                label: this._formSchema.pages[pageIndex].label
            }));
            return formProps;
        }
        else {
            return formProps;
        }
    };
    NavigatorComponent.prototype.addExcludedQuestions = function (res, el) {
        var _this = this;
        var exQ = this.excludedQuestions;
        var formAlias = res;
        var final = [];
        var acceptedQuestionIds = [];
        var referencedFormDits = [];
        this.fs.getReferencedFormsDetails().subscribe(function (dits) {
            referencedFormDits = lodash__WEBPACK_IMPORTED_MODULE_15__["cloneDeep"](dits);
            referencedFormDits.forEach(function (form) {
                if ((form.alias = formAlias)) {
                    _this.referencedForms.forEach(function (form$, index) {
                        if (form$.name === form.formName) {
                            form$.pages.forEach(function (page, pageIndex) {
                                if (page.label === el.page) {
                                    form$.pages[pageIndex].sections.forEach(function (section, sectionIndex) {
                                        if (section.label === el.section) {
                                            form$.pages[pageIndex].sections[sectionIndex].questions.forEach(function (question) {
                                                if (question.id) {
                                                    acceptedQuestionIds.push(question.id);
                                                }
                                            });
                                        }
                                    });
                                }
                            });
                        }
                    });
                }
            });
        });
        acceptedQuestionIds.forEach(function (questionID) {
            exQ.forEach(function (excludedQuestionId) {
                if (excludedQuestionId === questionID) {
                    final.push(excludedQuestionId);
                }
            });
        });
        return final;
    };
    NavigatorComponent.prototype.excludeQuestion = function (pageIndex, sectionIndex, questionIndex, parentQuestionIndex, questionID) {
        if (parentQuestionIndex !== undefined) {
            this._formSchema.pages[pageIndex].sections[sectionIndex].questions[parentQuestionIndex].questions.splice(questionIndex, 1);
        }
        else {
            this._formSchema.pages[pageIndex].sections[sectionIndex].questions.splice(questionIndex, 1);
        }
        // this.findAndReplaceReferenceFormByName(this._formSchema.name,this._formSchema);
        this.ns.setExcludedQuestions(questionID);
    };
    // excludeSection(pageIndex,sectionIndex){
    // 	this._formSchema.pages[pageIndex].sections.splice(sectionIndex,1);
    // 	this.findAndReplaceReferenceFormByName(this._formSchema.name,this._formSchema)
    // }
    NavigatorComponent.prototype.findAndReplaceReferenceFormByName = function (name, schema) {
        var _this = this;
        this.referencedForms.forEach(function (form, index) {
            if (form.name === name) {
                _this.referencedForms.splice(index, 1, schema);
            }
        });
    };
    NavigatorComponent.prototype.showAlertDialog = function (message) {
        this.dialogService.addDialog(_modals_alert_component__WEBPACK_IMPORTED_MODULE_4__["AlertComponent"], {
            message: message
        });
    };
    NavigatorComponent.prototype.setRawSchema = function (obj) {
        this.ns.setRawSchema(obj);
    };
    NavigatorComponent.prototype.setSchema = function (schema) {
        this.ns.setSchema(this._formSchema);
    };
    NavigatorComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
    };
    NavigatorComponent.prototype.editFormName = function (value) {
        this._formSchema.name = value.formname;
        this.rawSchema.name = value.formname;
        this.setSchema(this._formSchema);
        this.setRawSchema(this.rawSchema);
    };
    NavigatorComponent.prototype.showNameEditForm = function (name) {
        this.formName = name;
        this.schema['name'] = '';
    };
    NavigatorComponent.prototype.showSpinner = function () {
        try {
            if (!lodash__WEBPACK_IMPORTED_MODULE_15__["isEmpty"](this._formSchema.pages)) {
                var lastPageIndex = this._formSchema.pages.length - 1;
                if (!lodash__WEBPACK_IMPORTED_MODULE_15__["isEmpty"](this._formSchema.pages[lastPageIndex].sections)) {
                    var lastSectionIndex = this._formSchema.pages[lastPageIndex].sections.length - 1;
                    if (this._formSchema.pages[lastPageIndex].sections[lastSectionIndex]) {
                        if (this._formSchema.pages[lastPageIndex].sections[lastSectionIndex]
                            .questions) {
                            var lastQuestionIndex = this._formSchema.pages[lastPageIndex].sections[lastSectionIndex]
                                .questions.length - 1;
                            this.fs.setLoaded(true);
                        }
                    }
                    else {
                        this.fs.setLoaded(true);
                    }
                }
                else {
                    this.fs.setLoaded(true);
                }
            }
            else {
                this.fs.setLoaded(true);
            }
        }
        catch (e) {
            console.error(e);
        }
    };
    NavigatorComponent.prototype.IsPageReferenced = function (pageIndex) {
        var isReferenced = false;
        if (!this.rawSchema.pages[pageIndex].label) {
            isReferenced = true;
        }
        return isReferenced;
    };
    NavigatorComponent.prototype.IsSectionReferenced = function (pageIndex, sectionIndex) {
        var isReferenced = false;
        if (this.selectMode) {
            return false;
        }
        if (this.rawSchema.pages[pageIndex].label) {
            if (!this.rawSchema.pages[pageIndex].sections[sectionIndex].label) {
                isReferenced = true;
            }
        }
        else {
            isReferenced = true;
        }
        return isReferenced;
    };
    NavigatorComponent.prototype.IsSectionOnlyReferenced = function (pageIndex, sectionIndex) {
        var result = false;
        var section = {};
        if (!this.IsPageReferenced(pageIndex)) {
            section = this.rawSchema.pages[pageIndex].sections[sectionIndex];
            if (section.reference) {
                result = true;
            }
            else {
                result = true;
            }
        }
        return result;
    };
    NavigatorComponent.prototype.editReferenceSection = function (pageIndex, sectionIndex) {
        var _this = this;
        var section = this.rawSchema.pages[pageIndex].sections[sectionIndex];
        this.ns.setPrechecked(section.reference.section);
        lodash__WEBPACK_IMPORTED_MODULE_15__["forEach"](this.rawSchema.referencedForms, function (form) {
            if (lodash__WEBPACK_IMPORTED_MODULE_15__["isEqual"](section.reference.form, form.alias)) {
                _this.fs.fetchFormMetadata(form.ref.uuid, true).then(function (metadata) {
                    _this.fs
                        .fetchForm(metadata.resources[0].valueReference, true)
                        .then(function (schema) {
                        _this.subscription = _this.dialogService
                            .addDialog(_modals_navigator_modal__WEBPACK_IMPORTED_MODULE_14__["NavigatorModalComponent"], {
                            title: "Edit Referenced Section",
                            schema: schema,
                            referenceElement: 'section'
                        }, {
                            backdropColor: 'rgba(0, 0, 0, 0.5)'
                        })
                            .subscribe(function (res) {
                            if (res) {
                                _this.createRefSections({
                                    form: form.alias,
                                    Sections: res
                                }, pageIndex);
                            }
                        });
                    });
                });
            }
        });
    };
    NavigatorComponent.prototype.excludeQuestionFromReferencedSection = function (pageIndex, sectionIndex, k, questionId) {
        this._formSchema.pages[pageIndex].sections[sectionIndex].questions.splice(k, 1);
        var section = this.rawSchema.pages[pageIndex].sections[sectionIndex];
        if (this.isSectionCustomized(section)) {
            this.rawSchema.pages[pageIndex].sections[sectionIndex].excludeQuestions.push(questionId);
        }
        else {
            section['reference']['excludeQuestions'] = [questionId];
            this.rawSchema.pages[pageIndex].sections[sectionIndex] = section;
        }
        this.setRawSchema(this.rawSchema);
        this.setSchema(this._formSchema);
    };
    NavigatorComponent.prototype.isSectionCustomized = function (section) {
        var isCustomized = false;
        if (section.excludeQuestions) {
            isCustomized = true;
        }
        return isCustomized;
    };
    NavigatorComponent.prototype.checkMode = function (pageIndex, sections) {
        var _this = this;
        var result = false;
        if (this.editMode || this.selectMode) {
            result = true;
        }
        if (this.updateMode) {
            if (this.IsPageReferenced(pageIndex)) {
                if (this.rawSchema.pages[pageIndex].reference.form === this.alias) {
                    return true;
                }
            }
            if (!lodash__WEBPACK_IMPORTED_MODULE_15__["isEmpty"](sections)) {
                lodash__WEBPACK_IMPORTED_MODULE_15__["each"](sections, function (section) {
                    if (!section.label) {
                        if (section.reference.form === _this.alias) {
                            result = true;
                        }
                    }
                });
            }
        }
        return result;
    };
    NavigatorComponent.prototype.IsSectionReferencedFromComponent = function (pageIndex, sectionIndex) {
        var results = false;
        if (this.editMode || this.selectMode) {
            results = true;
        }
        else if (this.IsPageReferenced(pageIndex)) {
            return true;
        }
        else if (this.updateMode) {
            if (this.IsSectionReferenced(pageIndex, sectionIndex)) {
                if (this.rawSchema.pages[pageIndex].sections[sectionIndex].reference
                    .form === this.alias) {
                    results = true;
                }
            }
        }
        return results;
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], NavigatorComponent.prototype, "alias", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], NavigatorComponent.prototype, "mode", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], NavigatorComponent.prototype, "pageIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], NavigatorComponent.prototype, "sectionIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], NavigatorComponent.prototype, "questionIndex", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NavigatorComponent.prototype, "referenceElement", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NavigatorComponent.prototype, "count", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NavigatorComponent.prototype, "_schema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NavigatorComponent.prototype, "_rawSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NavigatorComponent.prototype, "formSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [String])
    ], NavigatorComponent.prototype, "componentToHighlight", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], NavigatorComponent.prototype, "closeSidebar", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], NavigatorComponent.prototype, "checkedRefElementsEmitter", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], NavigatorComponent.prototype, "nestedCheckedRefElementEmitter", void 0);
    NavigatorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-navigator',
            template: __webpack_require__(/*! ./navigator.component.html */ "./src/app/form-editor/navigator/navigator.component.html"),
            styles: [__webpack_require__(/*! ./navigator.component.css */ "./src/app/form-editor/navigator/navigator.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormBuilder"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_9__["NavigatorService"],
            _Services_question_control_service__WEBPACK_IMPORTED_MODULE_11__["QuestionControlService"],
            _form_elements_form_element_factory__WEBPACK_IMPORTED_MODULE_6__["FormElementFactory"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__["DialogService"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_10__["FetchFormDetailService"],
            _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_13__["FormSchemaCompiler"],
            _form_elements_form_factory_service__WEBPACK_IMPORTED_MODULE_7__["FormFactory"]])
    ], NavigatorComponent);
    return NavigatorComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/order/order.component.css":
/*!*******************************************************!*\
  !*** ./src/app/form-editor/order/order.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZWRpdG9yL29yZGVyL29yZGVyLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/form-editor/order/order.component.html":
/*!********************************************************!*\
  !*** ./src/app/form-editor/order/order.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"question\">\n  <div [formGroup]=\"form\">\n    <div class=\"input-group\">\n      <input\n        class=\"form-control\"\n        placeholder=\"Enter order id, uuid or label to search\"\n        [formControlName]=\"question.key\"\n        [id]=\"question.key\"\n        [type]=\"question.type\"\n        [value]=\"question.value\"\n      />\n      <span class=\"input-group-btn\">\n        <button\n          class=\"btn btn-primary\"\n          type=\"button\"\n          (click)=\"searchOrder()\"\n          [attr.disable]=\"searching\"\n        >\n          <i\n            class=\"fa\"\n            [class.fa-search]=\"!searching\"\n            [ngClass]=\"{ 'fa-spinner fa-spin fa-fw': searching }\"\n          ></i>\n        </button>\n      </span>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/order/order.component.ts":
/*!******************************************************!*\
  !*** ./src/app/form-editor/order/order.component.ts ***!
  \******************************************************/
/*! exports provided: OrderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderComponent", function() { return OrderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_property_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/property-model */ "./src/app/form-editor/models/property-model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var OrderComponent = /** @class */ (function () {
    function OrderComponent() {
    }
    Object.defineProperty(OrderComponent.prototype, "_question", {
        set: function (question) {
            this.question = question;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OrderComponent.prototype, "_form", {
        set: function (form) {
            this.form = form;
        },
        enumerable: true,
        configurable: true
    });
    OrderComponent.prototype.ngOnInit = function () { };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _models_property_model__WEBPACK_IMPORTED_MODULE_2__["PropertyModel"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_models_property_model__WEBPACK_IMPORTED_MODULE_2__["PropertyModel"]])
    ], OrderComponent.prototype, "_question", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroup"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroup"]])
    ], OrderComponent.prototype, "_form", null);
    OrderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-order',
            template: __webpack_require__(/*! ./order.component.html */ "./src/app/form-editor/order/order.component.html"),
            styles: [__webpack_require__(/*! ./order.component.css */ "./src/app/form-editor/order/order.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], OrderComponent);
    return OrderComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/reference-forms/reference-forms.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/form-editor/reference-forms/reference-forms.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".badge {\n  font-weight: bold;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvcmVmZXJlbmNlLWZvcm1zL3JlZmVyZW5jZS1mb3Jtcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvZm9ybS1lZGl0b3IvcmVmZXJlbmNlLWZvcm1zL3JlZmVyZW5jZS1mb3Jtcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJhZGdlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/reference-forms/reference-forms.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/form-editor/reference-forms/reference-forms.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"_schema\">\n  <button class=\"btn btn-success\" [matMenuTriggerFor]=\"menu\">\n    Referenced Forms\n  </button>\n  <mat-menu #menu=\"matMenu\">\n    <div style=\"padding: 20px\">\n      <button mat-menu-item (click)=\"insertRefForm()\">\n        <a (click)=\"insertRefForm()\"\n          ><i class=\"fa fa-plus\"></i> Insert reference form</a\n        >\n      </button>\n      <hr />\n      <h5 class=\"badge badge-primary\">Referenced Forms</h5>\n      <button\n        (click)=\"display(form)\"\n        mat-menu-item\n        *ngFor=\"let form of refFormsArray\"\n      >\n        {{ form.name }}\n      </button>\n    </div>\n  </mat-menu>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/reference-forms/reference-forms.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/form-editor/reference-forms/reference-forms.component.ts ***!
  \**************************************************************************/
/*! exports provided: ReferenceForms, ReferenceFormsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceForms", function() { return ReferenceForms; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceFormsComponent", function() { return ReferenceFormsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _modals_insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modals/insert-reference-form-modal/insert-reference-forms.modal */ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.ts");
/* harmony import */ var _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-all-forms.service */ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _modals_schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../modals/schema-editor.modal */ "./src/app/modals/schema-editor.modal.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);









var ReferenceForms = /** @class */ (function () {
    function ReferenceForms() {
        this.ref = {
            uuid: '',
            display: ''
        };
    }
    return ReferenceForms;
}());

var ReferenceFormsComponent = /** @class */ (function () {
    function ReferenceFormsComponent(fas, ds, ns, fs) {
        this.fas = fas;
        this.ds = ds;
        this.ns = ns;
        this.fs = fs;
        this.refForm = new ReferenceForms(); // the one being inserted
    }
    Object.defineProperty(ReferenceFormsComponent.prototype, "schema", {
        set: function (schema) {
            this._schema = lodash__WEBPACK_IMPORTED_MODULE_8__["cloneDeep"](schema);
        },
        enumerable: true,
        configurable: true
    });
    ReferenceFormsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.fas
            .fetchAllComponentForms()
            .subscribe(function (res) { return (_this.componentForms = res.results); });
        this.ns
            .getRawSchema()
            .subscribe(function (res) { return (_this._rawSchema = lodash__WEBPACK_IMPORTED_MODULE_8__["cloneDeep"](res)); });
        this.fs.getReferencedFormsSchemasArray().subscribe(function (res) {
            if (res.length > 0) {
                _this.refFormsArray = res;
            }
            else {
                _this.refFormsArray = [];
            }
        });
    };
    ReferenceFormsComponent.prototype.insertRefForm = function () {
        var _this = this;
        this.ds
            .addDialog(_modals_insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_2__["InsertReferenceComponent"], { forms: this.componentForms }, { backdropColor: 'rgba(0, 0, 0, 0.5)' })
            .subscribe(function (selectedForms) {
            if (selectedForms) {
                _this.refForm.formName = selectedForms['form'].substring(selectedForms['form'].indexOf(' ') + 1);
                _this.refForm.alias = selectedForms['alias'];
                _this.refForm.ref['display'] = selectedForms['display'];
                _this.refForm.ref['uuid'] = selectedForms['form'].substring(0, selectedForms['form'].indexOf(' '));
                _this.addReferenceForm(_this.refForm);
            }
        });
    };
    ReferenceFormsComponent.prototype.addReferenceForm = function (refForm) {
        var _this = this;
        if (this._schema.referencedForms) {
            this._schema.referencedForms.push(refForm);
            this._rawSchema.referencedForms.push(refForm);
            this.fs.setReferencedFormsDetails(this._schema.referencedForms);
        }
        else {
            var newOrderedSchema = {};
            newOrderedSchema['name'] = this._schema.name;
            newOrderedSchema['uuid'] = this._schema.uuid;
            newOrderedSchema['processor'] = this._schema.processor;
            newOrderedSchema['referencedForms'] = [refForm];
            newOrderedSchema['pages'] = this._schema.pages;
            this._schema = newOrderedSchema;
            newOrderedSchema['name'] = this._rawSchema.name;
            newOrderedSchema['uuid'] = this._rawSchema.uuid;
            newOrderedSchema['processor'] = this._rawSchema.processor;
            newOrderedSchema['referencedForms'] = [refForm];
            newOrderedSchema['pages'] = this._rawSchema.pages;
            this._rawSchema = newOrderedSchema;
            this.fs.setReferencedFormsDetails(newOrderedSchema['referencedForms']);
        }
        this.fs.fetchReferencedFormSchemas([refForm]).then(function (res) {
            _this.refFormsArray.push(res[0]);
            _this.fs.setReferencedFormsSchemasArray(_this.refFormsArray);
            _this.ns.setSchema(_this._schema);
            _this.ns.setRawSchema(_this._rawSchema);
        });
    };
    ReferenceFormsComponent.prototype.display = function (form) {
        var strForm = JSON.stringify(form, null, '\t');
        this.ds.addDialog(_modals_schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__["SchemaModalComponent"], { schema: strForm, title: 'Form' }, { backdropColor: 'rgba(0,0,0,0.5)' });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], ReferenceFormsComponent.prototype, "schema", null);
    ReferenceFormsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-reference-forms',
            template: __webpack_require__(/*! ./reference-forms.component.html */ "./src/app/form-editor/reference-forms/reference-forms.component.html"),
            styles: [__webpack_require__(/*! ./reference-forms.component.css */ "./src/app/form-editor/reference-forms/reference-forms.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_3__["FetchAllFormsService"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_4__["DialogService"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_5__["NavigatorService"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_6__["FetchFormDetailService"]])
    ], ReferenceFormsComponent);
    return ReferenceFormsComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/schema-editor/schema-editor.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/form-editor/schema-editor/schema-editor.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "a {\n  cursor: pointer;\n  margin: 5px;\n}\na:hover {\n  color: #01a9ff;\n}\na > i.material-icons.yellow {\n  color: #ffa500 !important;\n}\n.material-icons:hover {\n  color: #5cb85c;\n}\n.btn-primary {\n  padding: 10px;\n  margin-bottom: 10px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3Ivc2NoZW1hLWVkaXRvci9zY2hlbWEtZWRpdG9yLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7QUFFQTtFQUNFLGNBQWM7QUFDaEI7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9mb3JtLWVkaXRvci9zY2hlbWEtZWRpdG9yL3NjaGVtYS1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImEge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbjogNXB4O1xufVxuYTpob3ZlciB7XG4gIGNvbG9yOiAjMDFhOWZmO1xufVxuYSA+IGkubWF0ZXJpYWwtaWNvbnMueWVsbG93IHtcbiAgY29sb3I6ICNmZmE1MDAgIWltcG9ydGFudDtcbn1cblxuLm1hdGVyaWFsLWljb25zOmhvdmVyIHtcbiAgY29sb3I6ICM1Y2I4NWM7XG59XG5cbi5idG4tcHJpbWFyeSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/schema-editor/schema-editor.component.html":
/*!************************************************************************!*\
  !*** ./src/app/form-editor/schema-editor/schema-editor.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"background: #ebebeb; padding-top: 5px\">\n  <div style=\"clear: both\" id=\"label\" class=\"text-center\">\n    <div style=\"display: inline-block; float: right\" *ngIf=\"_schema\">\n      <label class=\"badge\"\n        ><b>{{ badge }}</b></label\n      >\n      <a\n        data-toggle=\"tooltip\"\n        title=\"View Full Schema\"\n        (click)=\"viewFullSchema()\"\n        ><i class=\"material-icons\">code</i></a\n      >\n      <a data-toggle=\"tooltip\" [title]=\"tooltip\"\n        ><i\n          class=\"material-icons\"\n          (click)=\"toggleEditor()\"\n          [class.yellow]=\"viewingUncompiled\"\n          >visibility</i\n        ></a\n      >\n      <a\n        data-toggle=\"tooltip\"\n        title=\"Copy\"\n        (click)=\"showSnackbar()\"\n        ngxClipboard\n        [cbContent]=\"editor.getEditor().getValue()\"\n        ><i class=\"material-icons\">content_copy</i></a\n      >\n    </div>\n  </div>\n\n  <div style=\"clear: both\">\n    <ace-editor\n      #editor\n      (textChanged)=\"onTextChanged($event)\"\n      style=\"height: 70vh; width: 100%; overflow: auto\"\n    ></ace-editor\n    ><br />\n    <div class=\"row\">\n      <div class=\"text-center container\" *ngIf=\"viewingUncompiled\">\n        <div class=\"alert alert-danger\" *ngIf=\"errorMessage\">\n          <small\n            ><b>{{ errorMessage }}</b></small\n          >\n        </div>\n        <button\n          (click)=\"render()\"\n          *ngIf=\"buildSchemaMode && parsedRawSchema && parsedRawSchema.name !== undefined\"\n          class=\"btn btn-primary\"\n          data-toggle=\"tooltip\"\n          title=\"Update and render the schema\"\n        >\n          Render\n        </button>\n        <button\n          (click)=\"reCompile()\"\n          *ngIf=\"correctSchemaMode\"\n          class=\"btn btn-success\"\n          data-toggle=\"tooltip\"\n          title=\"Fix errors\"\n        >\n          Compile\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/schema-editor/schema-editor.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/form-editor/schema-editor/schema-editor.component.ts ***!
  \**********************************************************************/
/*! exports provided: SchemaEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchemaEditorComponent", function() { return SchemaEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/schema-compiler.service */ "./src/app/Services/schema-compiler.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var brace_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! brace/index */ "./node_modules/brace/index.js");
/* harmony import */ var brace_index__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(brace_index__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var brace_mode_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! brace/mode/json */ "./node_modules/brace/mode/json.js");
/* harmony import */ var brace_mode_json__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(brace_mode_json__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var brace_theme_chrome__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! brace/theme/chrome */ "./node_modules/brace/theme/chrome.js");
/* harmony import */ var brace_theme_chrome__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(brace_theme_chrome__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var brace_theme_cobalt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! brace/theme/cobalt */ "./node_modules/brace/theme/cobalt.js");
/* harmony import */ var brace_theme_cobalt__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(brace_theme_cobalt__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! brace/ext/searchbox */ "./node_modules/brace/ext/searchbox.js");
/* harmony import */ var brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_11__);












var SchemaEditorComponent = /** @class */ (function () {
    function SchemaEditorComponent(ns, snackbar, fsc, fs) {
        this.ns = ns;
        this.snackbar = snackbar;
        this.fsc = fsc;
        this.fs = fs;
        this.correctedSchemaErrors = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.badge = 'Compiled';
        this.viewingUncompiled = false;
        this.tooltip = 'View Raw';
        this.buildSchemaMode = true;
        this.correctSchemaMode = false;
    }
    Object.defineProperty(SchemaEditorComponent.prototype, "schema", {
        set: function (newSchema) {
            this._schema = JSON.stringify(newSchema, null, '\t');
            this.viewingUncompiled = true;
            this.editor.viewingCompiled = false;
            this.tooltip = 'View Compiled';
            this.badge = 'Raw';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "rawSchema", {
        set: function (schema) {
            // console.log('set');
            // this.editor.setText("Updating...");
            // setTimeout(() => {
            //   this._rawSchema = JSON.stringify(schema, null, '\t');
            //   this.editor.setText(this._rawSchema);
            //   this.editor.getEditor().scrollToLine(0);
            //   this.viewingUncompiled = true;
            //   this.editor.viewingCompiled = false;
            //   this.tooltip = 'View Compiled';
            //   this.badge = 'Raw';
            // }, 1500);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "selectedRawSchema", {
        set: function (schema) { },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "strRawSchema", {
        set: function (schema) {
            this._rawSchema = schema;
            this.parsedRawSchema = JSON.parse(schema);
            this.editor.setText(this._rawSchema);
            this.editor.getEditor().scrollToLine(0);
            this.viewingUncompiled = true;
            this.editor.viewingCompiled = false;
            this.tooltip = 'View Compiled';
            this.badge = 'Raw';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "strSchema", {
        set: function (schema) {
            this._schema = schema;
            this.editor.getEditor().scrollToLine(0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "selectedSchema", {
        set: function (newSchema) {
            this._selectedSchemaObj = newSchema;
            if (this._selectedSchemaObj.pages) {
                this._formSchema = this._selectedSchemaObj;
            }
            if (this._selectedSchemaObj.hasOwnProperty('selectedSchema')) {
                this.pageIndex = this._selectedSchemaObj['pageIndex'];
                this.sectionIndex = this._selectedSchemaObj['sectionIndex'];
                this.questionIndex = this._selectedSchemaObj['questionIndex'];
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "$formSchema", {
        set: function (schema) {
            this._formSchema = schema;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "correctionMode", {
        set: function (mode) {
            this.correctSchemaMode = true;
            this.buildSchemaMode = false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SchemaEditorComponent.prototype, "_errorMessage", {
        set: function (message) {
            this.errorMessage = message;
        },
        enumerable: true,
        configurable: true
    });
    SchemaEditorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.fs
            .getReferencedFormsSchemasArray()
            .subscribe(function (refFormArray) { return (_this.referencedForms = refFormArray); });
        this.editor.getEditor().setOptions({
            printMargin: false
        });
        this.editor.setTheme('chrome');
        this.editor.setMode('json');
        this.editor.getEditor().setFontSize(16);
        this.ns.getRawSchema().subscribe(function (schema) {
            if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isEmpty"](schema) && !_this.correctSchemaMode) {
                _this.editor.setText('Updating...');
                setTimeout(function () {
                    _this.parsedRawSchema = schema;
                    _this._rawSchema = JSON.stringify(schema, null, '\t');
                    _this.editor.setText(_this._rawSchema);
                    _this.editor.getEditor().scrollToLine(0);
                    _this.viewingUncompiled = true;
                    _this.editor.viewingCompiled = false;
                    _this.tooltip = 'View Compiled';
                    _this.badge = 'Raw';
                }, 1000);
            }
        });
        setTimeout(function () {
            var editedSchema = JSON.parse(_this.editor.getEditor().getValue());
            if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isEqual"](editedSchema, _this._rawSchema) &&
                _this._rawSchema['name']) {
                _this.render();
            }
        }, 1000 * 180); // save schema every 3 minutes
    };
    // render button
    SchemaEditorComponent.prototype.render = function () {
        var editedSchema = this.editor.getEditor().getValue();
        var rawSchema = lodash__WEBPACK_IMPORTED_MODULE_6__["cloneDeep"](editedSchema);
        var compiledSchema;
        try {
            compiledSchema = this.fsc.compileFormSchema(JSON.parse(editedSchema), this.referencedForms);
        }
        catch (e) {
            compiledSchema = e;
            this.errorMessage = 'Invalid JSON schema. ' + e;
        }
        var schema = JSON.parse(JSON.stringify(compiledSchema));
        if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isEmpty"](schema)) {
            this.errorMessage = undefined;
            if (this.correctSchemaMode) {
                this.correctedSchemaErrors.emit(true);
            }
            this.ns.setSchema(compiledSchema);
            this.ns.setRawSchema(JSON.parse(rawSchema));
        }
    };
    SchemaEditorComponent.prototype.reCompile = function () {
        var _this = this;
        var editedSchema = this.editor.getEditor().getValue();
        var rawSchema = lodash__WEBPACK_IMPORTED_MODULE_6__["cloneDeep"](editedSchema);
        var referencedForms = JSON.parse(rawSchema).referencedForms;
        this.fs.fetchReferencedFormSchemas(referencedForms).then(function (refForms) {
            var compiledSchema;
            try {
                compiledSchema = _this.fsc.compileFormSchema(JSON.parse(editedSchema), refForms);
            }
            catch (e) {
                compiledSchema = e;
                _this.errorMessage = 'Invalid JSON schema. ' + e;
            }
            var schema = JSON.parse(JSON.stringify(compiledSchema));
            if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isEmpty"](schema)) {
                _this.errorMessage = undefined;
                if (_this.correctSchemaMode) {
                    _this.correctedSchemaErrors.emit(true);
                }
                _this.ns.setSchema(compiledSchema);
                _this.ns.setRawSchema(JSON.parse(rawSchema));
            }
        });
    };
    SchemaEditorComponent.prototype.showSnackbar = function () {
        this.snackbar.open('Copied to clipboard', '', { duration: 1200 });
    };
    SchemaEditorComponent.prototype.ngOnDestroy = function () { };
    SchemaEditorComponent.prototype.toggleEditor = function () {
        this.viewingUncompiled === false
            ? (this.viewingUncompiled = true)
            : (this.viewingUncompiled = false);
        if (this.viewingUncompiled) {
            this.setRawTheme();
            this.editor.setText(this._rawSchema);
            this.editor.getEditor().scrollToLine(0);
        }
        else {
            this.setCompiledTheme();
            this.editor.setText(this._schema);
            this.editor.getEditor().scrollToLine(0);
        }
    };
    SchemaEditorComponent.prototype.setRawTheme = function () {
        this.badge = 'Raw';
        this.editor.setTheme('chrome');
        this.tooltip = 'View Compiled';
        this.editor.getEditor().setOptions({ readOnly: false });
    };
    SchemaEditorComponent.prototype.setCompiledTheme = function () {
        this.badge = 'Compiled';
        this.editor.setTheme('cobalt');
        this.editor.getEditor().setOptions({ readOnly: true });
        this.tooltip = 'View Raw';
    };
    SchemaEditorComponent.prototype.viewFullSchema = function () {
        var _this = this;
        var schema = JSON.parse(this._schema);
        var line = this.findCurrentLineNumbers(this.editor.getEditor(), schema.label);
        this.editor.getEditor().scrollToLine(line[0]);
        this._schema = JSON.stringify(this._formSchema, null, '\t');
        this.ns.getRawSchema().subscribe(function (rawSchema) {
            _this.parsedRawSchema = rawSchema;
            _this._rawSchema = JSON.stringify(rawSchema, null, '\t');
            _this.editor.getEditor().setOptions({ readOnly: true });
        });
        if (this.viewingUncompiled) {
            this.setRawTheme();
            this.editor.setText(this._rawSchema);
            this.editor.getEditor().scrollToLine(0);
        }
        else {
            this.setCompiledTheme();
            this.editor.setText(this._schema);
            this.editor.getEditor().scrollToLine(0);
        }
    };
    SchemaEditorComponent.prototype.findCurrentLineNumbers = function (editor, foo) {
        var lines = editor.session.doc.getAllLines();
        var fooLineNumbers = [];
        for (var i = 0; i < lines.length; i++) {
            if (lines[i].indexOf(foo) !== -1) {
                fooLineNumbers.push(i);
            }
        }
        return fooLineNumbers;
    };
    SchemaEditorComponent.prototype.onTextChanged = function (text) {
        if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isEmpty"](text) && !lodash__WEBPACK_IMPORTED_MODULE_6__["includes"](text, 'Updating...')) {
            try {
                this.parsedRawSchema = JSON.parse(text);
            }
            catch (e) {
                console.error('Invalid Json');
            }
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('editor'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SchemaEditorComponent.prototype, "editor", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], SchemaEditorComponent.prototype, "correctedSchemaErrors", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [String])
    ], SchemaEditorComponent.prototype, "schema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "rawSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "selectedRawSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "strRawSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "strSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "selectedSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "$formSchema", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "correctionMode", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SchemaEditorComponent.prototype, "_errorMessage", null);
    SchemaEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-schema-editor',
            template: __webpack_require__(/*! ./schema-editor.component.html */ "./src/app/form-editor/schema-editor/schema-editor.component.html"),
            providers: [_Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_4__["FormSchemaCompiler"]],
            styles: [__webpack_require__(/*! ./schema-editor.component.css */ "./src/app/form-editor/schema-editor/schema-editor.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_navigator_service__WEBPACK_IMPORTED_MODULE_2__["NavigatorService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSnackBar"],
            _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_4__["FormSchemaCompiler"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_5__["FetchFormDetailService"]])
    ], SchemaEditorComponent);
    return SchemaEditorComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/snackbar/notification-toast.ts":
/*!************************************************************!*\
  !*** ./src/app/form-editor/snackbar/notification-toast.ts ***!
  \************************************************************/
/*! exports provided: NotificationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationComponent", function() { return NotificationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var NotificationComponent = /** @class */ (function () {
    function NotificationComponent(data) {
        this.data = data;
    }
    NotificationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-snackbar',
            template: '<span><i class="fa fa-spinner fa-spin"></i></span>{{ data }}'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_SNACK_BAR_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], NotificationComponent);
    return NotificationComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/snackbar/saved-snackbar.ts":
/*!********************************************************!*\
  !*** ./src/app/form-editor/snackbar/saved-snackbar.ts ***!
  \********************************************************/
/*! exports provided: SaveSnackbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveSnackbarComponent", function() { return SaveSnackbarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var SaveSnackbarComponent = /** @class */ (function () {
    function SaveSnackbarComponent() {
    }
    SaveSnackbarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'snackbar',
            template: "<div class=\"text-center\">\n    <span style=\"color:green\"><i class=\"fa fa-check-circle fa-2x\"></i></span>\n    <h5 style=\"color:white\">Schema Saved Succesfully!</h5>\n  </div>"
        })
    ], SaveSnackbarComponent);
    return SaveSnackbarComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/snackbar/snackbar.component.ts":
/*!************************************************************!*\
  !*** ./src/app/form-editor/snackbar/snackbar.component.ts ***!
  \************************************************************/
/*! exports provided: SnackbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnackbarComponent", function() { return SnackbarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var SnackbarComponent = /** @class */ (function () {
    function SnackbarComponent(data) {
        this.data = data;
    }
    SnackbarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'snackbar',
            template: "<div class=\"text-center\">\n    <span style=\"color:green\"><i class=\"fa fa-check-circle fa-2x\"></i></span>\n    <h5 style=\"color:white\">{{ data }}</h5>\n  </div>"
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_SNACK_BAR_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], SnackbarComponent);
    return SnackbarComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".fill-space {\n  flex: 1 1 auto;\n}\n\n.progressbar {\n  margin: 50px;\n}\n\nspan {\n  display: inline-block;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvdXBkYXRlLWZvcm1zLXdpemFyZC91cGRhdGUtZm9ybXMtd2l6YXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvZm9ybS1lZGl0b3IvdXBkYXRlLWZvcm1zLXdpemFyZC91cGRhdGUtZm9ybXMtd2l6YXJkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmlsbC1zcGFjZSB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufVxuXG4ucHJvZ3Jlc3NiYXIge1xuICBtYXJnaW46IDUwcHg7XG59XG5cbnNwYW4ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"loading\" class=\"text-center progressbar\">\n  <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n</div>\n\n<mat-toolbar color=\"primary\" *ngIf=\"!loading\">\n  <p>{{ currentSchemaMetadata.name }}</p>\n\n  <span class=\"fill-space\"></span>\n  <div>\n    <span *ngIf=\"currentRawSchema\">\n      <form #form=\"ngForm\">\n        <div class=\"form-group\">\n          <input\n            type=\"number\"\n            class=\"form-control\"\n            placeholder=\"new version\"\n            name=\"version\"\n            ngModel\n            required\n          />\n        </div>\n      </form>\n    </span>\n\n    <span>\n      <button\n        class=\"btn btn-info\"\n        *ngIf=\"currentNode.previous\"\n        (click)=\"fetchPreviousSchema()\"\n      >\n        Previous\n        <i class=\"fa fa-arrow-left\"></i>\n      </button>\n      <button\n        class=\"btn btn-info\"\n        *ngIf=\"currentNode.next\"\n        (click)=\"fetchNextSchema(form?.value.version)\"\n        [disabled]=\"form && !form?.valid\"\n      >\n        Next\n        <i class=\"fa fa-arrow-right\"></i>\n      </button>\n\n      <button\n        class=\"btn btn-success\"\n        *ngIf=\"!currentNode.next\"\n        (click)=\"done(form?.value.version)\"\n        [disabled]=\"form && !form?.valid\"\n      >\n        Finish\n        <i class=\"fa fa-check\"></i>\n      </button>\n    </span>\n  </div>\n</mat-toolbar>\n<div class=\"container\">\n  <div class=\"alert alert-danger\" *ngIf=\"errorMessage\">\n    <span><i class=\"fa fa-exclamation-circle\"></i> {{ errorMessage }}</span>\n  </div>\n</div>\n\n<div *ngIf=\"currentRawSchema\">\n  <h5 class=\"alert alert-success\">\n    <b\n      >The following are sections that reference the new component. Please\n      customize or click next.</b\n    >\n  </h5>\n\n  <app-navigator\n    [_schema]=\"currentCompiledSchema\"\n    [formSchema]=\"currentCompiledSchema\"\n    [mode]=\"'update'\"\n    [componentToHighlight]=\"oldComponentMetadata\"\n  ></app-navigator>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.ts ***!
  \**********************************************************************************/
/*! exports provided: UpdateFormsWizardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateFormsWizardComponent", function() { return UpdateFormsWizardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_update_component_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Services/update-component.service */ "./src/app/Services/update-component.service.ts");
/* harmony import */ var _Services_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Services/navigator.service */ "./src/app/Services/navigator.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/schema-compiler.service */ "./src/app/Services/schema-compiler.service.ts");
/* harmony import */ var _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/openmrs-api/save-form.service */ "./src/app/Services/openmrs-api/save-form.service.ts");
/* harmony import */ var _collections_linked_list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../collections/linked-list */ "./src/app/collections/linked-list.ts");
/* harmony import */ var _Services_form_list_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Services/form-list.service */ "./src/app/Services/form-list.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);












var UpdateFormsWizardComponent = /** @class */ (function () {
    function UpdateFormsWizardComponent(updateComponentService, saveFormService, snackbar, fetchFormDetailService, ns, compiler, formListService, route) {
        this.updateComponentService = updateComponentService;
        this.saveFormService = saveFormService;
        this.snackbar = snackbar;
        this.fetchFormDetailService = fetchFormDetailService;
        this.ns = ns;
        this.formListService = formListService;
        this.route = route;
        this.schemaMetadatas = [];
        this.list = new _collections_linked_list__WEBPACK_IMPORTED_MODULE_7__["LinkedList"]();
        this.finished = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    Object.defineProperty(UpdateFormsWizardComponent.prototype, "_newComponentMetadata", {
        set: function (data) {
            this.componentMetadata = data;
        } // for the new component form
        ,
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UpdateFormsWizardComponent.prototype, "_selectedForms", {
        set: function (data) {
            this.schemaMetadatas = data;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UpdateFormsWizardComponent.prototype, "_oldComponentMetadata", {
        set: function (data) {
            this.oldComponentUUID = data;
        },
        enumerable: true,
        configurable: true
    });
    UpdateFormsWizardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.ns.getRawSchema().subscribe(function (rawSchema) {
            if (!lodash__WEBPACK_IMPORTED_MODULE_11__["isEmpty"](rawSchema)) {
                _this.currentRawSchema = rawSchema;
            }
        });
        lodash__WEBPACK_IMPORTED_MODULE_11__["forEach"](this.schemaMetadatas, function (formMetadata) {
            _this.list.append(formMetadata);
        });
        this.head = this.list.head;
        this.currentNode = this.list.head;
        this.fetchSchema(this.head);
    };
    UpdateFormsWizardComponent.prototype.fetchSchema = function (node) {
        var _this = this;
        this.currentRawSchema = undefined;
        this.errorMessage = undefined;
        this.loading = true;
        this.fetchFormDetailService
            .fetchForm(node.formMetadata.resources[0].valueReference, false)
            .then(function (compiledSchema) {
            _this.loading = true;
            _this.fetchFormDetailService
                .fetchForm(node.formMetadata.resources[0].valueReference, true)
                .then(function (rawSchema) {
                _this.currentSchemaMetadata = node.formMetadata;
                _this.replaceOldComponent(rawSchema, _this.oldComponentUUID, _this.componentMetadata);
                _this.currentCompiledSchema = compiledSchema;
            })
                .catch(function (error) {
                console.log(error);
                _this.loading = false;
                _this.displayErrorMessage();
            });
        });
    };
    UpdateFormsWizardComponent.prototype.fetchNextSchema = function (newVersion) {
        this.errorMessage = undefined;
        if (newVersion) {
            this.saveForm(this.currentRawSchema, this.currentNode.formMetadata, newVersion);
        }
        this.currentNode = this.currentNode.next;
        this.fetchSchema(this.currentNode);
    };
    UpdateFormsWizardComponent.prototype.fetchPreviousSchema = function () {
        this.currentNode = this.currentNode.previous;
        this.fetchSchema(this.currentNode);
    };
    UpdateFormsWizardComponent.prototype.replaceOldComponent = function (schema, oldComponentUUID, newComponentMetadata) {
        var _this = this;
        lodash__WEBPACK_IMPORTED_MODULE_11__["each"](schema.referencedForms, function (refForm) {
            if (refForm.ref.uuid === oldComponentUUID) {
                refForm.ref.uuid = newComponentMetadata.uuid;
                refForm.formName = newComponentMetadata.name;
            }
        });
        this.fetchFormDetailService.setReferencedFormsDetails(schema.referencedForms);
        this.fetchFormDetailService
            .fetchReferencedFormSchemas(schema.referencedForms)
            .then(function (schemas) {
            _this.fetchFormDetailService.setReferencedFormsSchemasArray(schemas);
            _this.currentRawSchema = schema;
            _this.ns.setRawSchema(_this.currentRawSchema);
        })
            .catch(function (error) {
            _this.loading = false;
            _this.displayErrorMessage();
            console.log(error);
        });
    };
    UpdateFormsWizardComponent.prototype.saveForm = function (schema, metadata, newVersion) {
        var _this = this;
        var strNewVersion = newVersion.toString();
        var form = metadata;
        var newName = this.formListService.removeVersionInformation(form.name);
        newName = newName + ' v' + newVersion;
        this.saveFormService.uploadSchema(schema).subscribe(function (valueReference) {
            _this.saveFormService
                .saveNewForm(newName, strNewVersion, false, form.description)
                .subscribe(function (createdForm) {
                var parsedRes = JSON.parse(createdForm._body);
                _this.saveFormService
                    .getResourceUUID(parsedRes.uuid, valueReference)
                    .subscribe(function (resourceUUID) { return _this.showDoneSnackBar(newName); });
            });
        });
    };
    UpdateFormsWizardComponent.prototype.showDoneSnackBar = function (name) {
        this.snackbar.open('Updated ' + name, '', {
            duration: 1200
        });
    };
    UpdateFormsWizardComponent.prototype.done = function (newVersion) {
        var _this = this;
        this.ns.getRawSchema().subscribe(function (rawSchema) {
            _this.saveForm(rawSchema, _this.currentNode.formMetadata, newVersion);
            _this.finished.emit(true);
        });
    };
    UpdateFormsWizardComponent.prototype.displayErrorMessage = function () {
        this.errorMessage =
            ' This form is broken. Click next to move to the next form. ';
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], UpdateFormsWizardComponent.prototype, "_newComponentMetadata", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], UpdateFormsWizardComponent.prototype, "_selectedForms", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], UpdateFormsWizardComponent.prototype, "_oldComponentMetadata", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], UpdateFormsWizardComponent.prototype, "finished", void 0);
    UpdateFormsWizardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-update-forms-wizard',
            template: __webpack_require__(/*! ./update-forms-wizard.component.html */ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.html"),
            styles: [__webpack_require__(/*! ./update-forms-wizard.component.css */ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_update_component_service__WEBPACK_IMPORTED_MODULE_2__["UpdateComponentService"],
            _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_6__["SaveFormService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_9__["MatSnackBar"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"],
            _Services_navigator_service__WEBPACK_IMPORTED_MODULE_3__["NavigatorService"],
            _Services_schema_compiler_service__WEBPACK_IMPORTED_MODULE_5__["FormSchemaCompiler"],
            _Services_form_list_service__WEBPACK_IMPORTED_MODULE_8__["FormListService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"]])
    ], UpdateFormsWizardComponent);
    return UpdateFormsWizardComponent;
}());



/***/ }),

/***/ "./src/app/form-editor/update-forms/update-forms.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/form-editor/update-forms/update-forms.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".conatiner {\n  padding-top: 20px;\n}\n\nth {\n  color: #fff;\n  background-color: #3f51b5;\n  border-color: #808080;\n}\n\nmat-card {\n  color: #3c763d;\n  background-color: #dff0d8;\n  border-color: #d6e9c6;\n}\n\ntable {\n  background-color: #fff;\n  box-shadow: 0px 2px 2px #aaa;\n  border-color: lightgray;\n}\n\n.flex {\n  flex: 1 1 auto;\n}\n\n.version-input {\n  width: 30%;\n}\n\n.name {\n  font-family: 'Roboto';\n  color: #fff;\n  font-size: 16px;\n}\n\n.well {\n  height: 85vh;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9ybS1lZGl0b3IvdXBkYXRlLWZvcm1zL3VwZGF0ZS1mb3Jtcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QseUJBQXlCO0VBQ3pCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0Qiw0QkFBNEI7RUFDNUIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsZUFBZTtBQUNqQjs7QUFDQTtFQUNFLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZWRpdG9yL3VwZGF0ZS1mb3Jtcy91cGRhdGUtZm9ybXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb25hdGluZXIge1xuICBwYWRkaW5nLXRvcDogMjBweDtcbn1cblxudGgge1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNmNTFiNTtcbiAgYm9yZGVyLWNvbG9yOiAjODA4MDgwO1xufVxuXG5tYXQtY2FyZCB7XG4gIGNvbG9yOiAjM2M3NjNkO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZmMGQ4O1xuICBib3JkZXItY29sb3I6ICNkNmU5YzY7XG59XG5cbnRhYmxlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm94LXNoYWRvdzogMHB4IDJweCAycHggI2FhYTtcbiAgYm9yZGVyLWNvbG9yOiBsaWdodGdyYXk7XG59XG5cbi5mbGV4IHtcbiAgZmxleDogMSAxIGF1dG87XG59XG5cbi52ZXJzaW9uLWlucHV0IHtcbiAgd2lkdGg6IDMwJTtcbn1cblxuLm5hbWUge1xuICBmb250LWZhbWlseTogJ1JvYm90byc7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXNpemU6IDE2cHg7XG59XG4ud2VsbCB7XG4gIGhlaWdodDogODV2aDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/form-editor/update-forms/update-forms.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/form-editor/update-forms/update-forms.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\n  <span class=\"menu\">Update Forms</span>\n  <span class=\"flex\"></span>\n  <button\n    class=\"btn btn-success\"\n    (click)=\"updateForms()\"\n    [disabled]=\"selectedForms.length == 0\"\n  >\n    Update Selected Forms\n    <i class=\"fa fa-arrow-right\"></i>\n  </button>\n</mat-toolbar>\n<div class=\"well\">\n  <div *ngIf=\"oldComponentMetadata && viewAlert\">\n    <mat-card class=\"fade in\">\n      <p>\n        <b\n          >{{ oldComponentMetadata.name }} has been successfully updated! The\n          forms below reference the component. Please preview and update each\n          form.</b\n        >\n      </p>\n    </mat-card>\n  </div>\n  <div class=\"panel-body\" *ngIf=\"oldComponentMetadata\">\n    <table\n      class=\"table table-striped table-bordered table-hover table-responsive table-list\"\n    >\n      <thead>\n        <tr>\n          <th width=\"15%\">Form</th>\n          <th width=\"15%\">Version</th>\n          <th width=\"15%\">Component</th>\n          <th width=\"15%\">Published</th>\n          <th width=\"15%\">Update</th>\n        </tr>\n      </thead>\n      <tbody *ngIf=\"formsReferencingThisComponent.length > 0\">\n        <tr *ngFor=\"let form of formsReferencingThisComponent; let i = index\">\n          <td class=\"formName\">\n            <b>{{ form.metadata.name }}</b>\n          </td>\n          <td>{{ form.metadata.version }}</td>\n          <td>{{ oldComponentMetadata.name }}</td>\n          <td>\n            <label\n              [ngClass]=\"{\n                label: true,\n                'label-danger': !form.metadata.published,\n                'label-success': form.metadata.published\n              }\"\n              >{{ form.metadata.published }}</label\n            >\n          </td>\n          <td>\n            <div class=\"form-group\">\n              <input\n                type=\"checkbox\"\n                (change)=\"onChange(form.metadata, $event.target.checked)\"\n              />\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/form-editor/update-forms/update-forms.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/form-editor/update-forms/update-forms.component.ts ***!
  \********************************************************************/
/*! exports provided: UpdateFormsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateFormsComponent", function() { return UpdateFormsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-all-forms.service */ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/storage/local-storage.service */ "./src/app/Services/storage/local-storage.service.ts");
/* harmony import */ var _Services_update_component_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Services/update-component.service */ "./src/app/Services/update-component.service.ts");
/* harmony import */ var _Services_form_list_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Services/form-list.service */ "./src/app/Services/form-list.service.ts");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _modals_update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../modals/update-forms-wizard-modal/update-forms-wizard-modal.component */ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__);











var UpdateFormsComponent = /** @class */ (function () {
    function UpdateFormsComponent(fa, route, fd, ls, formListService, router, updateComponentService, dialogService) {
        this.fa = fa;
        this.route = route;
        this.fd = fd;
        this.ls = ls;
        this.formListService = formListService;
        this.router = router;
        this.updateComponentService = updateComponentService;
        this.dialogService = dialogService;
        this.formSchemas = [];
        this.formsReferencingThisComponent = [];
        this.viewAlert = true;
        this.selectedForms = [];
    }
    UpdateFormsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.fa.getPOCFormSchemas().subscribe(function (res) {
            _this.formSchemas = res;
        });
        this.subscription = this.route.params.subscribe(function (params) {
            _this.oldComponentUUID = params['oldUuid'];
            _this.newComponentUUID = params['newUuid'];
            var forms = [];
            var count = 0;
            _this.fd.fetchFormMetadata(_this.newComponentUUID, true).then(function (res) {
                _this.newComponentMetadata = res;
            });
            _this.fd.fetchFormMetadata(_this.oldComponentUUID, true).then(function (res) {
                _this.oldComponentMetadata = res;
            });
            _this.formSchemas.forEach(function (schema, index) {
                var checkSchema = _this.checkIfReferencesComponent(_this.oldComponentUUID, schema);
                if (!lodash__WEBPACK_IMPORTED_MODULE_10__["isEmpty"](checkSchema)) {
                    forms.push(checkSchema);
                }
                count = index;
            });
            if (count === _this.formSchemas.length - 1) {
                lodash__WEBPACK_IMPORTED_MODULE_10__["forEach"](forms, function (form) {
                    var name = _this.formListService.removeVersionInformation(form['metadata']['name']);
                    var versionsArr = [];
                    lodash__WEBPACK_IMPORTED_MODULE_10__["forEach"](forms, function ($form, index) {
                        if (lodash__WEBPACK_IMPORTED_MODULE_10__["includes"]($form['metadata']['name'], name)) {
                            versionsArr.push($form);
                        }
                        if (index === forms.length - 1) {
                            var highestVersion = versionsArr.reduce(function (a, b) {
                                return parseFloat(a['metadata']['version']) >
                                    parseFloat(b['metadata']['version'])
                                    ? a
                                    : b;
                            });
                            if (!lodash__WEBPACK_IMPORTED_MODULE_10__["includes"](_this.formsReferencingThisComponent, highestVersion)) {
                                _this.formsReferencingThisComponent.push(highestVersion);
                            }
                        }
                    });
                });
            }
        });
    };
    UpdateFormsComponent.prototype.checkIfReferencesComponent = function (componentUUID, form) {
        var _schema = {};
        if (form['schema'].referencedForms) {
            if (!lodash__WEBPACK_IMPORTED_MODULE_10__["isEmpty"](form['schema'].referencedForms)) {
                lodash__WEBPACK_IMPORTED_MODULE_10__["forEach"](form['schema'].referencedForms, function (refForm) {
                    if (lodash__WEBPACK_IMPORTED_MODULE_10__["isEqual"](refForm.ref.uuid, componentUUID)) {
                        _schema = form;
                    }
                });
            }
        }
        return _schema;
    };
    UpdateFormsComponent.prototype.updateForms = function () {
        var _this = this;
        this.dialogService
            .addDialog(_modals_update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_9__["UpdateFormsWizardModalComponent"], {
            componentMetadata: this.newComponentMetadata,
            oldComponentUUID: this.oldComponentUUID,
            selectedForms: this.selectedForms
        }, { backdropColor: 'rgba(0,0,0,0.5)' })
            .subscribe(function (res) {
            if (res) {
                _this.router.navigate(['/forms']);
            }
        });
    };
    UpdateFormsComponent.prototype.onChange = function (form, checked) {
        if (checked) {
            this.selectedForms.push(form);
        }
        else {
            if (lodash__WEBPACK_IMPORTED_MODULE_10__["includes"](this.selectedForms, form)) {
                var index = lodash__WEBPACK_IMPORTED_MODULE_10__["indexOf"](this.selectedForms, form);
                this.selectedForms.splice(index, 1);
            }
        }
    };
    UpdateFormsComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
    };
    UpdateFormsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-update-forms',
            template: __webpack_require__(/*! ./update-forms.component.html */ "./src/app/form-editor/update-forms/update-forms.component.html"),
            styles: [__webpack_require__(/*! ./update-forms.component.css */ "./src/app/form-editor/update-forms/update-forms.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_2__["FetchAllFormsService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"],
            _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_5__["LocalStorageService"],
            _Services_form_list_service__WEBPACK_IMPORTED_MODULE_7__["FormListService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _Services_update_component_service__WEBPACK_IMPORTED_MODULE_6__["UpdateComponentService"],
            ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_8__["DialogService"]])
    ], UpdateFormsComponent);
    return UpdateFormsComponent;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/*!*******************************************!*\
  !*** ./src/app/login/login.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".message {\n  margin-top: 10px;\n}\n.spinner {\n  display: inline-block;\n}\n.container {\n  height: 90vh;\n}\n/*\n * Specific styles of signin component\n */\n/*\n * General styles\n */\nbody,\nhtml {\n  height: 100%;\n  background-repeat: no-repeat;\n  background-image: linear-gradient(rgb(104, 145, 162), rgb(12, 97, 33));\n}\n.card-container.card {\n  max-width: 350px;\n  padding: 40px 40px;\n}\n.btn {\n  font-weight: 700;\n  height: 36px;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  cursor: default;\n}\n.logo {\n  width: 250px;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 30px;\n}\n/*\n * Card component\n */\n.card {\n  background-color: white;\n  clear: both;\n  /* just in case there no content*/\n  padding: 20px 25px 30px;\n  margin: 0 auto 25px;\n  margin-top: 50px;\n  /* shadows and rounded borders */\n  border-radius: 2px;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n}\n.form-signin #inputEmail,\n.form-signin #inputPassword {\n  direction: ltr;\n  height: 44px;\n  font-size: 16px;\n}\n.form-signin input[type='email'],\n.form-signin input[type='password'],\n.form-signin input[type='text'] {\n  width: 100%;\n  display: block;\n  margin-bottom: 10px;\n  z-index: 1;\n  position: relative;\n  box-sizing: border-box;\n}\n.form-signin .form-control:focus {\n  border-color: rgb(104, 145, 162);\n  outline: 0;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgb(104, 145, 162);\n}\n.btn.btn-signin {\n  /*background-color: #4d90fe; */\n\n  /* background-color: linear-gradient(rgb(104, 145, 162), rgb(12, 97, 33));*/\n  padding: 0px;\n  font-weight: 700;\n  font-size: 16px;\n  height: 40px;\n  border-radius: 5px;\n  border: none;\n  transition: all 0.218s;\n  width: 50%;\n  margin: auto;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxZQUFZO0FBQ2Q7QUFFQTs7RUFFRTtBQUNGOztFQUVFO0FBQ0Y7O0VBRUUsWUFBWTtFQUNaLDRCQUE0QjtFQUM1QixzRUFBc0U7QUFDeEU7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLHlCQUF5QjtFQUN6QixxQkFBaUI7TUFBakIsaUJBQWlCO0VBQ2pCLGVBQWU7QUFDakI7QUFDQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUVBOztFQUVFO0FBQ0Y7RUFDRSx1QkFBdUI7RUFDdkIsV0FBVztFQUNYLGlDQUFpQztFQUNqQyx1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixnQ0FBZ0M7RUFHaEMsa0JBQWtCO0VBR2xCLDBDQUEwQztBQUM1QztBQUVBOztFQUVFLGNBQWM7RUFDZCxZQUFZO0VBQ1osZUFBZTtBQUNqQjtBQUVBOzs7RUFHRSxXQUFXO0VBQ1gsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixVQUFVO0VBQ1Ysa0JBQWtCO0VBR2xCLHNCQUFzQjtBQUN4QjtBQUVBO0VBQ0UsZ0NBQWdDO0VBQ2hDLFVBQVU7RUFHViw0RUFBNEU7QUFDOUU7QUFFQTtFQUNFLDhCQUE4Qjs7RUFFOUIsMkVBQTJFO0VBQzNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFlBQVk7RUFHWixrQkFBa0I7RUFDbEIsWUFBWTtFQUlaLHNCQUFzQjtFQUN0QixVQUFVO0VBQ1YsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZXNzYWdlIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbi5zcGlubmVyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuLmNvbnRhaW5lciB7XG4gIGhlaWdodDogOTB2aDtcbn1cblxuLypcbiAqIFNwZWNpZmljIHN0eWxlcyBvZiBzaWduaW4gY29tcG9uZW50XG4gKi9cbi8qXG4gKiBHZW5lcmFsIHN0eWxlc1xuICovXG5ib2R5LFxuaHRtbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHJnYigxMDQsIDE0NSwgMTYyKSwgcmdiKDEyLCA5NywgMzMpKTtcbn1cblxuLmNhcmQtY29udGFpbmVyLmNhcmQge1xuICBtYXgtd2lkdGg6IDM1MHB4O1xuICBwYWRkaW5nOiA0MHB4IDQwcHg7XG59XG5cbi5idG4ge1xuICBmb250LXdlaWdodDogNzAwO1xuICBoZWlnaHQ6IDM2cHg7XG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBjdXJzb3I6IGRlZmF1bHQ7XG59XG4ubG9nbyB7XG4gIHdpZHRoOiAyNTBweDtcbiAgcGFkZGluZzogMTBweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xufVxuXG4vKlxuICogQ2FyZCBjb21wb25lbnRcbiAqL1xuLmNhcmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgY2xlYXI6IGJvdGg7XG4gIC8qIGp1c3QgaW4gY2FzZSB0aGVyZSBubyBjb250ZW50Ki9cbiAgcGFkZGluZzogMjBweCAyNXB4IDMwcHg7XG4gIG1hcmdpbjogMCBhdXRvIDI1cHg7XG4gIG1hcmdpbi10b3A6IDUwcHg7XG4gIC8qIHNoYWRvd3MgYW5kIHJvdW5kZWQgYm9yZGVycyAqL1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICBib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG59XG5cbi5mb3JtLXNpZ25pbiAjaW5wdXRFbWFpbCxcbi5mb3JtLXNpZ25pbiAjaW5wdXRQYXNzd29yZCB7XG4gIGRpcmVjdGlvbjogbHRyO1xuICBoZWlnaHQ6IDQ0cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLmZvcm0tc2lnbmluIGlucHV0W3R5cGU9J2VtYWlsJ10sXG4uZm9ybS1zaWduaW4gaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSxcbi5mb3JtLXNpZ25pbiBpbnB1dFt0eXBlPSd0ZXh0J10ge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIHotaW5kZXg6IDE7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5mb3JtLXNpZ25pbiAuZm9ybS1jb250cm9sOmZvY3VzIHtcbiAgYm9yZGVyLWNvbG9yOiByZ2IoMTA0LCAxNDUsIDE2Mik7XG4gIG91dGxpbmU6IDA7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNzUpLFxuICAgIDAgMCA4cHggcmdiKDEwNCwgMTQ1LCAxNjIpO1xuICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjA3NSksIDAgMCA4cHggcmdiKDEwNCwgMTQ1LCAxNjIpO1xufVxuXG4uYnRuLmJ0bi1zaWduaW4ge1xuICAvKmJhY2tncm91bmQtY29sb3I6ICM0ZDkwZmU7ICovXG5cbiAgLyogYmFja2dyb3VuZC1jb2xvcjogbGluZWFyLWdyYWRpZW50KHJnYigxMDQsIDE0NSwgMTYyKSwgcmdiKDEyLCA5NywgMzMpKTsqL1xuICBwYWRkaW5nOiAwcHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyOiBub25lO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMC4yMThzO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjIxOHM7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuMjE4cztcbiAgdHJhbnNpdGlvbjogYWxsIDAuMjE4cztcbiAgd2lkdGg6IDUwJTtcbiAgbWFyZ2luOiBhdXRvO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n  <div\n    id=\"loginbox\"\n    style=\"margin-top: 50px\"\n    class=\"mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2\"\n  >\n    <mat-card class=\"card\">\n      <!-- <div class=\"panel-heading\">\n                    <div class=\"panel-title\">Log In</div>\n                    \n                </div>      -->\n\n      <div style=\"padding-top: 30px\" class=\"\">\n        <div class=\"logo\">\n          <img class=\"img-responsive\" src=\"./assets/ampath-logo.png\" />\n        </div>\n\n        <form\n          #loginForm=\"ngForm\"\n          (ngSubmit)=\"login(loginForm.value)\"\n          class=\"form-signin\"\n        >\n          <div style=\"margin-bottom: 25px\">\n            <input\n              [typeahead]=\"baseUrls\"\n              class=\"form-control\"\n              placeholder=\"OpenMRS Server URL\"\n              name=\"baseUrl\"\n              ngModel\n              required\n              autocomplete=\"off\"\n              autofocus\n            />\n          </div>\n\n          <div style=\"margin-bottom: 25px\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              name=\"username\"\n              placeholder=\"Username\"\n              ngModel\n              required\n            />\n          </div>\n\n          <div style=\"margin-bottom: 25px\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              name=\"password\"\n              id=\"inputPassword\"\n              placeholder=\"Password\"\n              (keyDown)=\"authenticated = undefined\"\n              ngModel\n              required\n            />\n          </div>\n          <div\n            *ngIf=\"authenticated !==undefined && !authenticated\"\n            class=\"alert alert-danger\"\n          >\n            <p>Incorrect username or password</p>\n          </div>\n\n          <div class=\"text-center\">\n            <button\n              type=\"submit\"\n              class=\"btn btn-lg btn-primary btn-block btn-signin\"\n              [disabled]=\"!loginForm.valid\"\n            >\n              Log In\n            </button>\n          </div>\n        </form>\n\n        <div class=\"message\" *ngIf=\"message\">\n          <div\n            style=\"display: none\"\n            id=\"login-alert\"\n            class=\"alert alert-danger col-sm-12\"\n          ></div>\n          <div\n            class=\"alert\"\n            [class.alert-warning]=\"!authenticated\"\n            [class.alert-success]=\"authenticated\"\n          >\n            <small>{{ message }}</small>\n            <div *ngIf=\"message.indexOf('Logging') !==-1\" class=\"spinner\">\n              <i class=\"fa fa-spinner fa-spin\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </mat-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Services/authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");





var LoginComponent = /** @class */ (function () {
    function LoginComponent(auth, router) {
        this.auth = auth;
        this.router = router;
        this.baseUrls = [
            'https://ngx.ampath.or.ke/test-amrs',
            'https://ngx.ampath.or.ke/amrs',
            '/openmrs'
        ];
        this.setMessage();
    }
    LoginComponent.prototype.ngOnInit = function () { };
    LoginComponent.prototype.login = function (credentials) {
        var _this = this;
        this.auth.setBaseUrl(credentials.baseUrl);
        this.auth.setCredentialsSubject(credentials.username, credentials.password);
        this.message = 'Logging in...';
        this.auth
            .authenticate(credentials.username, credentials.password, credentials.baseUrl)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (error) {
            if (error.message.indexOf('You provided an invalid object where a stream was expected.') !== -1) {
                _this.message =
                    'Kindly check your internet connection and make sure CORS is turned on then refresh the page.';
            }
            return error;
        }))
            .subscribe(function (res) {
            _this.setMessage();
            if (_this.auth.isLoggedIn) {
                _this.authenticated = true;
                _this.message = 'Success!';
                var redirectUrl = _this.auth.redirectUrl
                    ? _this.auth.redirectUrl
                    : '/forms';
                _this.router.navigate([redirectUrl]);
            }
            else {
                _this.message = undefined;
                _this.authenticated = false;
            }
        });
    };
    LoginComponent.prototype.setMessage = function () {
        var str = this.authenticated ? 'in' : undefined;
        if (str) {
            this.message = 'Already Logged ' + str;
        }
    };
    LoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/login/login.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/modals/alert.component.ts":
/*!*******************************************!*\
  !*** ./src/app/modals/alert.component.ts ***!
  \*******************************************/
/*! exports provided: AlertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertComponent", function() { return AlertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);



var AlertComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AlertComponent, _super);
    function AlertComponent(dialogService) {
        return _super.call(this, dialogService) || this;
    }
    AlertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'alert',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n      </div>\n      <div class=\"modal-body\">\n        <h5 class=\"text-center font-weight-bold msg\">{{ message }}</h5>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"close()\">\n          OK\n        </button>\n      </div>\n    </div>\n  </div>",
            styles: ["\n      .msg {\n        white-space: pre-line;\n      }\n    "]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], AlertComponent);
    return AlertComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/answers-modal/answers-modal.css":
/*!********************************************************!*\
  !*** ./src/app/modals/answers-modal/answers-modal.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog {\n  overflow-y: initial !important;\n}\n.modal-content {\n  height: 550px;\n  overflow-y: auto;\n}\n/* Hiding the checkbox, but allowing it to be focused */\n.badgebox {\n  opacity: 0;\n}\n.badgebox + .badge {\n  /* Move the check mark away when unchecked */\n  text-indent: -999999px;\n  /* Makes the badge's width stay the same checked and unchecked */\n  width: 27px;\n}\n.badgebox:focus + .badge {\n  /* Set something to make the badge looks focused */\n  /* This really depends on the application, in my case it was: */\n\n  /* Adding a light border */\n  box-shadow: inset 0px 0px 5px;\n  /* Taking the difference out of the padding */\n}\n.badgebox:checked + .badge {\n  /* Move the check mark back when checked */\n  text-indent: 0;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL2Fuc3dlcnMtbW9kYWwvYW5zd2Vycy1tb2RhbC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw4QkFBOEI7QUFDaEM7QUFDQTtFQUNFLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7QUFDQSx1REFBdUQ7QUFDdkQ7RUFDRSxVQUFVO0FBQ1o7QUFFQTtFQUNFLDRDQUE0QztFQUM1QyxzQkFBc0I7RUFDdEIsZ0VBQWdFO0VBQ2hFLFdBQVc7QUFDYjtBQUVBO0VBQ0Usa0RBQWtEO0VBQ2xELCtEQUErRDs7RUFFL0QsMEJBQTBCO0VBQzFCLDZCQUE2QjtFQUM3Qiw2Q0FBNkM7QUFDL0M7QUFFQTtFQUNFLDBDQUEwQztFQUMxQyxjQUFjO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvbW9kYWxzL2Fuc3dlcnMtbW9kYWwvYW5zd2Vycy1tb2RhbC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubW9kYWwtZGlhbG9nIHtcbiAgb3ZlcmZsb3cteTogaW5pdGlhbCAhaW1wb3J0YW50O1xufVxuLm1vZGFsLWNvbnRlbnQge1xuICBoZWlnaHQ6IDU1MHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuLyogSGlkaW5nIHRoZSBjaGVja2JveCwgYnV0IGFsbG93aW5nIGl0IHRvIGJlIGZvY3VzZWQgKi9cbi5iYWRnZWJveCB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5iYWRnZWJveCArIC5iYWRnZSB7XG4gIC8qIE1vdmUgdGhlIGNoZWNrIG1hcmsgYXdheSB3aGVuIHVuY2hlY2tlZCAqL1xuICB0ZXh0LWluZGVudDogLTk5OTk5OXB4O1xuICAvKiBNYWtlcyB0aGUgYmFkZ2UncyB3aWR0aCBzdGF5IHRoZSBzYW1lIGNoZWNrZWQgYW5kIHVuY2hlY2tlZCAqL1xuICB3aWR0aDogMjdweDtcbn1cblxuLmJhZGdlYm94OmZvY3VzICsgLmJhZGdlIHtcbiAgLyogU2V0IHNvbWV0aGluZyB0byBtYWtlIHRoZSBiYWRnZSBsb29rcyBmb2N1c2VkICovXG4gIC8qIFRoaXMgcmVhbGx5IGRlcGVuZHMgb24gdGhlIGFwcGxpY2F0aW9uLCBpbiBteSBjYXNlIGl0IHdhczogKi9cblxuICAvKiBBZGRpbmcgYSBsaWdodCBib3JkZXIgKi9cbiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCA1cHg7XG4gIC8qIFRha2luZyB0aGUgZGlmZmVyZW5jZSBvdXQgb2YgdGhlIHBhZGRpbmcgKi9cbn1cblxuLmJhZGdlYm94OmNoZWNrZWQgKyAuYmFkZ2Uge1xuICAvKiBNb3ZlIHRoZSBjaGVjayBtYXJrIGJhY2sgd2hlbiBjaGVja2VkICovXG4gIHRleHQtaW5kZW50OiAwO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/modals/answers-modal/answers-modal.html":
/*!*********************************************************!*\
  !*** ./src/app/modals/answers-modal/answers-modal.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-dialog\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <button class=\"close\" type=\"button\" (click)=\"close()\">&times;</button>\n\n      <div style=\"display: inline-block\">\n        <h4 class=\"modal-title\">Answers</h4>\n      </div>\n      <div style=\"display: inline-block; margin-left: 10px\">\n        <label for=\"primary\" class=\"btn btn-primary\"\n          >Select All<input\n            (change)=\"selectAll($event)\"\n            type=\"checkbox\"\n            id=\"primary\"\n            class=\"badgebox\" /><span class=\"badge\"\n            ><i class=\"fa fa-check\"></i></span\n        ></label>\n      </div>\n    </div>\n    <div class=\"modal-body\">\n      <form #answersForm=\"ngForm\" (ngSubmit)=\"save(answersForm.value)\">\n        <div *ngFor=\"let answer of answers;let i=index;\">\n          <div class=\"checkbox\" style=\"margin-left: 20px\">\n            <h6>\n              <input\n                type=\"checkbox\"\n                name=\"'choice'+i\"\n                [value]=\"answer.uuid\"\n                (change)=\"setCheckboxes($event,i)\"\n                [checked]=\"checked\"\n              />\n              Answer {{i+1}}\n            </h6>\n            <div class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                #label\n                [value]=\"answer.display\"\n              />\n            </div>\n            <br />\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"submit\"\n            class=\"btn btn-primary\"\n            [disabled]=\"!answersForm.valid\"\n          >\n            OK\n          </button>\n          <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/answers-modal/answers.modal.ts":
/*!*******************************************************!*\
  !*** ./src/app/modals/answers-modal/answers.modal.ts ***!
  \*******************************************************/
/*! exports provided: AnswersComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnswersComponent", function() { return AnswersComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var AnswersComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnswersComponent, _super);
    function AnswersComponent(dialogService, fb, cdRef) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.cdRef = cdRef;
        _this.checkboxes = [];
        _this.checked = false;
        return _this;
    }
    AnswersComponent.prototype.ngOnInit = function () { };
    AnswersComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    AnswersComponent.prototype.save = function (value) {
        this.result = JSON.stringify(this.checkboxes);
        this.close();
    };
    AnswersComponent.prototype.setCheckboxes = function (event, i) {
        if (event.target.checked) {
            this.checkboxes.push(event.target.getAttribute('value'));
        }
        else {
            this.checkboxes.splice(i, 1);
        }
    };
    AnswersComponent.prototype.selectAll = function (event) {
        var _this = this;
        if (event.target.checked) {
            this.answers.forEach(function (answer, index) {
                _this.checked = event.target.checked;
                _this.checkboxes.push(answer.uuid);
            });
        }
        else {
            this.answers.forEach(function (answer, index) {
                _this.checked = false;
            });
            this.checkboxes = [];
        }
    };
    AnswersComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: __webpack_require__(/*! ./answers-modal.html */ "./src/app/modals/answers-modal/answers-modal.html"),
            styles: [__webpack_require__(/*! ./answers-modal.css */ "./src/app/modals/answers-modal/answers-modal.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], AnswersComponent);
    return AnswersComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/concept.modal.ts":
/*!*****************************************!*\
  !*** ./src/app/modals/concept.modal.ts ***!
  \*****************************************/
/*! exports provided: ConceptsModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConceptsModalComponent", function() { return ConceptsModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var ConceptsModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConceptsModalComponent, _super);
    function ConceptsModalComponent(dialogService, fb, cdRef) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.cdRef = cdRef;
        return _this;
    }
    ConceptsModalComponent.prototype.ngOnInit = function () { };
    ConceptsModalComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    ConceptsModalComponent.prototype.save = function (value) {
        this.result = value;
        this.close();
    };
    ConceptsModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n        <h4 class=\"modal-title\">Concepts</h4>\n      </div>\n      <div class=\"modal-body\">\n        <form #conceptForm=\"ngForm\" (ngSubmit)=\"save(conceptForm.value)\">\n          <div class=\"form-group\">\n            <label for=\"concepts\">Select a concept</label>\n            <select\n              class=\"form-control\"\n              id=\"concepts\"\n              name=\"concept\"\n              [(ngModel)]=\"pconcept\"\n              required\n            >\n              <option *ngFor=\"let concept of concepts\" [value]=\"concept.uuid\">\n                {{ concept.name.display }}\n              </option>\n            </select>\n            <br />\n            <h6>\n              <b> UUID : {{ pconcept }} </b>\n            </h6>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"submit\"\n              class=\"btn btn-primary\"\n              [disabled]=\"!conceptForm.valid\"\n            >\n              OK\n            </button>\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>",
            styles: ["\n      .modal-dialog {\n        overflow-y: initial !important;\n      }\n      .modal-body {\n        overflow-y: auto;\n      }\n    "]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], ConceptsModalComponent);
    return ConceptsModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/confirm.component.ts":
/*!*********************************************!*\
  !*** ./src/app/modals/confirm.component.ts ***!
  \*********************************************/
/*! exports provided: ConfirmComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmComponent", function() { return ConfirmComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);



var ConfirmComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConfirmComponent, _super);
    function ConfirmComponent(dialogService) {
        return _super.call(this, dialogService) || this;
    }
    ConfirmComponent.prototype.close = function () {
        _super.prototype.close.call(this);
        if (!this.result) {
            this.result = 0;
        }
    };
    ConfirmComponent.prototype.confirm = function () {
        this.result = 1;
        this.close();
        return this.result;
    };
    ConfirmComponent.prototype.confirmNewVersion = function () {
        this.result = 2;
        this.close();
        return this.result;
    };
    ConfirmComponent.prototype.saveModal = function () {
        if (this.buttonText) {
            if (this.buttonText.indexOf('Update') > -1) {
                return true;
            }
        }
        return false;
    };
    ConfirmComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-modals',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n\n        <h4 class=\"modal-title\">{{ title || 'Confirm' }}</h4>\n      </div>\n      <div class=\"modal-body\">\n        <h5>{{ message || 'Are you sure you want to delete?' }}</h5>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"confirm()\">\n          {{ buttonText || 'Delete' }}\n        </button>\n        <div style=\"display:inline-block\" *ngIf=\"saveModal()\">\n          <button\n            type=\"button\"\n            class=\"btn btn-success\"\n            (click)=\"confirmNewVersion()\"\n          >\n            Save as a new version\n          </button>\n        </div>\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n          {{ 'Cancel' || canceButtonText }}\n        </button>\n      </div>\n    </div>\n  </div>"
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], ConfirmComponent);
    return ConfirmComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/encounter-details.modal.ts":
/*!***************************************************!*\
  !*** ./src/app/modals/encounter-details.modal.ts ***!
  \***************************************************/
/*! exports provided: EncounterModalDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterModalDetailsComponent", function() { return EncounterModalDetailsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Services_openmrs_api_patient_resource_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Services/openmrs-api/patient-resource.service */ "./src/app/Services/openmrs-api/patient-resource.service.ts");
/* harmony import */ var _Services_openmrs_api_location_resource_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Services/openmrs-api/location-resource.service */ "./src/app/Services/openmrs-api/location-resource.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);






var EncounterModalDetailsComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EncounterModalDetailsComponent, _super);
    function EncounterModalDetailsComponent(dialogService, patientResourceService, locationResourceService) {
        var _this = _super.call(this, dialogService) || this;
        _this.patientResourceService = patientResourceService;
        _this.locationResourceService = locationResourceService;
        _this.form = { patient: '', location: '' };
        return _this;
    }
    EncounterModalDetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.patientResourceService
            .searchPatientByName('test')
            .subscribe(function (patients) {
            var p = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](patients.results, function (patient) { return !lodash__WEBPACK_IMPORTED_MODULE_5__["isEmpty"](patient); });
            _this.patients = p;
        });
    };
    EncounterModalDetailsComponent.prototype.onSelectPatient = function ($patient) {
        this.form.patient = $patient.item.uuid;
    };
    EncounterModalDetailsComponent.prototype.onSelectLocation = function ($location) {
        this.form.location = $location.item.uuid;
    };
    EncounterModalDetailsComponent.prototype.submit = function () {
        this.result = this.form;
        this.close();
    };
    EncounterModalDetailsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-modals',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n        <h4 class=\"modal-title\">Select Encounter Details</h4>\n      </div>\n      <div class=\"modal-body\">\n        <div *ngIf=\"!patients\" class=\"text-center\">\n          <i class=\"fa fa-spinner fa-spin\"></i>\n        </div>\n        <div *ngIf=\"patients\">\n          <form #form=\"ngForm\" (ngSubmit)=\"submit()\">\n            <div class=\"form-group\">\n              <div style=\"margin-bottom: 25px\">\n                <label> Select Patient </label>\n                <input\n                  [typeahead]=\"patients\"\n                  typeaheadOptionField=\"display\"\n                  class=\"form-control\"\n                  placeholder=\"Enter test patient name\"\n                  name=\"patient\"\n                  (typeaheadOnSelect)=\"onSelectPatient($event)\"\n                  ngModel\n                  required\n                  autocomplete=\"off\"\n                  autofocus\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              class=\"btn btn-success\"\n              [disabled]=\"!form.valid\"\n            >\n              Submit Form <span class=\"fa fa-chevron-right\"></span>\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>",
            providers: [_Services_openmrs_api_patient_resource_service__WEBPACK_IMPORTED_MODULE_3__["PatientResourceService"], _Services_openmrs_api_location_resource_service__WEBPACK_IMPORTED_MODULE_4__["LocationResourceService"]]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _Services_openmrs_api_patient_resource_service__WEBPACK_IMPORTED_MODULE_3__["PatientResourceService"],
            _Services_openmrs_api_location_resource_service__WEBPACK_IMPORTED_MODULE_4__["LocationResourceService"]])
    ], EncounterModalDetailsComponent);
    return EncounterModalDetailsComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/encounter-viewer-modal.ts":
/*!**************************************************!*\
  !*** ./src/app/modals/encounter-viewer-modal.ts ***!
  \**************************************************/
/*! exports provided: EncounterViewerModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterViewerModalComponent", function() { return EncounterViewerModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);



var EncounterViewerModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EncounterViewerModalComponent, _super);
    function EncounterViewerModalComponent(dialogService) {
        return _super.call(this, dialogService) || this;
    }
    EncounterViewerModalComponent.prototype.ngOnInit = function () { };
    EncounterViewerModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'encounter-viewer-modal',
            template: "<div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <div class=\"modal-title\">Obs</div>\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n      </div>\n      <div class=\"modal-body\" *ngIf=\"form && encounter\">\n        <encounter-renderer\n          [form]=\"form\"\n          [encounter]=\"encounter\"\n        ></encounter-renderer>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"close()\">\n          OK\n        </button>\n      </div>\n    </div>\n  </div>",
            styles: ["\n      .msg {\n        white-space: pre-line;\n      }\n    "]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], EncounterViewerModalComponent);
    return EncounterViewerModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.css":
/*!*************************************************************************************!*\
  !*** ./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog {\n  overflow-y: initial !important;\n}\n.modal-body {\n  overflow-y: auto;\n}\noption {\n  padding: 10px;\n  border-bottom: 1px solid lightgray;\n}\n.data-list {\n  max-height: 50px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL2luc2VydC1yZWZlcmVuY2UtZm9ybS1tb2RhbC9pbnNlcnQtcmVmZXJlbmNlLWZvcm1zLm1vZGFsLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUE4QjtBQUNoQztBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxhQUFhO0VBQ2Isa0NBQWtDO0FBQ3BDO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9tb2RhbHMvaW5zZXJ0LXJlZmVyZW5jZS1mb3JtLW1vZGFsL2luc2VydC1yZWZlcmVuY2UtZm9ybXMubW9kYWwuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsLWRpYWxvZyB7XG4gIG92ZXJmbG93LXk6IGluaXRpYWwgIWltcG9ydGFudDtcbn1cbi5tb2RhbC1ib2R5IHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cbm9wdGlvbiB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBsaWdodGdyYXk7XG59XG4uZGF0YS1saXN0IHtcbiAgbWF4LWhlaWdodDogNTBweDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.html":
/*!**************************************************************************************!*\
  !*** ./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-dialog\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n      <h4 class=\"modal-title\">Components</h4>\n    </div>\n    <div class=\"modal-body\">\n      <form #form=\"ngForm\" (ngSubmit)=\"save(form.value)\">\n        <div class=\"form-group data-list\">\n          <label>Select forms</label>\n\n          <input\n            list=\"forms\"\n            name=\"refForm\"\n            class=\"form-control\"\n            ngModel\n            required\n          />\n          <datalist id=\"forms\">\n            <option *ngFor=\"let form of forms\" [value]=\"form.name\">\n              {{form.name}}\n            </option>\n          </datalist>\n        </div>\n\n        <div class=\"form-group\">\n          <label>Alias</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Enter alias\"\n            name=\"alias\"\n            ngModel\n            required\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label>Display</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Display\"\n            name=\"display\"\n            ngModel\n            required\n          />\n        </div>\n\n        <div *ngIf=\"errorMessage\" class=\"alert alert-danger\">\n          <small><b>{{errorMessage}}</b></small>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button\n            type=\"submit\"\n            class=\"btn btn-primary\"\n            [disabled]=\"!form.valid\"\n          >\n            OK\n          </button>\n          <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.ts":
/*!************************************************************************************!*\
  !*** ./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.ts ***!
  \************************************************************************************/
/*! exports provided: InsertReferenceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsertReferenceComponent", function() { return InsertReferenceComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);





var InsertReferenceComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InsertReferenceComponent, _super);
    function InsertReferenceComponent(dialogService, fb, cdRef) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.cdRef = cdRef;
        _this.selected = false;
        return _this;
    }
    InsertReferenceComponent.prototype.ngOnInit = function () { };
    InsertReferenceComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    InsertReferenceComponent.prototype.save = function (value) {
        var uuid = this.findFormUUID(value.refForm);
        if (lodash__WEBPACK_IMPORTED_MODULE_4__["isUndefined"](uuid)) {
            this.errorMessage = 'Invalid form.';
        }
        else {
            this.errorMessage = undefined;
            value.form = uuid + ' ' + value.refForm;
            this.result = value;
            this.close();
        }
    };
    InsertReferenceComponent.prototype.optionSelected = function ($event) {
        this.selected = true;
    };
    InsertReferenceComponent.prototype.findFormUUID = function (formName) {
        var uuid;
        this.forms.forEach(function (form) {
            if (form.name === formName) {
                uuid = form.uuid;
            }
        });
        return uuid;
    };
    InsertReferenceComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: __webpack_require__(/*! ./insert-reference-forms.modal.html */ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.html"),
            styles: [__webpack_require__(/*! ./insert-reference-forms.modal.css */ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], InsertReferenceComponent);
    return InsertReferenceComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/modals-module.ts":
/*!*****************************************!*\
  !*** ./src/app/modals/modals-module.ts ***!
  \*****************************************/
/*! exports provided: ModalsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalsModule", function() { return ModalsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./update-forms-wizard-modal/update-forms-wizard-modal.component */ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.ts");
/* harmony import */ var _confirm_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./confirm.component */ "./src/app/modals/confirm.component.ts");
/* harmony import */ var _alert_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./alert.component */ "./src/app/modals/alert.component.ts");
/* harmony import */ var _insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./insert-reference-form-modal/insert-reference-forms.modal */ "./src/app/modals/insert-reference-form-modal/insert-reference-forms.modal.ts");
/* harmony import */ var _schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./schema-editor.modal */ "./src/app/modals/schema-editor.modal.ts");
/* harmony import */ var _prompt_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./prompt.component */ "./src/app/modals/prompt.component.ts");
/* harmony import */ var _set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./set-members-modal/set-members-modal.component */ "./src/app/modals/set-members-modal/set-members-modal.component.ts");
/* harmony import */ var _answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./answers-modal/answers.modal */ "./src/app/modals/answers-modal/answers.modal.ts");
/* harmony import */ var _concept_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./concept.modal */ "./src/app/modals/concept.modal.ts");
/* harmony import */ var _reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./reference-form-modal/reference-form.modal */ "./src/app/modals/reference-form-modal/reference-form.modal.ts");
/* harmony import */ var _navigator_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./navigator.modal */ "./src/app/modals/navigator.modal.ts");
/* harmony import */ var _save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./save-form-modal/save-form-modal */ "./src/app/modals/save-form-modal/save-form-modal.ts");
/* harmony import */ var _form_editor_update_forms_wizard_update_forms_wizard_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../form-editor/update-forms-wizard/update-forms-wizard.component */ "./src/app/form-editor/update-forms-wizard/update-forms-wizard.component.ts");
/* harmony import */ var _encounter_details_modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./encounter-details.modal */ "./src/app/modals/encounter-details.modal.ts");
/* harmony import */ var _encounter_viewer_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./encounter-viewer-modal */ "./src/app/modals/encounter-viewer-modal.ts");
/* harmony import */ var _shared_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../shared-module */ "./src/app/shared-module.ts");



















var ModalsModule = /** @class */ (function () {
    function ModalsModule() {
    }
    ModalsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _confirm_component__WEBPACK_IMPORTED_MODULE_4__["ConfirmComponent"],
                _alert_component__WEBPACK_IMPORTED_MODULE_5__["AlertComponent"],
                _prompt_component__WEBPACK_IMPORTED_MODULE_8__["PromptComponent"],
                _answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_10__["AnswersComponent"],
                _save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__["SaveFormsComponent"],
                _concept_modal__WEBPACK_IMPORTED_MODULE_11__["ConceptsModalComponent"],
                _reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_12__["ReferenceModalComponent"],
                _navigator_modal__WEBPACK_IMPORTED_MODULE_13__["NavigatorModalComponent"],
                _set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_9__["SetMembersModalComponent"],
                _update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_3__["UpdateFormsWizardModalComponent"],
                _form_editor_update_forms_wizard_update_forms_wizard_component__WEBPACK_IMPORTED_MODULE_15__["UpdateFormsWizardComponent"],
                _insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_6__["InsertReferenceComponent"],
                _schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__["SchemaModalComponent"],
                _encounter_details_modal__WEBPACK_IMPORTED_MODULE_16__["EncounterModalDetailsComponent"],
                _encounter_viewer_modal__WEBPACK_IMPORTED_MODULE_17__["EncounterViewerModalComponent"]
            ],
            entryComponents: [
                _confirm_component__WEBPACK_IMPORTED_MODULE_4__["ConfirmComponent"],
                _alert_component__WEBPACK_IMPORTED_MODULE_5__["AlertComponent"],
                _prompt_component__WEBPACK_IMPORTED_MODULE_8__["PromptComponent"],
                _answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_10__["AnswersComponent"],
                _save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__["SaveFormsComponent"],
                _concept_modal__WEBPACK_IMPORTED_MODULE_11__["ConceptsModalComponent"],
                _reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_12__["ReferenceModalComponent"],
                _navigator_modal__WEBPACK_IMPORTED_MODULE_13__["NavigatorModalComponent"],
                _set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_9__["SetMembersModalComponent"],
                _update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_3__["UpdateFormsWizardModalComponent"],
                _insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_6__["InsertReferenceComponent"],
                _schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__["SchemaModalComponent"],
                _encounter_details_modal__WEBPACK_IMPORTED_MODULE_16__["EncounterModalDetailsComponent"],
                _encounter_viewer_modal__WEBPACK_IMPORTED_MODULE_17__["EncounterViewerModalComponent"]
            ],
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _shared_module__WEBPACK_IMPORTED_MODULE_18__["SharedModule"]],
            exports: [
                _confirm_component__WEBPACK_IMPORTED_MODULE_4__["ConfirmComponent"],
                _alert_component__WEBPACK_IMPORTED_MODULE_5__["AlertComponent"],
                _prompt_component__WEBPACK_IMPORTED_MODULE_8__["PromptComponent"],
                _answers_modal_answers_modal__WEBPACK_IMPORTED_MODULE_10__["AnswersComponent"],
                _save_form_modal_save_form_modal__WEBPACK_IMPORTED_MODULE_14__["SaveFormsComponent"],
                _concept_modal__WEBPACK_IMPORTED_MODULE_11__["ConceptsModalComponent"],
                _reference_form_modal_reference_form_modal__WEBPACK_IMPORTED_MODULE_12__["ReferenceModalComponent"],
                _navigator_modal__WEBPACK_IMPORTED_MODULE_13__["NavigatorModalComponent"],
                _set_members_modal_set_members_modal_component__WEBPACK_IMPORTED_MODULE_9__["SetMembersModalComponent"],
                _update_forms_wizard_modal_update_forms_wizard_modal_component__WEBPACK_IMPORTED_MODULE_3__["UpdateFormsWizardModalComponent"],
                _insert_reference_form_modal_insert_reference_forms_modal__WEBPACK_IMPORTED_MODULE_6__["InsertReferenceComponent"],
                _schema_editor_modal__WEBPACK_IMPORTED_MODULE_7__["SchemaModalComponent"],
                _encounter_details_modal__WEBPACK_IMPORTED_MODULE_16__["EncounterModalDetailsComponent"]
            ],
            providers: []
        })
    ], ModalsModule);
    return ModalsModule;
}());



/***/ }),

/***/ "./src/app/modals/navigator.modal.ts":
/*!*******************************************!*\
  !*** ./src/app/modals/navigator.modal.ts ***!
  \*******************************************/
/*! exports provided: NavigatorModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorModalComponent", function() { return NavigatorModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");





var NavigatorModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](NavigatorModalComponent, _super);
    function NavigatorModalComponent(dialogService, fb, fs) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.fs = fs;
        _this.checkedRefElements = [];
        return _this;
    }
    NavigatorModalComponent.prototype.rfEmitted = function (refElements) {
        this.checkedRefElements = refElements;
    };
    NavigatorModalComponent.prototype.close = function () {
        _super.prototype.close.call(this);
        this.res = '';
    };
    NavigatorModalComponent.prototype.save = function () {
        this.res = JSON.stringify(this.checkedRefElements);
        this.result = this.res;
        this.close();
    };
    NavigatorModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a (click)=\"close()\" style=\"margin-right:10px; cursor:pointer\"\n          ><i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i\n        ></a>\n        <h4 class=\"modal-title title\">\n          Select {{ referenceElement }} to reference\n        </h4>\n      </div>\n      <div class=\"modal-body\">\n        <app-navigator\n          [_schema]=\"schema\"\n          [formSchema]=\"schema\"\n          [mode]=\"'select'\"\n          [referenceElement]=\"referenceElement\"\n          (checkedRefElementsEmitter)=\"rfEmitted($event)\"\n        ></app-navigator>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"save()\">\n          OK\n        </button>\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>",
            styles: ["\n      .modal-body {\n        position: relative;\n        padding: 20px;\n        max-height: 550px;\n        overflow-y: auto;\n      }\n      .title {\n        display: inline-block;\n      }\n    "]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"]])
    ], NavigatorModalComponent);
    return NavigatorModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/prompt.component.ts":
/*!********************************************!*\
  !*** ./src/app/modals/prompt.component.ts ***!
  \********************************************/
/*! exports provided: PromptComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PromptComponent", function() { return PromptComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);



var PromptComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](PromptComponent, _super);
    function PromptComponent(dialogService) {
        var _this = _super.call(this, dialogService) || this;
        _this.message = '';
        return _this;
    }
    PromptComponent.prototype.save = function () {
        this.result = this.form.value;
        this.close();
    };
    PromptComponent.prototype.keyDownFunction = function ($event) {
        if ($event.keyCode === 13 && this.form.valid) {
            this.save();
        }
    };
    PromptComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n        <h4 class=\"modal-title\">{{ title || 'Prompt' }}</h4>\n      </div>\n      <div class=\"modal-body\">\n        <form [formGroup]=\"form\" (keydown)=\"keyDownFunction($event)\">\n          <div *ngFor=\"let question of questions\">\n            <label [attr.for]=\"question.key\">{{ question.label }}</label>\n\n            <div [ngSwitch]=\"question.controlType\">\n              <div class=\"form-group\">\n                <input\n                  *ngSwitchCase=\"'textbox'\"\n                  class=\"form-control\"\n                  [formControlName]=\"question.key\"\n                  [id]=\"question.key\"\n                  [type]=\"question.type\"\n                  [value]=\"question.value\"\n                />\n              </div>\n\n              <div class=\"form-group\">\n                <select\n                  *ngSwitchCase=\"'select'\"\n                  class=\"form-control\"\n                  [formControlName]=\"question.key\"\n                >\n                  <option value=\"\" disabled selected>Is Expanded</option>\n                  <option\n                    *ngFor=\"let opt of question.options\"\n                    [value]=\"opt.key\"\n                  >\n                    {{ opt.value }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary\"\n          (click)=\"save()\"\n          [disabled]=\"!form.valid\"\n        >\n          OK\n        </button>\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>"
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], PromptComponent);
    return PromptComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/reference-form-modal/reference-form.madal.css":
/*!**********************************************************************!*\
  !*** ./src/app/modals/reference-form-modal/reference-form.madal.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".stylish-input-group .input-group-addon {\n  background: white !important;\n}\n.stylish-input-group .form-control {\n  border-right: 0;\n  box-shadow: 0 0 0;\n  border-color: #ccc;\n}\n.stylish-input-group button {\n  border: 0;\n  background: transparent;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3JlZmVyZW5jZS1mb3JtLW1vZGFsL3JlZmVyZW5jZS1mb3JtLm1hZGFsLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDRCQUE0QjtBQUM5QjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFNBQVM7RUFDVCx1QkFBdUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9tb2RhbHMvcmVmZXJlbmNlLWZvcm0tbW9kYWwvcmVmZXJlbmNlLWZvcm0ubWFkYWwuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN0eWxpc2gtaW5wdXQtZ3JvdXAgLmlucHV0LWdyb3VwLWFkZG9uIHtcbiAgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDtcbn1cbi5zdHlsaXNoLWlucHV0LWdyb3VwIC5mb3JtLWNvbnRyb2wge1xuICBib3JkZXItcmlnaHQ6IDA7XG4gIGJveC1zaGFkb3c6IDAgMCAwO1xuICBib3JkZXItY29sb3I6ICNjY2M7XG59XG4uc3R5bGlzaC1pbnB1dC1ncm91cCBidXR0b24ge1xuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/modals/reference-form-modal/reference-form.modal.html":
/*!***********************************************************************!*\
  !*** ./src/app/modals/reference-form-modal/reference-form.modal.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"refForms\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n        <h4 class=\"modal-title\">Search form to reference</h4>\n      </div>\n      <div class=\"modal-body\">\n        <form [formGroup]=\"form\" (keydown)=\"keyDownFunction($event)\">\n          <div class=\"form-group\">\n            <label for=\"label\">Enter Form Name</label>\n            <input\n              list=\"refForms\"\n              name=\"form\"\n              class=\"form-control\"\n              formControlName=\"selectField\"\n              autocomplete=\"off\"\n            />\n            <datalist id=\"refForms\">\n              <option *ngFor=\"let form of refForms\">{{form.formName}}</option>\n            </datalist>\n          </div>\n\n          <div *ngIf=\"errorMessage\" class=\"alert alert-danger\">\n            <small><b>{{errorMessage}}</b></small>\n          </div>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-primary\"\n          (click)=\"save(selectField.value)\"\n          [disabled]=\"!form.valid\"\n        >\n          OK\n        </button>\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/reference-form-modal/reference-form.modal.ts":
/*!*********************************************************************!*\
  !*** ./src/app/modals/reference-form-modal/reference-form.modal.ts ***!
  \*********************************************************************/
/*! exports provided: ReferenceModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceModalComponent", function() { return ReferenceModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _navigator_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../navigator.modal */ "./src/app/modals/navigator.modal.ts");






var ReferenceModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ReferenceModalComponent, _super);
    function ReferenceModalComponent(dialogService, fb, fs) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.fs = fs;
        _this.searchValue = '';
        _this.selectField = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required);
        _this.form = fb.group({ selectField: _this.selectField });
        return _this;
    }
    ReferenceModalComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.fs.getReferencedFormsDetails().subscribe(function (res) {
            _this.refForms = res;
        });
        // this.filteredForms = this.selectField.valueChanges.map((ref) => {
        //   return ref ? this.filter(ref) : [];
        // })
    };
    // filter(ref){
    //   return this.refForms.filter(form =>
    //       form.formName.toLowerCase().indexOf(ref.toLowerCase()) !==-1);
    // }
    ReferenceModalComponent.prototype.save = function (value) {
        var _this = this;
        var selectedForm;
        this.refForms.forEach(function (form) {
            if (form['formName'] === value) {
                selectedForm = form;
                _this.formAlias = form['alias'];
            }
        });
        if (selectedForm === undefined) {
            this.errorMessage = 'Please select a valid form';
            return;
        }
        if (selectedForm.ref.uuid) {
            this.errorMessage = undefined;
            this.fs
                .fetchFormMetadata(selectedForm.ref.uuid, true)
                .then(function (res) {
                return _this.fs
                    .fetchForm(res.resources[0].valueReference, true)
                    .then(function (schema) {
                    return _this.showNavigatorDialog(schema, _this.refElement, "Select " + _this.refElement + " to reference");
                });
            });
        }
        else {
            console.error('formName is undefined!');
        }
    };
    ReferenceModalComponent.prototype.showNavigatorDialog = function (schema, refElement, title) {
        var _this = this;
        this.subscription = this.dialogService
            .addDialog(_navigator_modal__WEBPACK_IMPORTED_MODULE_5__["NavigatorModalComponent"], {
            title: title,
            schema: schema,
            referenceElement: refElement.toLowerCase()
        }, { backdropColor: 'rgba(0, 0, 0, 0.8)' })
            .subscribe(function (formValue) {
            var i = {};
            i['form'] = _this.formAlias;
            i[refElement + 's'] = formValue;
            if (formValue !== undefined) {
                _this.result = JSON.stringify(i);
                _this.close();
            }
        });
    };
    ReferenceModalComponent.prototype.keyDownFunction = function ($event) {
        // validate!
        if ($event.keyCode === 13 && this.form.valid) {
            this.save(this.selectField.value);
        }
    };
    ReferenceModalComponent.prototype.filterForms = function (searchString) {
        searchString = searchString.toLowerCase();
        return this.refForms.filter(function (form) {
            return form.name.toLowerCase().indexOf(searchString) !== -1;
        });
    };
    ReferenceModalComponent.prototype.typeaheadOnSelect = function (e) {
        this.save(e.value);
    };
    ReferenceModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: __webpack_require__(/*! ./reference-form.modal.html */ "./src/app/modals/reference-form-modal/reference-form.modal.html"),
            styles: [__webpack_require__(/*! ./reference-form.madal.css */ "./src/app/modals/reference-form-modal/reference-form.madal.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"]])
    ], ReferenceModalComponent);
    return ReferenceModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/save-form-modal/save-form-modal.html":
/*!*************************************************************!*\
  !*** ./src/app/modals/save-form-modal/save-form-modal.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-dialog\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n      <h4 class=\"modal-title\">{{title || 'Prompt'}}</h4>\n    </div>\n    <div class=\"modal-body\">\n      <form [formGroup]=\"form\">\n        <div class=\"form-group\">\n          <label>Name</label>\n          <input class=\"form-control\" formControlName=\"name\" />\n        </div>\n\n        <div class=\"form-group\" *ngIf=\"uuid\">\n          <label>UUID</label>\n          <input class=\"form-control\" [value]=\"uuid\" disabled />\n        </div>\n\n        <div class=\"form-group\">\n          <label>Version</label>\n          <input class=\"form-control\" formControlName=\"version\" />\n        </div>\n\n        <div class=\"form-group\" *ngIf=\"encounterTypes&&formType!=='component'\">\n          <label for=\"encounter-type\">Encounter Type</label>\n          <select class=\"form-control\" formControlName=\"encounter\">\n            <option value=\"\" selected>Select Encounter Type</option>\n            <option *ngFor=\"let e of encounterTypes\" [selected]=\"encounterType === e.display\">\n              {{e.display}}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"form-group\">\n          <label>Description</label>\n          <textarea class=\"form-control\" rows=\"4\" formControlName=\"description\"></textarea>\n        </div>\n      </form>\n    </div>\n    <div class=\"modal-footer\">\n      <button class=\"btn btn-primary\" (click)=\"save(form.value)\">OK</button>\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n        Cancel\n      </button>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/save-form-modal/save-form-modal.ts":
/*!***********************************************************!*\
  !*** ./src/app/modals/save-form-modal/save-form-modal.ts ***!
  \***********************************************************/
/*! exports provided: SaveFormsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveFormsComponent", function() { return SaveFormsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Services/openmrs-api/save-form.service */ "./src/app/Services/openmrs-api/save-form.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _form_editor_snackbar_saved_snackbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../form-editor/snackbar/saved-snackbar */ "./src/app/form-editor/snackbar/saved-snackbar.ts");
/* harmony import */ var _Services_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Services/constants */ "./src/app/Services/constants.ts");









var SaveFormsComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SaveFormsComponent, _super);
    function SaveFormsComponent(dialogService, saveFormService, fb, snackbar) {
        var _this = _super.call(this, dialogService) || this;
        _this.saveFormService = saveFormService;
        _this.fb = fb;
        _this.snackbar = snackbar;
        return _this;
    }
    SaveFormsComponent.prototype.ngOnInit = function () {
        var _this = this;
        lodash__WEBPACK_IMPORTED_MODULE_4__["includes"](this.name, 'component')
            ? (this.formType = _Services_constants__WEBPACK_IMPORTED_MODULE_8__["Constants"].COMPONENT)
            : (this.formType = _Services_constants__WEBPACK_IMPORTED_MODULE_8__["Constants"].POC);
        this.encounterTypes.forEach(function (encounterType) {
            if (encounterType.display === _this.encounterType) {
                _this.encounterTypeUUID = encounterType.uuid;
            }
        });
        this.form = this.fb.group({
            name: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.name || '', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required),
            version: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.version || '', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required),
            encounter: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.encounterType || ''),
            description: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.description || '')
        });
    };
    SaveFormsComponent.prototype.save = function (formValue) {
        var _this = this;
        if (this.operation === 'overwrite') {
            if (this.name !== formValue.name) {
                this.updateName(formValue.name, this.uuid).subscribe(function (res) {
                    _this.updateForm();
                });
            }
            if (this.version !== formValue.version) {
                this.saveFormService
                    .updateVersion(formValue.version, this.uuid)
                    .subscribe(function (res) {
                    _this.updateForm();
                });
            }
            if (this.encounterType !== formValue.encounter) {
                var encType = lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.encounterTypes, function (encounterType) {
                    return encounterType.display === formValue.encounter;
                });
                if (encType) {
                    this.saveFormService
                        .updateEncounterType(encType, this.uuid)
                        .subscribe(function (res) {
                        _this.updateForm();
                    });
                }
                else {
                    this.updateForm();
                }
            }
            else {
                this.updateForm();
            }
        }
        if (this.operation === 'new') {
            this.uuid = undefined;
            this.createForm(formValue);
        }
        this.result = true;
        _super.prototype.close.call(this);
    };
    // keyDownFunction($event,form){
    //   if($event.keyCode==13&&form.valid)
    //       this.save(form);
    // }
    SaveFormsComponent.prototype.showDoneSnackBar = function () {
        this.snackbar.openFromComponent(_form_editor_snackbar_saved_snackbar__WEBPACK_IMPORTED_MODULE_7__["SaveSnackbarComponent"], { duration: 2000 });
    };
    SaveFormsComponent.prototype.close = function () {
        this.result = false;
        _super.prototype.close.call(this);
    };
    // save form with same version (overwrite)
    SaveFormsComponent.prototype.updateForm = function () {
        var _this = this;
        this.saveFormService
            .deleteClobData(this.valueReference)
            .catch(function (error) { return console.error('Unable to delete clob data.'); })
            .then(function (res) {
            _this.saveFormService
                .deleteResource(_this.uuid, _this.resourceUUID)
                .catch(function (error) { return console.error('Unable to delete resource uuid. '); })
                .then(function () {
                _this.saveFormService
                    .uploadSchema(_this.rawSchema)
                    .subscribe(function (valueReference) {
                    _this.saveFormService.setNewValueReference(valueReference);
                    _this.saveFormService
                        .getResourceUUID(_this.uuid, valueReference)
                        .subscribe(function (resourceUUID) {
                        var parsedRes = JSON.parse(resourceUUID);
                        _this.saveFormService.setNewResourceUUID(parsedRes.uuid);
                        _this.showDoneSnackBar();
                    });
                });
            });
        });
    };
    // create new form/ update form version
    SaveFormsComponent.prototype.createForm = function (form) {
        var _this = this;
        if (form.encounter) {
            this.encounterTypes.forEach(function (encounterType) {
                if (encounterType.display === form.encounter) {
                    _this.encounterTypeUUID = encounterType.uuid;
                }
            });
        }
        else {
            this.encounterTypeUUID = undefined;
        }
        this.saveFormService
            .uploadSchema(this.rawSchema)
            .subscribe(function (valueReference) {
            _this.saveFormService
                .saveNewForm(form.name, form.version, false, form.description, _this.encounterTypeUUID)
                .subscribe(function (createdForm) {
                var parsedRes = createdForm;
                if (createdForm._body) {
                    parsedRes = JSON.parse(createdForm._body);
                }
                _this.saveFormService.setNewFormUUID(parsedRes.uuid);
                _this.saveFormService
                    .getResourceUUID(parsedRes.uuid, valueReference)
                    .subscribe(function (resourceUUID) {
                    // tslint:disable-next-line:no-shadowed-variable
                    var toSave = JSON.parse(resourceUUID);
                    _this.saveFormService.setNewResourceUUID(toSave.uuid);
                    _this.showDoneSnackBar();
                });
            });
        });
    };
    SaveFormsComponent.prototype.updateName = function (name, uuid) {
        return this.saveFormService.updateName(name, uuid);
    };
    SaveFormsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'save-form',
            template: __webpack_require__(/*! ./save-form-modal.html */ "./src/app/modals/save-form-modal/save-form-modal.html")
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _Services_openmrs_api_save_form_service__WEBPACK_IMPORTED_MODULE_5__["SaveFormService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatSnackBar"]])
    ], SaveFormsComponent);
    return SaveFormsComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/schema-editor.modal.ts":
/*!***********************************************!*\
  !*** ./src/app/modals/schema-editor.modal.ts ***!
  \***********************************************/
/*! exports provided: SchemaModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SchemaModalComponent", function() { return SchemaModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var SchemaModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SchemaModalComponent, _super);
    function SchemaModalComponent(dialogService, fb) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        return _this;
    }
    SchemaModalComponent.prototype.ngOnInit = function () {
        this.editor.getEditor().setOptions({
            printMargin: false,
            readOnly: true
        });
        this.editor.setTheme('chrome');
        this.editor.setMode('json');
        this.editor.getEditor().setFontSize(16);
        this.editor.setText(this.schema);
        this.editor.getEditor().scrollToLine(0);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('editor'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SchemaModalComponent.prototype, "editor", void 0);
    SchemaModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: "<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n        <h4 class=\"modal-title\">{{ title }}</h4>\n      </div>\n      <div class=\"modal-body\">\n        <ace-editor\n          #editor\n          style=\"height:70vh; width:100%; overflow:auto;\"\n        ></ace-editor>\n      </div>\n    </div>\n  </div>",
            styles: ["\n      .modal-dialog {\n        overflow-y: initial !important;\n      }\n      .modal-body {\n        overflow-y: auto;\n      }\n    "]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]])
    ], SchemaModalComponent);
    return SchemaModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/set-members-modal/set-members-modal.component.css":
/*!**************************************************************************!*\
  !*** ./src/app/modals/set-members-modal/set-members-modal.component.css ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog {\n  overflow-y: initial !important;\n  width: 700px;\n}\n.modal-content {\n  height: 550px;\n  overflow-y: auto;\n}\n/* Hiding the checkbox, but allowing it to be focused */\n.badgebox {\n  opacity: 0;\n}\n.badgebox + .badge {\n  /* Move the check mark away when unchecked */\n  text-indent: -999999px;\n  /* Makes the badge's width stay the same checked and unchecked */\n  width: 27px;\n}\n.badgebox:focus + .badge {\n  /* Set something to make the badge looks focused */\n  /* This really depends on the application, in my case it was: */\n\n  /* Adding a light border */\n  box-shadow: inset 0px 0px 5px;\n  /* Taking the difference out of the padding */\n}\n.badgebox:checked + .badge {\n  /* Move the check mark back when checked */\n  text-indent: 0;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3NldC1tZW1iZXJzLW1vZGFsL3NldC1tZW1iZXJzLW1vZGFsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw4QkFBOEI7RUFDOUIsWUFBWTtBQUNkO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0FBQ2xCO0FBQ0EsdURBQXVEO0FBQ3ZEO0VBQ0UsVUFBVTtBQUNaO0FBRUE7RUFDRSw0Q0FBNEM7RUFDNUMsc0JBQXNCO0VBQ3RCLGdFQUFnRTtFQUNoRSxXQUFXO0FBQ2I7QUFFQTtFQUNFLGtEQUFrRDtFQUNsRCwrREFBK0Q7O0VBRS9ELDBCQUEwQjtFQUMxQiw2QkFBNkI7RUFDN0IsNkNBQTZDO0FBQy9DO0FBRUE7RUFDRSwwQ0FBMEM7RUFDMUMsY0FBYztBQUNoQiIsImZpbGUiOiJzcmMvYXBwL21vZGFscy9zZXQtbWVtYmVycy1tb2RhbC9zZXQtbWVtYmVycy1tb2RhbC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsLWRpYWxvZyB7XG4gIG92ZXJmbG93LXk6IGluaXRpYWwgIWltcG9ydGFudDtcbiAgd2lkdGg6IDcwMHB4O1xufVxuLm1vZGFsLWNvbnRlbnQge1xuICBoZWlnaHQ6IDU1MHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuLyogSGlkaW5nIHRoZSBjaGVja2JveCwgYnV0IGFsbG93aW5nIGl0IHRvIGJlIGZvY3VzZWQgKi9cbi5iYWRnZWJveCB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5iYWRnZWJveCArIC5iYWRnZSB7XG4gIC8qIE1vdmUgdGhlIGNoZWNrIG1hcmsgYXdheSB3aGVuIHVuY2hlY2tlZCAqL1xuICB0ZXh0LWluZGVudDogLTk5OTk5OXB4O1xuICAvKiBNYWtlcyB0aGUgYmFkZ2UncyB3aWR0aCBzdGF5IHRoZSBzYW1lIGNoZWNrZWQgYW5kIHVuY2hlY2tlZCAqL1xuICB3aWR0aDogMjdweDtcbn1cblxuLmJhZGdlYm94OmZvY3VzICsgLmJhZGdlIHtcbiAgLyogU2V0IHNvbWV0aGluZyB0byBtYWtlIHRoZSBiYWRnZSBsb29rcyBmb2N1c2VkICovXG4gIC8qIFRoaXMgcmVhbGx5IGRlcGVuZHMgb24gdGhlIGFwcGxpY2F0aW9uLCBpbiBteSBjYXNlIGl0IHdhczogKi9cblxuICAvKiBBZGRpbmcgYSBsaWdodCBib3JkZXIgKi9cbiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCA1cHg7XG4gIC8qIFRha2luZyB0aGUgZGlmZmVyZW5jZSBvdXQgb2YgdGhlIHBhZGRpbmcgKi9cbn1cblxuLmJhZGdlYm94OmNoZWNrZWQgKyAuYmFkZ2Uge1xuICAvKiBNb3ZlIHRoZSBjaGVjayBtYXJrIGJhY2sgd2hlbiBjaGVja2VkICovXG4gIHRleHQtaW5kZW50OiAwO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/modals/set-members-modal/set-members-modal.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/modals/set-members-modal/set-members-modal.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-dialog\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <button class=\"close\" type=\"button\" (click)=\"close()\">&times;</button>\n\n      <div style=\"display: inline-block\">\n        <h4 class=\"modal-title\">Set Members</h4>\n      </div>\n      <!-- <div style=\"display:inline-block; margin-left:10px;\">\n        <label for=\"primary\" class=\"btn btn-primary\">Select All<input (change)=\"selectAll($event)\" type=\"checkbox\" id=\"primary\" class=\"badgebox\"><span class=\"badge\"><i class=\"fa fa-check\"></i></span></label>\n      </div> -->\n    </div>\n    <div class=\"modal-body\">\n      <form>\n        <div *ngFor=\"let setMember of setMembers; let i = index\">\n          <div class=\"checkbox\" style=\"margin-left: 20px\">\n            <div\n              *ngIf=\"setMember.answers.length > 0\"\n              style=\"float: right; margin-bottom: 5px\"\n            >\n              <button\n                class=\"btn btn-success\"\n                [attr.data-target]=\"'#answer' + i\"\n                data-toggle=\"collapse\"\n                [disabled]=\"!isQuestionChecked(i)\"\n              >\n                Answers <i class=\"fa fa-chevron-down\"></i>\n              </button>\n            </div>\n\n            <div>\n              <h5>\n                <input\n                  type=\"checkbox\"\n                  #label+i\n                  (change)=\"setQuestions($event, i)\"\n                  [checked]=\"checked\"\n                /><b> Question {{ i + 1 }} </b>\n              </h5>\n            </div>\n\n            <div class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                #questionLabel\n                [value]=\"setMember.display\"\n              />\n            </div>\n            <br />\n            <div\n              class=\"answers\"\n              [id]=\"'answer' + i\"\n              class=\"collapse\"\n              *ngIf=\"setMember.answers && isQuestionChecked(i)\"\n              style=\"margin-left: 30px\"\n            >\n              <div *ngFor=\"let answer of setMember.answers; let j = index\">\n                <div class=\"checkbox\">\n                  <h6>\n                    <input\n                      type=\"checkbox\"\n                      (change)=\"setAnswers($event, i, j)\"\n                    />\n                    Answer {{ j + 1 }}\n                  </h6>\n                  <div class=\"form-group\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      #answerLabel\n                      [value]=\"answer.display\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <hr />\n        </div>\n        <div class=\"modal-footer\">\n          <button (click)=\"save()\" class=\"btn btn-primary\">OK</button>\n          <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/set-members-modal/set-members-modal.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/modals/set-members-modal/set-members-modal.component.ts ***!
  \*************************************************************************/
/*! exports provided: SetMembersModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetMembersModalComponent", function() { return SetMembersModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Services/openmrs-api/concept.service */ "./src/app/Services/openmrs-api/concept.service.ts");





var SetMembersModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SetMembersModalComponent, _super);
    function SetMembersModalComponent(dialogService, fb, cs, cdRef) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.cs = cs;
        _this.cdRef = cdRef;
        _this.questionsChecked = [];
        return _this;
    }
    SetMembersModalComponent.prototype.ngOnInit = function () { };
    SetMembersModalComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    SetMembersModalComponent.prototype.save = function () {
        this.result = JSON.stringify(this.questionsChecked);
        this.questionsChecked = [];
        this.close();
    };
    SetMembersModalComponent.prototype.setQuestions = function (event, i) {
        var _this = this;
        if (event.target.checked) {
            var question = {
                label: this.setMembers[i].display,
                concept: this.setMembers[i].uuid,
                answers: []
            };
            this.questionsChecked.push(question);
        }
        else {
            this.questionsChecked.forEach(function (question, index) {
                if (question.concept === _this.setMembers[i].uuid) {
                    _this.questionsChecked.splice(index, 1);
                    return;
                }
            });
        }
    };
    SetMembersModalComponent.prototype.setAnswers = function (event, i, j) {
        var _this = this;
        var $ans = this.setMembers[i].answers[j];
        if (event.target.checked) {
            var answer_1 = {
                label: $ans.display,
                concept: $ans.uuid,
                conceptMappings: this.cs.createMappingsValue($ans.mappings)
            };
            this.questionsChecked.forEach(function (question, index) {
                if (question.concept === _this.setMembers[i].uuid &&
                    question.answers.indexOf(answer_1) === -1) {
                    _this.questionsChecked[index]['answers'].push(answer_1);
                    return;
                }
            });
        }
        else {
            this.questionsChecked.forEach(function (question, qIndex) {
                question.answers.forEach(function (answer, aIndex) {
                    if (answer.concept === _this.setMembers[i].answers[j].uuid) {
                        _this.questionsChecked[qIndex].answers.splice(aIndex, 1);
                        return;
                    }
                });
            });
        }
    };
    SetMembersModalComponent.prototype.isQuestionChecked = function (index) {
        var _this = this;
        var isChecked = false;
        this.questionsChecked.forEach(function (question) {
            if (_this.setMembers[index].display === question.label) {
                isChecked = true;
            }
        });
        return isChecked;
    };
    SetMembersModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'set-members-modal',
            template: __webpack_require__(/*! ./set-members-modal.component.html */ "./src/app/modals/set-members-modal/set-members-modal.component.html"),
            styles: [__webpack_require__(/*! ./set-members-modal.component.css */ "./src/app/modals/set-members-modal/set-members-modal.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _Services_openmrs_api_concept_service__WEBPACK_IMPORTED_MODULE_4__["ConceptService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], SetMembersModalComponent);
    return SetMembersModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.css":
/*!******************************************************************************************!*\
  !*** ./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.css ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@media (min-width: 768px) {\n  .modal-xl {\n    width: 90%;\n    margin: auto;\n    max-width: 1200px;\n  }\n}\n\n.modal-body {\n  overflow-y: scroll;\n  max-height: 800px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3VwZGF0ZS1mb3Jtcy13aXphcmQtbW9kYWwvdXBkYXRlLWZvcm1zLXdpemFyZC1tb2RhbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsWUFBWTtJQUNaLGlCQUFpQjtFQUNuQjtBQUNGOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL21vZGFscy91cGRhdGUtZm9ybXMtd2l6YXJkLW1vZGFsL3VwZGF0ZS1mb3Jtcy13aXphcmQtbW9kYWwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAubW9kYWwteGwge1xuICAgIHdpZHRoOiA5MCU7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIG1heC13aWR0aDogMTIwMHB4O1xuICB9XG59XG5cbi5tb2RhbC1ib2R5IHtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICBtYXgtaGVpZ2h0OiA4MDBweDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-xl\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <button type=\"button\" class=\"close\" (click)=\"close()\">&times;</button>\n      <h4 class=\"modal-title\">Update Forms Wizard</h4>\n    </div>\n    <div class=\"modal-body\">\n      <app-update-forms-wizard\n        [_selectedForms]=\"selectedForms\"\n        [_newComponentMetadata]=\"componentMetadata\"\n        [_oldComponentMetadata]=\"oldComponentUUID\"\n        (finished)=\"finish($event)\"\n      ></app-update-forms-wizard>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: UpdateFormsWizardModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateFormsWizardModalComponent", function() { return UpdateFormsWizardModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-bootstrap-modal */ "./node_modules/ng2-bootstrap-modal/index.js");
/* harmony import */ var ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var UpdateFormsWizardModalComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](UpdateFormsWizardModalComponent, _super);
    function UpdateFormsWizardModalComponent(dialogService, fb, cdRef) {
        var _this = _super.call(this, dialogService) || this;
        _this.fb = fb;
        _this.cdRef = cdRef;
        return _this;
    }
    UpdateFormsWizardModalComponent.prototype.ngOnInit = function () { };
    UpdateFormsWizardModalComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    UpdateFormsWizardModalComponent.prototype.finish = function ($event) {
        this.result = 'finished';
        if ($event) {
            _super.prototype.close.call(this);
        }
    };
    UpdateFormsWizardModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            // tslint:disable-next-line:component-selector
            selector: 'prompt',
            template: __webpack_require__(/*! ./update-forms-wizard-modal.component.html */ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.html"),
            styles: [__webpack_require__(/*! ./update-forms-wizard-modal.component.css */ "./src/app/modals/update-forms-wizard-modal/update-forms-wizard-modal.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], UpdateFormsWizardModalComponent);
    return UpdateFormsWizardModalComponent;
}(ng2_bootstrap_modal__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/pipes/search-form-filter.pipe.ts":
/*!**************************************************!*\
  !*** ./src/app/pipes/search-form-filter.pipe.ts ***!
  \**************************************************/
/*! exports provided: SearchFormFilterPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchFormFilterPipe", function() { return SearchFormFilterPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);



var SearchFormFilterPipe = /** @class */ (function () {
    function SearchFormFilterPipe() {
    }
    SearchFormFilterPipe.prototype.transform = function (forms, value, filter) {
        if (!forms || value === '') {
            return forms;
        }
        value = value.toLowerCase();
        if (lodash__WEBPACK_IMPORTED_MODULE_2__["isUndefined"](filter) || lodash__WEBPACK_IMPORTED_MODULE_2__["isEqual"](filter, 'name')) {
            return lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](forms, function (form) {
                return lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](form['name'].toLowerCase(), value);
            });
        }
        else if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEqual"](filter, 'published')) {
            return lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](forms, function (form) {
                return lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](form['name'].toLowerCase(), value) &&
                    form['published'] === true;
            });
        }
        else if (lodash__WEBPACK_IMPORTED_MODULE_2__["isEqual"](filter, 'version')) {
            return lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](forms, function (form) {
                return lodash__WEBPACK_IMPORTED_MODULE_2__["includes"](form['name'].toLowerCase(), value);
            });
        }
    };
    SearchFormFilterPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'formfilter'
        })
    ], SearchFormFilterPipe);
    return SearchFormFilterPipe;
}());



/***/ }),

/***/ "./src/app/pipes/string_to_number.pipe.ts":
/*!************************************************!*\
  !*** ./src/app/pipes/string_to_number.pipe.ts ***!
  \************************************************/
/*! exports provided: Str2Num */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Str2Num", function() { return Str2Num; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var Str2Num = /** @class */ (function () {
    function Str2Num() {
    }
    Str2Num.prototype.transform = function (input) {
        var num = parseFloat(input);
        if (num === 0.01) {
            return parseFloat('1.0');
        }
        else {
            return num + 0.1;
        }
    };
    Str2Num = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({ name: 'str2num' })
    ], Str2Num);
    return Str2Num;
}());



/***/ }),

/***/ "./src/app/shared-module.ts":
/*!**********************************!*\
  !*** ./src/app/shared-module.ts ***!
  \**********************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_form_editor_navigator_navigator_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app/form-editor/navigator/navigator.component */ "./src/app/form-editor/navigator/navigator.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_material_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app-material-module */ "./src/app/app-material-module.ts");
/* harmony import */ var ng2_ace_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-ace-editor */ "./node_modules/ng2-ace-editor/index.js");
/* harmony import */ var ngx_clipboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-clipboard */ "./node_modules/ngx-clipboard/fesm5/ngx-clipboard.js");
/* harmony import */ var ngx_bootstrap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-bootstrap */ "./node_modules/ngx-bootstrap/esm5/ngx-bootstrap.js");
/* harmony import */ var _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Services/storage/local-storage.service */ "./src/app/Services/storage/local-storage.service.ts");
/* harmony import */ var _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Services/storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _Services_storage_session_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Services/storage/session.service */ "./src/app/Services/storage/session.service.ts");
/* harmony import */ var ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-openmrs-formentry/dist/ngx-formentry */ "./node_modules/ngx-openmrs-formentry/dist/ngx-formentry/fesm5/ngx-openmrs-formentry.js");













var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_app_form_editor_navigator_navigator_component__WEBPACK_IMPORTED_MODULE_3__["NavigatorComponent"]],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _app_material_module__WEBPACK_IMPORTED_MODULE_5__["AppMaterialModule"],
                ng2_ace_editor__WEBPACK_IMPORTED_MODULE_6__["AceEditorModule"],
                ngx_clipboard__WEBPACK_IMPORTED_MODULE_7__["ClipboardModule"],
                ngx_bootstrap__WEBPACK_IMPORTED_MODULE_8__["TypeaheadModule"].forRoot(),
                ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_12__["FormEntryModule"]
            ],
            exports: [
                _app_form_editor_navigator_navigator_component__WEBPACK_IMPORTED_MODULE_3__["NavigatorComponent"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _app_material_module__WEBPACK_IMPORTED_MODULE_5__["AppMaterialModule"],
                ng2_ace_editor__WEBPACK_IMPORTED_MODULE_6__["AceEditorModule"],
                ngx_clipboard__WEBPACK_IMPORTED_MODULE_7__["ClipboardModule"],
                ngx_bootstrap__WEBPACK_IMPORTED_MODULE_8__["TypeaheadModule"],
                ngx_openmrs_formentry_dist_ngx_formentry__WEBPACK_IMPORTED_MODULE_12__["FormEntryModule"]
            ],
            providers: [_Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_9__["LocalStorageService"], _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_10__["SessionStorageService"], _Services_storage_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"]]
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/view-forms/view-forms.component.css":
/*!*****************************************************!*\
  !*** ./src/app/view-forms/view-forms.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".panel {\n  background-color: #fff;\n  box-shadow: 0px 2px 2px #aaa;\n  border-color: lightgray;\n}\n.panel-table .panel-body {\n  padding: 0;\n  /* background-color:#fff;\n    box-shadow:0px 2px 2px #aaa; */\n}\n.panel-table .panel-body .table-bordered {\n  border-style: none;\n  margin: 0;\n}\n.panel-table .panel-body .table-bordered > thead > tr > th:first-of-type {\n  text-align: center;\n  width: 100px;\n}\n.panel-table .panel-body .table-bordered > thead > tr > th:last-of-type,\n.panel-table .panel-body .table-bordered > tbody > tr > td:last-of-type {\n  border-right: 0px;\n}\n.panel-table .panel-body .table-bordered > thead > tr > th:first-of-type,\n.panel-table .panel-body .table-bordered > tbody > tr > td:first-of-type {\n  border-left: 0px;\n}\n.panel-table .panel-body .table-bordered > tbody > tr:first-of-type > td {\n  border-bottom: 0px;\n}\n.panel-table .panel-body .table-bordered > thead > tr:first-of-type > th {\n  border-top: 0px;\n}\n.panel-table .panel-footer .pagination {\n  margin: 0;\n}\n.panel-primary > .panel-heading {\n  color: #fff;\n  background-color: #3f51b5;\n  border-color: #808080;\n}\n/*\n  used to vertically center elements, may need modification if you're not using default sizes.\n  */\n.panel-table .panel-footer .col {\n  line-height: 34px;\n  height: 34px;\n}\n.panel-table .panel-heading .col h3 {\n  line-height: 30px;\n  height: 30px;\n}\n.panel-table .panel-body .table-bordered > tbody > tr > td {\n  line-height: 34px;\n}\n.formName {\n  font-size: 14px;\n}\n.stylish-input-group .input-group-addon {\n  background: white !important;\n}\n.stylish-input-group .form-control {\n  border-right: 0;\n  box-shadow: 0 0 0;\n  border-color: #ccc;\n}\n.stylish-input-group button {\n  border: 0;\n  background: transparent;\n}\n.material-icons.edit {\n  color: green;\n}\n.navbar-btn {\n  margin: 5px 5px 0px 5px;\n}\n.btn.btn-circle {\n  border-radius: 5px;\n}\n.btn-create {\n  color: #1ac91a;\n}\n/* .navbar-nav.navbar-right .btn:not(.collapsed) {\n    background-color: rgb(111, 84, 153);\n    border-color: rgb(111, 84, 153);\n    color: rgb(255, 255, 255);\n} */\na:hover {\n  text-decoration: none;\n}\n.panel-title {\n  color: black;\n}\n.restoreMsg {\n  margin-top: 10px;\n  padding-left: 30px;\n  padding-right: 30px;\n}\n.menuItem {\n  font-weight: 500;\n  color: white;\n  font-family: 'Roboto';\n  font-size: 14px;\n}\n.name {\n  font-size: 18px;\n  color: white;\n  font-weight: 600;\n}\n.space {\n  margin-left: 50px;\n}\nmat-card {\n  color: #3c763d;\n  background-color: #dff0d8;\n  border-color: #d6e9c6;\n  margin: 5px 5px 5px 50px;\n}\n.fill {\n  flex: 1 1 auto;\n}\n.dropdown-menu {\n  color: black;\n  font-family: 'Roboto';\n  font-weight: 500;\n}\n.dropdown-menu > li {\n  margin-left: 5px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy1mb3Jtcy92aWV3LWZvcm1zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBc0I7RUFDdEIsNEJBQTRCO0VBQzVCLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UsVUFBVTtFQUNWO2tDQUNnQztBQUNsQztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7QUFDWDtBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDtBQUVBOztFQUVFLGlCQUFpQjtBQUNuQjtBQUVBOztFQUVFLGdCQUFnQjtBQUNsQjtBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBRUE7RUFDRSxlQUFlO0FBQ2pCO0FBRUE7RUFDRSxTQUFTO0FBQ1g7QUFFQTtFQUNFLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIscUJBQXFCO0FBQ3ZCO0FBRUE7O0dBRUc7QUFDSDtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUVBO0VBQ0UsZUFBZTtBQUNqQjtBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsU0FBUztFQUNULHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSx1QkFBdUI7QUFDekI7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsY0FBYztBQUNoQjtBQUNBOzs7O0dBSUc7QUFDSDtFQUNFLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjtBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixxQkFBcUI7RUFDckIsZUFBZTtBQUNqQjtBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsY0FBYztFQUNkLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsd0JBQXdCO0FBQzFCO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvdmlldy1mb3Jtcy92aWV3LWZvcm1zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFuZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3gtc2hhZG93OiAwcHggMnB4IDJweCAjYWFhO1xuICBib3JkZXItY29sb3I6IGxpZ2h0Z3JheTtcbn1cbi5wYW5lbC10YWJsZSAucGFuZWwtYm9keSB7XG4gIHBhZGRpbmc6IDA7XG4gIC8qIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcbiAgICBib3gtc2hhZG93OjBweCAycHggMnB4ICNhYWE7ICovXG59XG5cbi5wYW5lbC10YWJsZSAucGFuZWwtYm9keSAudGFibGUtYm9yZGVyZWQge1xuICBib3JkZXItc3R5bGU6IG5vbmU7XG4gIG1hcmdpbjogMDtcbn1cblxuLnBhbmVsLXRhYmxlIC5wYW5lbC1ib2R5IC50YWJsZS1ib3JkZXJlZCA+IHRoZWFkID4gdHIgPiB0aDpmaXJzdC1vZi10eXBlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwcHg7XG59XG5cbi5wYW5lbC10YWJsZSAucGFuZWwtYm9keSAudGFibGUtYm9yZGVyZWQgPiB0aGVhZCA+IHRyID4gdGg6bGFzdC1vZi10eXBlLFxuLnBhbmVsLXRhYmxlIC5wYW5lbC1ib2R5IC50YWJsZS1ib3JkZXJlZCA+IHRib2R5ID4gdHIgPiB0ZDpsYXN0LW9mLXR5cGUge1xuICBib3JkZXItcmlnaHQ6IDBweDtcbn1cblxuLnBhbmVsLXRhYmxlIC5wYW5lbC1ib2R5IC50YWJsZS1ib3JkZXJlZCA+IHRoZWFkID4gdHIgPiB0aDpmaXJzdC1vZi10eXBlLFxuLnBhbmVsLXRhYmxlIC5wYW5lbC1ib2R5IC50YWJsZS1ib3JkZXJlZCA+IHRib2R5ID4gdHIgPiB0ZDpmaXJzdC1vZi10eXBlIHtcbiAgYm9yZGVyLWxlZnQ6IDBweDtcbn1cblxuLnBhbmVsLXRhYmxlIC5wYW5lbC1ib2R5IC50YWJsZS1ib3JkZXJlZCA+IHRib2R5ID4gdHI6Zmlyc3Qtb2YtdHlwZSA+IHRkIHtcbiAgYm9yZGVyLWJvdHRvbTogMHB4O1xufVxuXG4ucGFuZWwtdGFibGUgLnBhbmVsLWJvZHkgLnRhYmxlLWJvcmRlcmVkID4gdGhlYWQgPiB0cjpmaXJzdC1vZi10eXBlID4gdGgge1xuICBib3JkZXItdG9wOiAwcHg7XG59XG5cbi5wYW5lbC10YWJsZSAucGFuZWwtZm9vdGVyIC5wYWdpbmF0aW9uIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4ucGFuZWwtcHJpbWFyeSA+IC5wYW5lbC1oZWFkaW5nIHtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7XG4gIGJvcmRlci1jb2xvcjogIzgwODA4MDtcbn1cblxuLypcbiAgdXNlZCB0byB2ZXJ0aWNhbGx5IGNlbnRlciBlbGVtZW50cywgbWF5IG5lZWQgbW9kaWZpY2F0aW9uIGlmIHlvdSdyZSBub3QgdXNpbmcgZGVmYXVsdCBzaXplcy5cbiAgKi9cbi5wYW5lbC10YWJsZSAucGFuZWwtZm9vdGVyIC5jb2wge1xuICBsaW5lLWhlaWdodDogMzRweDtcbiAgaGVpZ2h0OiAzNHB4O1xufVxuXG4ucGFuZWwtdGFibGUgLnBhbmVsLWhlYWRpbmcgLmNvbCBoMyB7XG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG59XG5cbi5wYW5lbC10YWJsZSAucGFuZWwtYm9keSAudGFibGUtYm9yZGVyZWQgPiB0Ym9keSA+IHRyID4gdGQge1xuICBsaW5lLWhlaWdodDogMzRweDtcbn1cblxuLmZvcm1OYW1lIHtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uc3R5bGlzaC1pbnB1dC1ncm91cCAuaW5wdXQtZ3JvdXAtYWRkb24ge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuLnN0eWxpc2gtaW5wdXQtZ3JvdXAgLmZvcm0tY29udHJvbCB7XG4gIGJvcmRlci1yaWdodDogMDtcbiAgYm94LXNoYWRvdzogMCAwIDA7XG4gIGJvcmRlci1jb2xvcjogI2NjYztcbn1cbi5zdHlsaXNoLWlucHV0LWdyb3VwIGJ1dHRvbiB7XG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4ubWF0ZXJpYWwtaWNvbnMuZWRpdCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cbi5uYXZiYXItYnRuIHtcbiAgbWFyZ2luOiA1cHggNXB4IDBweCA1cHg7XG59XG5cbi5idG4uYnRuLWNpcmNsZSB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cbi5idG4tY3JlYXRlIHtcbiAgY29sb3I6ICMxYWM5MWE7XG59XG4vKiAubmF2YmFyLW5hdi5uYXZiYXItcmlnaHQgLmJ0bjpub3QoLmNvbGxhcHNlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMTEsIDg0LCAxNTMpO1xuICAgIGJvcmRlci1jb2xvcjogcmdiKDExMSwgODQsIDE1Myk7XG4gICAgY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcbn0gKi9cbmE6aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4ucGFuZWwtdGl0bGUge1xuICBjb2xvcjogYmxhY2s7XG59XG4ucmVzdG9yZU1zZyB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHBhZGRpbmctbGVmdDogMzBweDtcbiAgcGFkZGluZy1yaWdodDogMzBweDtcbn1cblxuLm1lbnVJdGVtIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LWZhbWlseTogJ1JvYm90byc7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLm5hbWUge1xuICBmb250LXNpemU6IDE4cHg7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5zcGFjZSB7XG4gIG1hcmdpbi1sZWZ0OiA1MHB4O1xufVxubWF0LWNhcmQge1xuICBjb2xvcjogIzNjNzYzZDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcbiAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xuICBtYXJnaW46IDVweCA1cHggNXB4IDUwcHg7XG59XG4uZmlsbCB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufVxuLmRyb3Bkb3duLW1lbnUge1xuICBjb2xvcjogYmxhY2s7XG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJztcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbi5kcm9wZG93bi1tZW51ID4gbGkge1xuICBtYXJnaW4tbGVmdDogNXB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/view-forms/view-forms.component.html":
/*!******************************************************!*\
  !*** ./src/app/view-forms/view-forms.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\n  <span class=\"menu\" style=\"font-size: 18px; font-family: 'Roboto'; color: white\">Form Builder</span>\n  <span style=\"margin-left: 15px\">\n    <button mat-button (click)=\"createNew()\" style=\"color: white; font-size: 14px\">\n      <i class=\"fa fa-plus-circle\"></i> Create New\n    </button>\n  </span>\n  <!-- <span style=\"margin-left: 15px;\">\n        <button mat-button (click)=\"download()\" style=\"color:white; font-size:14px;\"><i class=\"fa fa-download\"></i> Download</button>\n    </span> -->\n  <span class=\"fill\"></span>\n  <span class=\"dropdown\">\n    <button class=\"btn btn-info dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\n      <i class=\"fa fa-user\"></i> {{ username }} <span class=\"caret\"></span>\n    </button>\n    <ul class=\"dropdown-menu pull-right\">\n      <li>\n        <a (click)=\"logout()\"><i class=\"fa fa-sign-out\" style=\"color: red\"></i> Sign Out\n          <i [class.fa-spinner]=\"loggingOut\" [class.fa-spin]=\"loggingOut\" class=\"fa\"></i></a>\n      </li>\n    </ul>\n  </span>\n</mat-toolbar>\n\n<div class=\"container-f\">\n  <div class=\"restoreMsg\">\n    <div *ngIf=\"draftAvailable\">\n      <mat-card>\n        <div style=\"display: inline-block\">\n          <small style=\"font-size: 14px\">\n            <i class=\"fa fa-exclamation-circle fa-lg\"></i>\n            <b> {{ restoreMessage }}</b>\n          </small>\n        </div>\n        <div style=\"display: inline-block\" class=\"pull-right\">\n          <button class=\"btn btn-sm btn-primary\" (click)=\"restore()\">\n            Restore\n          </button>\n          <button class=\"btn btn-sm btn-danger\" (click)=\"discard()\">\n            Discard\n          </button>\n        </div>\n      </mat-card>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-10 col-md-offset-1\">\n      <div class=\"panel panel-primary panel-table\">\n        <div class=\"panel-heading\">\n          <div class=\"row\">\n            <div class=\"col col-xs-2\">\n              <select class=\"form-control panel-title\" (change)=\"onChange($event.target.value)\">\n                <option>POC Forms</option>\n                <option>Component Forms</option>\n              </select>\n            </div>\n\n            <div class=\"col col-xs-5 pull-right\">\n              <div class=\"input-group\">\n                <!-- Input -->\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchValue\" placeholder=\"Search\"\n                  id=\"search-box\" />\n                <span class=\"input-group-addon\" style=\"background: white; border-left: none\">\n                  <i class=\"fa fa-search\"></i>\n                </span>\n                <!-- Dropdown -->\n                <div class=\"input-group-btn\">\n                  <button type=\"button\" class=\"btn btn-default\" data-toggle=\"dropdown\">\n                    <i class=\"fa fa-filter\"></i> Filter<span class=\"caret\"></span>\n                  </button>\n                  <ul class=\"dropdown-menu pull-right\" role=\"menu\">\n                    <li>\n                      <input type=\"radio\" name=\"filter\" value=\"published\" [(ngModel)]=\"searchFilter\" />\n                      Published\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"panel-body\">\n          <table class=\"table table-striped table-bordered table-list\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Name</th>\n                <th width=\"7%\">Version</th>\n                <th width=\"7%\">Published</th>\n                <th width=\"7%\">Retired</th>\n                <th width=\"10%\">Actions</th>\n              </tr>\n            </thead>\n            <tbody *ngIf=\"forms.length > 0\">\n              <tr *ngFor=\"\n                  let form of forms\n                    | formfilter: searchValue:searchFilter\n                    | paginate: { itemsPerPage: 11, currentPage: page };\n                  let i = index\n                \">\n                <td class=\"formName\">\n                  <b>{{ form.name }}</b>\n                </td>\n                <td>{{ form.version }}</td>\n                <td>\n                  <label *ngIf=\"form.published\" class=\"label label-success\">Yes</label>\n                  <label *ngIf=\"!form.published\" class=\"label label-danger\">No</label>\n                </td>\n                <td>\n                  <label *ngIf=\"form.retired\" class=\"label label-danger\">Yes</label>\n                  <label *ngIf=\"!form.retired\" class=\"label label-success\">No</label>\n                </td>\n                <td *ngIf=\"\n                    form.resources.length === 0 ||\n                    !form.resources[0]?.valueReference\n                  \">\n                  <a style=\"cursor: pointer\">\n                    <i class=\"material-icons\" (click)=\"addSchema(form)\" data-toggle=\"tooltip\"\n                      title=\"No schema associated with this form. Import schema?\">note_add</i>\n                  </a>\n                </td>\n                <td *ngIf=\"\n                    form.resources.length > 0 ||\n                    form.resources[0]?.valueReference\n                  \">\n                  <a (click)=\"editForm(form, form.uuid)\" style=\"cursor: pointer\" data-toggle=\"tooltip\"\n                    title=\"Edit Schema\">\n                    <i class=\"material-icons edit\">mode_edit</i>\n                  </a>\n                  <a (click)=\"download(form.resources[0].valueReference)\" style=\"cursor: pointer\" data-toggle=\"tooltip\"\n                    title=\"Download Schema\">\n                    <i class=\"material-icons download\">get_app</i>\n                  </a>\n                </td>\n              </tr>\n            </tbody>\n\n            <tbody *ngIf=\"forms.length === 0\">\n              <td>{{ loadingMessage }}</td>\n              <td>-</td>\n              <td>-</td>\n              <td>-</td>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"panel-footer\">\n          <div class=\"row\">\n            <pagination-controls (pageChange)=\"page = $event\"></pagination-controls>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/view-forms/view-forms.component.ts":
/*!****************************************************!*\
  !*** ./src/app/view-forms/view-forms.component.ts ***!
  \****************************************************/
/*! exports provided: ViewFormsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewFormsComponent", function() { return ViewFormsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Services/openmrs-api/fetch-all-forms.service */ "./src/app/Services/openmrs-api/fetch-all-forms.service.ts");
/* harmony import */ var _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Services/openmrs-api/fetch-form-detail.service */ "./src/app/Services/openmrs-api/fetch-form-detail.service.ts");
/* harmony import */ var _Services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Services/authentication/authentication.service */ "./src/app/Services/authentication/authentication.service.ts");
/* harmony import */ var _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Services/storage/local-storage.service */ "./src/app/Services/storage/local-storage.service.ts");
/* harmony import */ var _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Services/storage/session-storage.service */ "./src/app/Services/storage/session-storage.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _Services_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Services/constants */ "./src/app/Services/constants.ts");
/* harmony import */ var _Services_form_list_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Services/form-list.service */ "./src/app/Services/form-list.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_12__);













var ViewFormsComponent = /** @class */ (function () {
    function ViewFormsComponent(fetchAllFormsService, router, sessionStorageService, fetchFormDetailService, auth, ls, formListService) {
        this.fetchAllFormsService = fetchAllFormsService;
        this.router = router;
        this.sessionStorageService = sessionStorageService;
        this.fetchFormDetailService = fetchFormDetailService;
        this.auth = auth;
        this.ls = ls;
        this.formListService = formListService;
        this.forms = [];
        this.POCForms = [];
        this.page = 1; // pagination
        this.loggingOut = false;
        this.searchValue = '';
        this.loadingMessage = 'Loading Forms...';
        this.restoreMessage = '';
        this.draftAvailable = false;
        this.formsWithoutSchemas = [];
        var user = sessionStorageService.getObject('user');
        this.username = user.username;
    }
    ViewFormsComponent.prototype.ngOnInit = function () {
        // this.subscription = this.fetchAllFormsService.resaveAllPOCSchemasToLocalStorage.subscribe((res) => {
        //   if (res) {
        //     this.fetchAllFormSchemas(this.POCForms);
        //   }
        // });
        this.fetchPOCForms();
        if (this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].RAW_SCHEMA) &&
            this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].SCHEMA)) {
            this.draftAvailable = true;
            var schema = this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].RAW_SCHEMA);
            var timestamp = void 0;
            if (this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].TIME_STAMP)) {
                timestamp = this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].TIME_STAMP);
            }
            this.restoreMessage = "Form " + this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].FORM_METADATA).name + " was last worked on at " + new Date(parseInt(timestamp, 10)).toLocaleDateString() + "\n    " + new Date(parseInt(timestamp, 10)).toLocaleTimeString() + " Would you like to continue working on this?";
        }
    };
    ViewFormsComponent.prototype.editForm = function (form, uuid) {
        if (lodash__WEBPACK_IMPORTED_MODULE_11__["includes"](this.componentForms, form)) {
            this.fetchAllFormsService.setFormType(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].COMPONENT);
        }
        else {
            this.fetchAllFormsService.setFormType(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].POC);
        }
        this.router.navigate(['/edit', uuid]);
    };
    ViewFormsComponent.prototype.createNew = function () {
        this.router.navigate(['/edit', 'new']);
    };
    ViewFormsComponent.prototype.logout = function () {
        var _this = this;
        this.loggingOut = true;
        this.auth
            .logOut()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(function (e) { return _this.router.navigate(['/login']); }))
            .subscribe(function (res) {
            _this.router.navigate(['/login']);
        });
    };
    ViewFormsComponent.prototype.discard = function () {
        this.draftAvailable = false;
        this.ls.remove(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].SCHEMA);
        this.ls.remove(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].RAW_SCHEMA);
        this.ls.remove(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].FORM_METADATA);
    };
    ViewFormsComponent.prototype.restore = function () {
        this.draft = this.ls.getObject(_Services_constants__WEBPACK_IMPORTED_MODULE_9__["Constants"].SCHEMA);
        this.router.navigate(['/edit', 'restoredForm']);
    };
    ViewFormsComponent.prototype.onChange = function ($event) {
        if ($event === 'Component Forms') {
            this.fetchComponentForms();
        }
        else {
            this.fetchPOCForms();
        }
    };
    ViewFormsComponent.prototype.fetchPOCForms = function () {
        var _this = this;
        this.subscription = this.fetchAllFormsService
            .fetchAllPOCForms()
            .subscribe(function (forms) {
            var f = forms.results;
            f.forEach(function (form, index) {
                _this.fetchFormDetailService
                    .fetchFormMetadata(form.uuid, false)
                    .then(function (res) {
                    if (!form.resources[0] || form.resources.length === 0) {
                        _this.formsWithoutSchemas.push(form.name);
                    }
                    else {
                        _this.POCForms.push(form);
                    }
                });
            });
            _this.POCForms = lodash__WEBPACK_IMPORTED_MODULE_11__["cloneDeep"](f);
            _this.forms = lodash__WEBPACK_IMPORTED_MODULE_11__["cloneDeep"](f);
            // this.fetchAllFormSchemas(this.POCForms);
            if (_this.forms.length === 0) {
                _this.loadingMessage = 'No forms to display';
            }
        });
    };
    ViewFormsComponent.prototype.fetchComponentForms = function () {
        var _this = this;
        this.subscription = this.fetchAllFormsService
            .fetchAllComponentForms()
            .subscribe(function (forms) {
            _this.forms = forms.results;
        });
    };
    // fetchAllFormSchemas(POCForms) {
    //     const date = new Date().getTime();
    //     let count = 0;
    //     const schemas = [];
    //     const numberOfPOCForms = POCForms.length;
    //     const $forms = _.cloneDeep(POCForms);
    //     if (this.ls.getObject('POC_FORM_SCHEMAS')) {
    //       this.ls.setObject('POC_FORM_SCHEMAS', []);
    //     }
    //     _.forEach(($forms), (formMetadata: any, index: number, form) => {
    //       if (formMetadata.resources.length > 0 && formMetadata.resources[0].valueReference) {
    //         this.fetchFormDetailService.fetchForm(formMetadata.resources[0].valueReference, true).then((schema) => {
    //           count = index;
    //           schemas.push({
    //             schema: schema,
    //             metadata: formMetadata
    //           });
    //           if (count === numberOfPOCForms - 1) {
    //             // this.fetchAllFormsService.setAllPOCFormSchemas(schemas);
    //             this.ls.setObject('POC_FORM_SCHEMAS', schemas);
    //             this.fetchAllFormsService.setPOCFormSchemas(schemas);
    //             const finishTime = (new Date().getTime() - date) / 1000;
    //             console.log('Done fetching schemas. Took ' + finishTime + 'seconds');
    //           }
    //         });
    //       }
    //     });
    //  }
    ViewFormsComponent.prototype.addSchema = function (form) {
        this.router.navigate(['/edit', form.uuid]);
    };
    ViewFormsComponent.prototype.download = function (valueReference) {
        this.fetchFormDetailService
            .fetchForm(valueReference, true)
            .then(function (schema) {
            var blob = new Blob([JSON.stringify(schema, null, '\t')], {
                type: 'application/json'
            });
            Object(file_saver__WEBPACK_IMPORTED_MODULE_12__["saveAs"])(blob, schema.name + ".json");
        });
    };
    ViewFormsComponent.prototype.navigateToTestPage = function () {
        this.router.navigate(['/test']);
    };
    ViewFormsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-view-forms',
            template: __webpack_require__(/*! ./view-forms.component.html */ "./src/app/view-forms/view-forms.component.html"),
            styles: [__webpack_require__(/*! ./view-forms.component.css */ "./src/app/view-forms/view-forms.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_Services_openmrs_api_fetch_all_forms_service__WEBPACK_IMPORTED_MODULE_3__["FetchAllFormsService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"],
            _Services_storage_session_storage_service__WEBPACK_IMPORTED_MODULE_7__["SessionStorageService"],
            _Services_openmrs_api_fetch_form_detail_service__WEBPACK_IMPORTED_MODULE_4__["FetchFormDetailService"],
            _Services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"],
            _Services_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_6__["LocalStorageService"],
            _Services_form_list_service__WEBPACK_IMPORTED_MODULE_10__["FormListService"]])
    ], ViewFormsComponent);
    return ViewFormsComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    date: '1634631641257',
    version: '1.0'
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/user/OpenMRS/Workspace/ngx-openmrs-formbuilder_openmrs/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map